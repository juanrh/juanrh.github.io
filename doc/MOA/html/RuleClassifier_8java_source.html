<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>MOA: main/java/moa/classifiers/rules/RuleClassifier.java Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.6.1 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="namespaces.html"><span>Packages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <img id="MSearchSelect" src="search/search.png"
             onmouseover="return searchBox.OnSearchSelectShow()"
             onmouseout="return searchBox.OnSearchSelectHide()"
             alt=""/>
        <input type="text" id="MSearchField" value="Search" accesskey="S"
             onfocus="searchBox.OnSearchFieldFocus(true)" 
             onblur="searchBox.OnSearchFieldFocus(false)" 
             onkeyup="searchBox.OnSearchFieldChange(event)"/>
        <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    </ul>
  </div>
<h1>main/java/moa/classifiers/rules/RuleClassifier.java</h1><a href="RuleClassifier_8java.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/*</span>
<a name="l00002"></a>00002 <span class="comment"> *    RuleClassifier.java</span>
<a name="l00003"></a>00003 <span class="comment"> *    Copyright (C) 2012 University of Porto, Portugal</span>
<a name="l00004"></a>00004 <span class="comment"> *    @author P. Kosina, E. Almeida, J. Gama</span>
<a name="l00005"></a>00005 <span class="comment"> *</span>
<a name="l00006"></a>00006 <span class="comment"> *    Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);</span>
<a name="l00007"></a>00007 <span class="comment"> *    you may not use this file except in compliance with the License.</span>
<a name="l00008"></a>00008 <span class="comment"> *    You may obtain a copy of the License at</span>
<a name="l00009"></a>00009 <span class="comment"> *</span>
<a name="l00010"></a>00010 <span class="comment"> *      http://www.apache.org/licenses/LICENSE-2.0</span>
<a name="l00011"></a>00011 <span class="comment"> *</span>
<a name="l00012"></a>00012 <span class="comment"> *    Unless required by applicable law or agreed to in writing, software</span>
<a name="l00013"></a>00013 <span class="comment"> *    distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</span>
<a name="l00014"></a>00014 <span class="comment"> *    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span>
<a name="l00015"></a>00015 <span class="comment"> *    See the License for the specific language governing permissions and</span>
<a name="l00016"></a>00016 <span class="comment"> *    limitations under the License.</span>
<a name="l00017"></a>00017 <span class="comment"> *    </span>
<a name="l00018"></a>00018 <span class="comment"> *    </span>
<a name="l00019"></a>00019 <span class="comment"> */</span>
<a name="l00020"></a>00020 
<a name="l00021"></a>00021 <span class="keyword">package </span>moa.classifiers.rules;
<a name="l00022"></a>00022 
<a name="l00023"></a>00023 <span class="keyword">import</span> java.math.BigDecimal;
<a name="l00024"></a>00024 <span class="keyword">import</span> java.util.*; 
<a name="l00025"></a>00025 
<a name="l00026"></a>00026 <span class="keyword">import</span> moa.classifiers.AbstractClassifier;
<a name="l00027"></a>00027 <span class="keyword">import</span> moa.classifiers.core.attributeclassobservers.*;
<a name="l00028"></a>00028 <span class="keyword">import</span> moa.classifiers.core.attributeclassobservers.BinaryTreeNumericAttributeClassObserver.Node;
<a name="l00029"></a>00029 <span class="keyword">import</span> moa.core.AutoExpandVector;
<a name="l00030"></a>00030 <span class="keyword">import</span> moa.core.DoubleVector;
<a name="l00031"></a>00031 <span class="keyword">import</span> moa.core.Measurement;
<a name="l00032"></a>00032 <span class="keyword">import</span> moa.core.StringUtils;
<a name="l00033"></a>00033 <span class="keyword">import</span> moa.options.FlagOption;
<a name="l00034"></a>00034 <span class="keyword">import</span> moa.options.FloatOption;
<a name="l00035"></a>00035 <span class="keyword">import</span> moa.options.IntOption;
<a name="l00036"></a>00036 <span class="keyword">import</span> moa.options.MultiChoiceOption;
<a name="l00037"></a>00037 <span class="comment">//import samoa.instances.Instance;</span>
<a name="l00038"></a>00038 <span class="keyword">import</span> weka.core.Instance;
<a name="l00039"></a>00039 <span class="keyword">import</span> weka.core.Utils;
<a name="l00040"></a>00040 <span class="comment">//import moa.core.Utils;</span>
<a name="l00041"></a>00041 <span class="keyword">import</span> java.io.*;
<a name="l00042"></a>00042 
<a name="l00043"></a>00043 
<a name="l00044"></a>00044 
<a name="l00066"></a><a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html">00066</a> <span class="keyword">public</span> <span class="keyword">class </span><a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html" title="This classifier learn ordered and unordered rule set from data stream.">RuleClassifier</a> <span class="keyword">extends</span> <a class="code" href="classmoa_1_1classifiers_1_1AbstractClassifier.html" title="Abstract Classifier.">AbstractClassifier</a>{
<a name="l00067"></a>00067     
<a name="l00068"></a><a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#abfc6bff6e363e39b6afd5e0a21e83240">00068</a>       <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keywordtype">long</span> <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#abfc6bff6e363e39b6afd5e0a21e83240">serialVersionUID</a> = 1L;
<a name="l00069"></a>00069       
<a name="l00070"></a>00070       @Override
<a name="l00071"></a><a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#ad8d0810914c5fef9f84ae29c3464dcda">00071</a>       <span class="keyword">public</span> String <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#ad8d0810914c5fef9f84ae29c3464dcda" title="Gets the purpose of this object.">getPurposeString</a>() {
<a name="l00072"></a>00072             <span class="keywordflow">return</span> <span class="stringliteral">&quot;Rule Classifier.&quot;</span>;
<a name="l00073"></a>00073         }
<a name="l00074"></a>00074       
<a name="l00075"></a><a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a8940290b3e9d7988d0c156e99e8e2c55">00075</a>       <span class="keyword">protected</span> Instance <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a8940290b3e9d7988d0c156e99e8e2c55">instance</a>; 
<a name="l00076"></a>00076       
<a name="l00077"></a><a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a7516604e4ea2c4279a5e9684ce73f30b">00077</a>       <span class="keyword">protected</span> AutoExpandVector&lt;AttributeClassObserver&gt; <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a7516604e4ea2c4279a5e9684ce73f30b">attributeObservers</a>;
<a name="l00078"></a>00078       
<a name="l00079"></a><a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#ac254bb06298bfb8b573824204949af9a">00079</a>       <span class="keyword">protected</span> AutoExpandVector&lt;AttributeClassObserver&gt; <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#ac254bb06298bfb8b573824204949af9a">attributeObserversGauss</a>;
<a name="l00080"></a>00080       
<a name="l00081"></a><a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#ae01942f25ed32081c6514364b9d48ba4">00081</a>       <span class="keyword">protected</span> <a class="code" href="classmoa_1_1core_1_1DoubleVector.html" title="Vector of double numbers with some utilities.">DoubleVector</a> <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#ae01942f25ed32081c6514364b9d48ba4">observedClassDistribution</a>;
<a name="l00082"></a>00082       
<a name="l00083"></a><a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a9593f5fd9ae202d495cc343a0eb8ead4">00083</a>       <span class="keyword">protected</span> <a class="code" href="classmoa_1_1core_1_1DoubleVector.html" title="Vector of double numbers with some utilities.">DoubleVector</a> <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a9593f5fd9ae202d495cc343a0eb8ead4">saveBestEntropy</a> = <span class="keyword">new</span> <a class="code" href="classmoa_1_1core_1_1DoubleVector.html" title="Vector of double numbers with some utilities.">DoubleVector</a>();      <span class="comment">// Saves the best value of entropy, cut_Point and symbol.</span>
<a name="l00084"></a>00084       
<a name="l00085"></a><a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a246168b008e27716075b9e86e30967b3">00085</a>       <span class="keyword">protected</span> <a class="code" href="classmoa_1_1core_1_1DoubleVector.html" title="Vector of double numbers with some utilities.">DoubleVector</a> <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a246168b008e27716075b9e86e30967b3">saveBestEntropyNominalAttrib</a> = <span class="keyword">new</span> <a class="code" href="classmoa_1_1core_1_1DoubleVector.html" title="Vector of double numbers with some utilities.">DoubleVector</a>();     <span class="comment">// Saves the best value of entropy and their cut_Point.</span>
<a name="l00086"></a>00086       
<a name="l00087"></a><a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a48d8864c4ffc77cb6ecf22edc5be34de">00087</a>       <span class="keyword">protected</span> <a class="code" href="classmoa_1_1core_1_1DoubleVector.html" title="Vector of double numbers with some utilities.">DoubleVector</a> <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a48d8864c4ffc77cb6ecf22edc5be34de">ruleClassIndex</a> = <span class="keyword">new</span> <a class="code" href="classmoa_1_1core_1_1DoubleVector.html" title="Vector of double numbers with some utilities.">DoubleVector</a>();       <span class="comment">// The index of the class for each rule.</span>
<a name="l00088"></a>00088       
<a name="l00089"></a><a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#aeae387b7eae49cd0d745e9472de750b6">00089</a>       <span class="keyword">protected</span> <a class="code" href="classmoa_1_1core_1_1DoubleVector.html" title="Vector of double numbers with some utilities.">DoubleVector</a> <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#aeae387b7eae49cd0d745e9472de750b6">saveBestGlobalEntropy</a> = <span class="keyword">new</span> <a class="code" href="classmoa_1_1core_1_1DoubleVector.html" title="Vector of double numbers with some utilities.">DoubleVector</a>();
<a name="l00090"></a>00090      
<a name="l00091"></a><a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a64ef2b16c065cd3fe0e864e12e5b8124">00091</a>       <span class="keyword">protected</span> ArrayList&lt;ArrayList&lt;Double&gt;&gt; <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a64ef2b16c065cd3fe0e864e12e5b8124">saveBestValGlobalEntropy</a> = <span class="keyword">new</span> ArrayList&lt;ArrayList&lt;Double&gt;&gt;();     <span class="comment">// For each attribute contains the best value of entropy and its cutPoint.</span>
<a name="l00092"></a>00092       
<a name="l00093"></a><a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#ace9773edf29cfd486945f1d86533d3ea">00093</a>       <span class="keyword">protected</span> ArrayList&lt;Double&gt; <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#ace9773edf29cfd486945f1d86533d3ea">saveTheBest</a> = <span class="keyword">new</span> ArrayList&lt;Double&gt;();        <span class="comment">// Contains the best attribute. </span>
<a name="l00094"></a>00094       
<a name="l00095"></a><a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a7d88549f5206dfc6c384e14fc2734e97">00095</a>       <span class="keyword">protected</span> ArrayList&lt;RuleClassification&gt; <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a7d88549f5206dfc6c384e14fc2734e97">ruleSet</a> = <span class="keyword">new</span> ArrayList&lt;RuleClassification&gt;();
<a name="l00096"></a>00096       
<a name="l00097"></a>00097      <span class="comment">//   protected DoubleVector ruleClassIndexAnomalis = new DoubleVector();</span>
<a name="l00098"></a><a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a27af2d52f21ad0edbd839c0ae83cd27e">00098</a>       <span class="keyword">protected</span>  ArrayList&lt;RuleClassification&gt; <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a27af2d52f21ad0edbd839c0ae83cd27e">ruleSetAnomalies</a> = <span class="keyword">new</span> ArrayList&lt;RuleClassification&gt;();
<a name="l00099"></a>00099         
<a name="l00100"></a><a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a2294d9ba1bd25bd5c0adcbb8d7b27c1b">00100</a>       <span class="keyword">protected</span> ArrayList&lt;Integer&gt; <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a2294d9ba1bd25bd5c0adcbb8d7b27c1b">ruleAnomaliesIndex</a> = <span class="keyword">new</span> ArrayList&lt;Integer&gt;();
<a name="l00101"></a>00101     
<a name="l00102"></a><a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a79a941ade22518bea41d92b6280fb21a">00102</a>       <span class="keyword">protected</span> ArrayList&lt;ArrayList&lt;Integer&gt;&gt; <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a79a941ade22518bea41d92b6280fb21a">caseAnomaly</a> = <span class="keyword">new</span> ArrayList&lt;ArrayList&lt;Integer&gt;&gt;();
<a name="l00103"></a>00103       
<a name="l00104"></a><a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#aa7838f43161a8189ba1136e6167239b6">00104</a>       <span class="keyword">protected</span> ArrayList&lt;ArrayList&lt;ArrayList&lt;Double&gt;&gt;&gt; <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#aa7838f43161a8189ba1136e6167239b6">ruleAttribAnomalyStatistics</a> = <span class="keyword">new</span> ArrayList&lt;ArrayList&lt;ArrayList&lt;Double&gt;&gt;&gt;();
<a name="l00105"></a>00105       
<a name="l00106"></a><a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#af9a7ac5e883413027b6dcb1eea5564df">00106</a>       <span class="keyword">protected</span>  ArrayList&lt;RuleClassification&gt; <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#af9a7ac5e883413027b6dcb1eea5564df">ruleSetAnomaliesSupervised</a> = <span class="keyword">new</span> ArrayList&lt;RuleClassification&gt;();
<a name="l00107"></a>00107       
<a name="l00108"></a><a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a92c0093a653c6d16f6e9d6a42c816bbe">00108</a>       <span class="keyword">protected</span> ArrayList&lt;Integer&gt; <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a92c0093a653c6d16f6e9d6a42c816bbe">ruleAnomaliesIndexSupervised</a> = <span class="keyword">new</span> ArrayList&lt;Integer&gt;();
<a name="l00109"></a>00109       
<a name="l00110"></a><a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#ae04e879f8da49fc5456c7e168e2293b4">00110</a>       <span class="keyword">protected</span> ArrayList&lt;ArrayList&lt;Integer&gt;&gt; <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#ae04e879f8da49fc5456c7e168e2293b4">caseAnomalySupervised</a> = <span class="keyword">new</span> ArrayList&lt;ArrayList&lt;Integer&gt;&gt;();
<a name="l00111"></a>00111       
<a name="l00112"></a><a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a29d01da7d163d6efad0bb9d47362a736">00112</a>       <span class="keyword">protected</span> ArrayList&lt;ArrayList&lt;ArrayList&lt;Double&gt;&gt;&gt; <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a29d01da7d163d6efad0bb9d47362a736">ruleAttribAnomalyStatisticsSupervised</a> = <span class="keyword">new</span> ArrayList&lt;ArrayList&lt;ArrayList&lt;Double&gt;&gt;&gt;();
<a name="l00113"></a>00113       
<a name="l00114"></a><a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#ab14fc55627b2550e4a130a773171375d">00114</a>       <span class="keywordtype">double</span> <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#ab14fc55627b2550e4a130a773171375d">minEntropyTemp</a> = Double.MAX_VALUE;
<a name="l00115"></a>00115       
<a name="l00116"></a><a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a58e0b48d721c7631f961def103ee21b4">00116</a>       <span class="keywordtype">double</span> <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a58e0b48d721c7631f961def103ee21b4">cutPointTemp</a> = 0.0;
<a name="l00117"></a>00117   
<a name="l00118"></a><a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a88b1b9c15b2806c77cfad7b8c239611b">00118</a>       <span class="keywordtype">double</span> <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a88b1b9c15b2806c77cfad7b8c239611b">minEntropyNominalAttrib</a> = Double.MAX_VALUE;
<a name="l00119"></a>00119   
<a name="l00120"></a><a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a27960568c63fcb10220d22b094e4f782">00120</a>       <span class="keywordtype">double</span> <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a27960568c63fcb10220d22b094e4f782">symbol</a> = 0.0;
<a name="l00121"></a>00121   
<a name="l00122"></a><a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a295e40f57b445561494cd680a412e287">00122</a>       <span class="keywordtype">int</span> <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a295e40f57b445561494cd680a412e287">numInstance</a> = 0;
<a name="l00123"></a>00123   
<a name="l00124"></a><a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#ad1532ecd86a2f5b60390d0361770ee89">00124</a>       <span class="keywordtype">int</span> <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#ad1532ecd86a2f5b60390d0361770ee89">numAttributes</a> = 0;
<a name="l00125"></a>00125   
<a name="l00126"></a><a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a08abcfc998a5a353465dd5ed6f6b5344">00126</a>       <span class="keywordtype">int</span> <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a08abcfc998a5a353465dd5ed6f6b5344">numClass</a> = 0;
<a name="l00127"></a>00127       
<a name="l00128"></a><a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a8db2ca77e663dadbfa4e792755d1ac85">00128</a>       <a class="code" href="classmoa_1_1classifiers_1_1core_1_1attributeclassobservers_1_1BinaryTreeNumericAttributeClassObserver_1_1Node.html">Node</a> <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a8db2ca77e663dadbfa4e792755d1ac85">root</a>;
<a name="l00129"></a>00129   
<a name="l00130"></a><a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a6fd2796c33e19f75e078e479b91cdab6">00130</a>       <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1Predicates.html">Predicates</a> <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a6fd2796c33e19f75e078e479b91cdab6">pred</a>;  
<a name="l00131"></a>00131 
<a name="l00132"></a><a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#adf6a98fdb2c9cd80fd096448fa73eda2">00132</a>       <span class="keyword">public</span> <a class="code" href="classmoa_1_1options_1_1FloatOption.html" title="Float option.">FloatOption</a> <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#adf6a98fdb2c9cd80fd096448fa73eda2">PminOption</a> = <span class="keyword">new</span> <a class="code" href="classmoa_1_1options_1_1FloatOption.html" title="Float option.">FloatOption</a>(<span class="stringliteral">&quot;Pmin&quot;</span>,
<a name="l00133"></a>00133                 <span class="charliteral">&apos;p&apos;</span>, <span class="stringliteral">&quot;Percentage of the total number of example seen in the node.&quot;</span>,
<a name="l00134"></a>00134                  0.1, 0.0, 1.0);
<a name="l00135"></a>00135       
<a name="l00136"></a><a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a379a2a4d04219da144ccb8d1608439d3">00136</a>       <span class="keyword">public</span> <a class="code" href="classmoa_1_1options_1_1FloatOption.html" title="Float option.">FloatOption</a> <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a379a2a4d04219da144ccb8d1608439d3">splitConfidenceOption</a> = <span class="keyword">new</span> <a class="code" href="classmoa_1_1options_1_1FloatOption.html" title="Float option.">FloatOption</a>(
<a name="l00137"></a>00137                 <span class="stringliteral">&quot;splitConfidence&quot;</span>,
<a name="l00138"></a>00138                 <span class="charliteral">&apos;c&apos;</span>,
<a name="l00139"></a>00139                 <span class="stringliteral">&quot;The allowable error in split decision, values closer to 0 will take longer to decide.&quot;</span>,
<a name="l00140"></a>00140                 0.000001, 0.0, 1.0);
<a name="l00141"></a>00141       
<a name="l00142"></a><a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a2f84f9b220d1add00998feed676c0ee7">00142</a>       <span class="keyword">public</span> <a class="code" href="classmoa_1_1options_1_1FloatOption.html" title="Float option.">FloatOption</a> <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a2f84f9b220d1add00998feed676c0ee7">tieThresholdOption</a> = <span class="keyword">new</span> <a class="code" href="classmoa_1_1options_1_1FloatOption.html" title="Float option.">FloatOption</a>(<span class="stringliteral">&quot;tieThreshold&quot;</span>,
<a name="l00143"></a>00143                 <span class="charliteral">&apos;t&apos;</span>, <span class="stringliteral">&quot;Threshold below which a split will be forced to break ties.&quot;</span>,
<a name="l00144"></a>00144                  0.05, 0.0, 1.0);
<a name="l00145"></a>00145       
<a name="l00146"></a><a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#ab670a06889ab9c00e405f57622ec85e8">00146</a>       <span class="keyword">public</span> <a class="code" href="classmoa_1_1options_1_1FloatOption.html" title="Float option.">FloatOption</a> <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#ab670a06889ab9c00e405f57622ec85e8">anomalyProbabilityThresholdOption</a> = <span class="keyword">new</span> <a class="code" href="classmoa_1_1options_1_1FloatOption.html" title="Float option.">FloatOption</a>(
<a name="l00147"></a>00147                 <span class="stringliteral">&quot;anomalyprobabilityThreshold&quot;</span>,
<a name="l00148"></a>00148                 <span class="charliteral">&apos;o&apos;</span>,
<a name="l00149"></a>00149                 <span class="stringliteral">&quot;The threshold value.&quot;</span>,
<a name="l00150"></a>00150                 0.99, 0.0, 1.0);
<a name="l00151"></a>00151         
<a name="l00152"></a><a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a4e1d4827ec44bcc56539045405dba400">00152</a>      <span class="keyword">public</span> <a class="code" href="classmoa_1_1options_1_1FloatOption.html" title="Float option.">FloatOption</a> <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a4e1d4827ec44bcc56539045405dba400">probabilityThresholdOption</a> = <span class="keyword">new</span> <a class="code" href="classmoa_1_1options_1_1FloatOption.html" title="Float option.">FloatOption</a>(
<a name="l00153"></a>00153                 <span class="stringliteral">&quot;probabilityThreshold&quot;</span>,
<a name="l00154"></a>00154                 <span class="charliteral">&apos;k&apos;</span>,
<a name="l00155"></a>00155                 <span class="stringliteral">&quot;The threshold value.&quot;</span>,
<a name="l00156"></a>00156                 0.10, 0.0, 1.0);
<a name="l00157"></a>00157         
<a name="l00158"></a><a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#af2c04764a2cce451595cc2d9bcd801e0">00158</a>      <span class="keyword">public</span> <a class="code" href="classmoa_1_1options_1_1IntOption.html" title="Int option.">IntOption</a> <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#af2c04764a2cce451595cc2d9bcd801e0">anomalyNumInstThresholdOption</a> = <span class="keyword">new</span> <a class="code" href="classmoa_1_1options_1_1IntOption.html" title="Int option.">IntOption</a>(
<a name="l00159"></a>00159                 <span class="stringliteral">&quot;anomalyThreshold&quot;</span>,
<a name="l00160"></a>00160                 <span class="charliteral">&apos;i&apos;</span>,
<a name="l00161"></a>00161                 <span class="stringliteral">&quot;The threshold value to be used in the anomaly detection.&quot;</span>,
<a name="l00162"></a>00162                 15, 0, Integer.MAX_VALUE);
<a name="l00163"></a>00163       
<a name="l00164"></a><a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a1c986f6a065d07d1d4f984008ffa65a0">00164</a>      <span class="keyword">public</span> <a class="code" href="classmoa_1_1options_1_1IntOption.html" title="Int option.">IntOption</a> <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a1c986f6a065d07d1d4f984008ffa65a0">gracePeriodOption</a> = <span class="keyword">new</span> <a class="code" href="classmoa_1_1options_1_1IntOption.html" title="Int option.">IntOption</a>(
<a name="l00165"></a>00165                 <span class="stringliteral">&quot;gracePeriod&quot;</span>,<span class="charliteral">&apos;g&apos;</span>, <span class="stringliteral">&quot;The number of instances a leaf should observe between split attempts.&quot;</span>,
<a name="l00166"></a>00166                  200, 0, Integer.MAX_VALUE);
<a name="l00167"></a>00167       
<a name="l00168"></a><a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#aa6574d01c8114f802ad2075a74357c47">00168</a>      <span class="keyword">public</span> <a class="code" href="classmoa_1_1options_1_1MultiChoiceOption.html" title="Multi choice option.">MultiChoiceOption</a> <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#aa6574d01c8114f802ad2075a74357c47">predictionFunctionOption</a> = <span class="keyword">new</span> <a class="code" href="classmoa_1_1options_1_1MultiChoiceOption.html" title="Multi choice option.">MultiChoiceOption</a>(
<a name="l00169"></a>00169                 <span class="stringliteral">&quot;predictionFunctionOption&quot;</span>, <span class="charliteral">&apos;z&apos;</span>, <span class="stringliteral">&quot;The prediction function to use.&quot;</span>, <span class="keyword">new</span> String[]{
<a name="l00170"></a>00170                 <span class="stringliteral">&quot;firstHit&quot;</span>, <span class="stringliteral">&quot;weightedSum&quot;</span>, <span class="stringliteral">&quot;weightedMax&quot;</span>}, <span class="keyword">new</span> String[]{
<a name="l00171"></a>00171                 <span class="stringliteral">&quot;first Hit&quot;</span>,  <span class="stringliteral">&quot;weighted Sum&quot;</span>, <span class="stringliteral">&quot;weighted Max&quot;</span>}, 0);
<a name="l00172"></a>00172       
<a name="l00173"></a><a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a2fbee50b3b356050692e87cb5f08f48f">00173</a>      <span class="keyword">public</span> <a class="code" href="classmoa_1_1options_1_1FlagOption.html" title="Flag option.">FlagOption</a> <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a2fbee50b3b356050692e87cb5f08f48f">orderedRulesOption</a> = <span class="keyword">new</span> <a class="code" href="classmoa_1_1options_1_1FlagOption.html" title="Flag option.">FlagOption</a>(<span class="stringliteral">&quot;orderedRules&quot;</span>, <span class="charliteral">&apos;r&apos;</span>,
<a name="l00174"></a>00174                 <span class="stringliteral">&quot;orderedRules.&quot;</span>);
<a name="l00175"></a>00175       
<a name="l00176"></a><a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a306ec38d95182b4cc19ad4652d915028">00176</a>     <span class="keyword">public</span> <a class="code" href="classmoa_1_1options_1_1FlagOption.html" title="Flag option.">FlagOption</a> <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a306ec38d95182b4cc19ad4652d915028">anomalyDetectionOption</a> = <span class="keyword">new</span> <a class="code" href="classmoa_1_1options_1_1FlagOption.html" title="Flag option.">FlagOption</a>(<span class="stringliteral">&quot;anomalyDetection&quot;</span>, <span class="charliteral">&apos;u&apos;</span>,
<a name="l00177"></a>00177                 <span class="stringliteral">&quot;anomaly Detection.&quot;</span>);
<a name="l00178"></a>00178     
<a name="l00179"></a><a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a0960d0f4a5e29968d023f45c4cc7c761">00179</a>     <span class="keyword">public</span> <a class="code" href="classmoa_1_1options_1_1FlagOption.html" title="Flag option.">FlagOption</a> <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a0960d0f4a5e29968d023f45c4cc7c761">Supervised</a> = <span class="keyword">new</span> <a class="code" href="classmoa_1_1options_1_1FlagOption.html" title="Flag option.">FlagOption</a>(<span class="stringliteral">&quot;supervised&quot;</span>, <span class="charliteral">&apos;n&apos;</span>,
<a name="l00180"></a>00180             <span class="stringliteral">&quot;supervised.&quot;</span>);
<a name="l00181"></a>00181     
<a name="l00182"></a><a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a0fb792506b01420bd6d716edca84cc18">00182</a>     <span class="keyword">public</span> <a class="code" href="classmoa_1_1options_1_1FlagOption.html" title="Flag option.">FlagOption</a> <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a0fb792506b01420bd6d716edca84cc18">Unsupervised</a> = <span class="keyword">new</span> <a class="code" href="classmoa_1_1options_1_1FlagOption.html" title="Flag option.">FlagOption</a>(<span class="stringliteral">&quot;unsupervised&quot;</span>, <span class="charliteral">&apos;m&apos;</span>,
<a name="l00183"></a>00183             <span class="stringliteral">&quot;unsupervised.&quot;</span>);
<a name="l00184"></a>00184         
<a name="l00185"></a>00185         
<a name="l00186"></a>00186       
<a name="l00187"></a>00187     @Override
<a name="l00188"></a><a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#ace9204249eb27db4b70d4a13b93d08f4">00188</a>     <span class="keyword">public</span> <span class="keywordtype">double</span>[] <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#ace9204249eb27db4b70d4a13b93d08f4" title="Predicts the class memberships for a given instance.">getVotesForInstance</a>(Instance inst) {
<a name="l00189"></a>00189         <span class="keywordtype">double</span>[] votes = <span class="keyword">new</span> <span class="keywordtype">double</span>[this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a08abcfc998a5a353465dd5ed6f6b5344">numClass</a>];
<a name="l00190"></a>00190         <span class="keywordflow">switch</span> (this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#aa6574d01c8114f802ad2075a74357c47">predictionFunctionOption</a>.<a class="code" href="classmoa_1_1options_1_1MultiChoiceOption.html#a5272693a1a0a9f89e135673a6d247dda">getChosenIndex</a>()) {
<a name="l00191"></a>00191         <span class="keywordflow">case</span> 0:
<a name="l00192"></a>00192             votes = <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a22d79b4b26dc82aec309e36b22885e7e">firstHit</a>(inst);
<a name="l00193"></a>00193             <span class="keywordflow">break</span>; 
<a name="l00194"></a>00194         <span class="keywordflow">case</span> 1:
<a name="l00195"></a>00195             votes = <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#af45780b0c3c63a2db4e153a9c2cc4485">weightedSum</a>(inst);
<a name="l00196"></a>00196             <span class="keywordflow">break</span>; 
<a name="l00197"></a>00197         <span class="keywordflow">case</span> 2:
<a name="l00198"></a>00198             votes = <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a3b02afcd12e0dcaaa4181e13d25bd816">weightedMax</a>(inst);
<a name="l00199"></a>00199             <span class="keywordflow">break</span>;
<a name="l00200"></a>00200           }
<a name="l00201"></a>00201         <span class="keywordflow">return</span> votes; 
<a name="l00202"></a>00202     }
<a name="l00203"></a>00203     
<a name="l00204"></a>00204     @Override
<a name="l00205"></a><a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#aaeb7ec7f005d8c0e801685c7beaeee8b">00205</a>     <span class="keyword">protected</span> <a class="code" href="classmoa_1_1core_1_1Measurement.html" title="Class for storing an evaluation measurement.">Measurement</a>[] <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#aaeb7ec7f005d8c0e801685c7beaeee8b" title="Gets the current measurements of this classifier.">getModelMeasurementsImpl</a>() {
<a name="l00206"></a>00206         <span class="keywordflow">return</span> null;
<a name="l00207"></a>00207         }
<a name="l00208"></a>00208     
<a name="l00209"></a>00209     @Override
<a name="l00210"></a><a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a8206fffb74aad340bb6f88b75a397cbb">00210</a>     <span class="keyword">public</span> <span class="keywordtype">void</span> <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a8206fffb74aad340bb6f88b75a397cbb" title="Resets this classifier.">resetLearningImpl</a>() {
<a name="l00211"></a>00211         this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#ae01942f25ed32081c6514364b9d48ba4">observedClassDistribution</a> = <span class="keyword">new</span> <a class="code" href="classmoa_1_1core_1_1DoubleVector.html" title="Vector of double numbers with some utilities.">DoubleVector</a>();
<a name="l00212"></a>00212         this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a7516604e4ea2c4279a5e9684ce73f30b">attributeObservers</a> = <span class="keyword">new</span> AutoExpandVector&lt;AttributeClassObserver&gt;();
<a name="l00213"></a>00213         this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#ac254bb06298bfb8b573824204949af9a">attributeObserversGauss</a> = <span class="keyword">new</span> AutoExpandVector&lt;AttributeClassObserver&gt;();  
<a name="l00214"></a>00214     }
<a name="l00215"></a>00215     
<a name="l00216"></a><a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a4e9ead06b4f1d21a6577c31db3585a69">00216</a>     <span class="keyword">public</span> <span class="keywordtype">double</span> <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a4e9ead06b4f1d21a6577c31db3585a69">getWeightSeen</a>() {
<a name="l00217"></a>00217         <span class="keywordflow">return</span> this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#ae01942f25ed32081c6514364b9d48ba4">observedClassDistribution</a>.<a class="code" href="classmoa_1_1core_1_1DoubleVector.html#acafa367bb17b33b844486adfa1b2780a">sumOfValues</a>(); 
<a name="l00218"></a>00218       }
<a name="l00219"></a>00219 
<a name="l00220"></a>00220     @Override
<a name="l00221"></a><a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#abaeafe5f63a8fda72e948fc9e259d645">00221</a>     <span class="keyword">public</span> <span class="keywordtype">void</span> <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#abaeafe5f63a8fda72e948fc9e259d645" title="Trains this classifier incrementally using the given instance.">trainOnInstanceImpl</a>(Instance inst) {
<a name="l00222"></a>00222         <span class="keywordtype">int</span> countRuleFiredTrue = 0;
<a name="l00223"></a>00223         <span class="keywordtype">boolean</span> ruleFired = <span class="keyword">false</span>;
<a name="l00224"></a>00224         this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a8940290b3e9d7988d0c156e99e8e2c55">instance</a> = inst;
<a name="l00225"></a>00225         this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#ad1532ecd86a2f5b60390d0361770ee89">numAttributes</a> = <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a8940290b3e9d7988d0c156e99e8e2c55">instance</a>.numAttributes()-1;
<a name="l00226"></a>00226         this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a08abcfc998a5a353465dd5ed6f6b5344">numClass</a> = <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a8940290b3e9d7988d0c156e99e8e2c55">instance</a>.numClasses();
<a name="l00227"></a>00227         this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a295e40f57b445561494cd680a412e287">numInstance</a> = <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a295e40f57b445561494cd680a412e287">numInstance</a> + 1;
<a name="l00228"></a>00228         <span class="keywordtype">int</span> conta1=0;
<a name="l00229"></a>00229         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a7d88549f5206dfc6c384e14fc2734e97">ruleSet</a>.size(); j++) {
<a name="l00230"></a>00230             <span class="keywordflow">if</span> (this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a7d88549f5206dfc6c384e14fc2734e97">ruleSet</a>.get(j).ruleEvaluate(inst) == <span class="keyword">true</span>) {
<a name="l00231"></a>00231                 countRuleFiredTrue = countRuleFiredTrue + 1;
<a name="l00232"></a>00232                 
<a name="l00233"></a>00233                 <span class="keywordtype">double</span> anomaly = 0.0;
<a name="l00234"></a>00234                 <span class="keywordflow">if</span>(this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a0960d0f4a5e29968d023f45c4cc7c761">Supervised</a>.<a class="code" href="classmoa_1_1options_1_1FlagOption.html#ab37cb6ed4d9a2e393b460594f075b0a2">isSet</a>()){
<a name="l00235"></a>00235                     anomaly = <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a331a0272136812420c3f28741e49dc3b">computeAnomalySupervised</a>(this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a7d88549f5206dfc6c384e14fc2734e97">ruleSet</a>.get(j), j, inst); <span class="comment">// compute anomaly (Supervised method)</span>
<a name="l00236"></a>00236                 }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a0fb792506b01420bd6d716edca84cc18">Unsupervised</a>.<a class="code" href="classmoa_1_1options_1_1FlagOption.html#ab37cb6ed4d9a2e393b460594f075b0a2">isSet</a>()){
<a name="l00237"></a>00237                     anomaly = <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#ac498e2b33463b69a59ed3d1e6506ceee">computeAnomalyUnsupervised</a>(this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a7d88549f5206dfc6c384e14fc2734e97">ruleSet</a>.get(j), j, inst); <span class="comment">// compute anomaly (Unsupervised method)</span>
<a name="l00238"></a>00238                 }
<a name="l00239"></a>00239                 
<a name="l00240"></a>00240                 <span class="keywordflow">if</span>(anomaly &gt;= this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#ab670a06889ab9c00e405f57622ec85e8">anomalyProbabilityThresholdOption</a>.<a class="code" href="classmoa_1_1options_1_1FloatOption.html#a0e606a62f4ece232aa8f8cb04bb7f1cf">getValue</a>()){
<a name="l00241"></a>00241                 conta1 =conta1+1;
<a name="l00242"></a>00242                 }
<a name="l00243"></a>00243             <span class="comment">//  System.out.print(numInstance+&quot;;&quot;+anomaly+&quot;\n&quot;);</span>
<a name="l00244"></a>00244                  <span class="keywordflow">try</span> {
<a name="l00245"></a>00245                         
<a name="l00246"></a>00246                       File dir = <span class="keyword">new</span> File(<span class="stringliteral">&quot;SeaAnomaliesUnsupervised.txt&quot;</span>);
<a name="l00247"></a>00247                       FileWriter fileWriter = <span class="keyword">new</span> FileWriter(dir, <span class="keyword">true</span>); 
<a name="l00248"></a>00248                       PrintWriter printWriter = <span class="keyword">new</span> PrintWriter(fileWriter);
<a name="l00249"></a>00249                       printWriter.println(<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a295e40f57b445561494cd680a412e287">numInstance</a>+<span class="stringliteral">&quot;;&quot;</span>+anomaly);
<a name="l00250"></a>00250                       printWriter.flush();
<a name="l00251"></a>00251                       printWriter.close();      
<a name="l00252"></a>00252                        
<a name="l00253"></a>00253                     } <span class="keywordflow">catch</span> (IOException e) {
<a name="l00254"></a>00254                         e.printStackTrace();
<a name="l00255"></a>00255                     }
<a name="l00256"></a>00256                  <span class="keywordflow">if</span>((this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a7d88549f5206dfc6c384e14fc2734e97">ruleSet</a>.get(j).instancesSeen &lt;= this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#af2c04764a2cce451595cc2d9bcd801e0">anomalyNumInstThresholdOption</a>.<a class="code" href="classmoa_1_1options_1_1IntOption.html#affae8787274b44ab7616d46b8d6c831a">getValue</a>()) || (anomaly &lt; this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#ab670a06889ab9c00e405f57622ec85e8">anomalyProbabilityThresholdOption</a>.<a class="code" href="classmoa_1_1options_1_1FloatOption.html#a0e606a62f4ece232aa8f8cb04bb7f1cf">getValue</a>() &amp;&amp; this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a306ec38d95182b4cc19ad4652d915028">anomalyDetectionOption</a>.<a class="code" href="classmoa_1_1options_1_1FlagOption.html#ab37cb6ed4d9a2e393b460594f075b0a2">isSet</a>()) ||!this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a306ec38d95182b4cc19ad4652d915028">anomalyDetectionOption</a>.<a class="code" href="classmoa_1_1options_1_1FlagOption.html#ab37cb6ed4d9a2e393b460594f075b0a2">isSet</a>()){
<a name="l00257"></a>00257                 this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a7d88549f5206dfc6c384e14fc2734e97">ruleSet</a>.get(j).obserClassDistrib.addToValue((<span class="keywordtype">int</span>) inst.classValue(), inst.weight());
<a name="l00258"></a>00258                 <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; inst.numAttributes() - 1; i++) {
<a name="l00259"></a>00259                     <span class="keywordtype">int</span> instAttIndex = <a class="code" href="classmoa_1_1classifiers_1_1AbstractClassifier.html#a5cd97fb8e5751d48de011c81f45466d4" title="Gets the index of the attribute in the instance, given the index of the attribute...">modelAttIndexToInstanceAttIndex</a>(i, inst);
<a name="l00260"></a>00260                     
<a name="l00261"></a>00261                     <span class="keywordflow">if</span>(!inst.isMissing(instAttIndex)){
<a name="l00262"></a>00262                     <a class="code" href="interfacemoa_1_1classifiers_1_1core_1_1attributeclassobservers_1_1AttributeClassObserver.html" title="Interface for observing the class data distribution for an attribute.">AttributeClassObserver</a> obs = this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a7d88549f5206dfc6c384e14fc2734e97">ruleSet</a>.get(j).observers.get(i);      <span class="comment">// Nominal and binary tree.</span>
<a name="l00263"></a>00263                     <a class="code" href="interfacemoa_1_1classifiers_1_1core_1_1attributeclassobservers_1_1AttributeClassObserver.html" title="Interface for observing the class data distribution for an attribute.">AttributeClassObserver</a> obsGauss = this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a7d88549f5206dfc6c384e14fc2734e97">ruleSet</a>.get(j).observersGauss.get(i);        <span class="comment">// Gaussian.</span>
<a name="l00264"></a>00264                     <span class="keywordflow">if</span> (obs == null) {
<a name="l00265"></a>00265                         obs = inst.attribute(instAttIndex).isNominal() ? <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a7132712e5907bb0a63b3afe131697ecb">newNominalClassObserver</a>()
<a name="l00266"></a>00266                                 : <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a825a1a2c0d33eade9e2716584b73b74f">newNumericClassObserver</a>();
<a name="l00267"></a>00267                         this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a7d88549f5206dfc6c384e14fc2734e97">ruleSet</a>.get(j).observers.set(i, obs);     
<a name="l00268"></a>00268                     }
<a name="l00269"></a>00269                     <span class="keywordflow">if</span> (obsGauss == null) {
<a name="l00270"></a>00270                         obsGauss = inst.attribute(instAttIndex).isNumeric() ? <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#ad166769ca6d8b6e0b4d21d4cf59cf005">newNumericClassObserver2</a>():null;
<a name="l00271"></a>00271                         this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a7d88549f5206dfc6c384e14fc2734e97">ruleSet</a>.get(j).observersGauss.set(i, obsGauss);     
<a name="l00272"></a>00272                     }
<a name="l00273"></a>00273                     obs.<a class="code" href="interfacemoa_1_1classifiers_1_1core_1_1attributeclassobservers_1_1AttributeClassObserver.html#adeb638c64bb2dad4266a7db241398bf5" title="Updates statistics of this observer given an attribute value, a class and the weight...">observeAttributeClass</a>(inst.value(instAttIndex), (int) inst.classValue(), inst.weight());
<a name="l00274"></a>00274                     <span class="keywordflow">if</span> (inst.attribute(instAttIndex).isNumeric()) {
<a name="l00275"></a>00275                         obsGauss.<a class="code" href="interfacemoa_1_1classifiers_1_1core_1_1attributeclassobservers_1_1AttributeClassObserver.html#adeb638c64bb2dad4266a7db241398bf5" title="Updates statistics of this observer given an attribute value, a class and the weight...">observeAttributeClass</a>(inst.value(instAttIndex), (int) inst.classValue(), inst.weight());
<a name="l00276"></a>00276                     }  
<a name="l00277"></a>00277                 }
<a name="l00278"></a>00278                 }
<a name="l00279"></a>00279                 <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a6e43c31d226f0ba975d1a3dbfb119f2d">expandeRule</a>(this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a7d88549f5206dfc6c384e14fc2734e97">ruleSet</a>.get(j), inst, j); <span class="comment">// This function expands the rule</span>
<a name="l00280"></a>00280                 }
<a name="l00281"></a>00281                 <span class="keywordflow">if</span> (this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a2fbee50b3b356050692e87cb5f08f48f">orderedRulesOption</a>.<a class="code" href="classmoa_1_1options_1_1FlagOption.html#ab37cb6ed4d9a2e393b460594f075b0a2">isSet</a>()) {  <span class="comment">// Ordered rules</span>
<a name="l00282"></a>00282                     <span class="keywordflow">break</span>;
<a name="l00283"></a>00283                     }
<a name="l00284"></a>00284                 }
<a name="l00285"></a>00285             }
<a name="l00286"></a>00286         <span class="keywordflow">if</span> (countRuleFiredTrue &gt; 0) {
<a name="l00287"></a>00287             ruleFired = <span class="keyword">true</span>;
<a name="l00288"></a>00288             }<span class="keywordflow">else</span>{
<a name="l00289"></a>00289                 ruleFired = <span class="keyword">false</span>;
<a name="l00290"></a>00290             }
<a name="l00291"></a>00291         <span class="keywordflow">if</span> (ruleFired == <span class="keyword">false</span>) { <span class="comment">//If none of the rules cover the example update sufficient statistics of the default rule</span>
<a name="l00292"></a>00292             this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#ae01942f25ed32081c6514364b9d48ba4">observedClassDistribution</a>.<a class="code" href="classmoa_1_1core_1_1DoubleVector.html#a4050209166f4be04dd9f6dac3535d60e">addToValue</a>((<span class="keywordtype">int</span>) inst.classValue(), inst.weight());
<a name="l00293"></a>00293             <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; inst.numAttributes() - 1; i++) {
<a name="l00294"></a>00294                 <span class="keywordtype">int</span> instAttIndex = <a class="code" href="classmoa_1_1classifiers_1_1AbstractClassifier.html#a5cd97fb8e5751d48de011c81f45466d4" title="Gets the index of the attribute in the instance, given the index of the attribute...">modelAttIndexToInstanceAttIndex</a>(i, inst);
<a name="l00295"></a>00295                 <span class="keywordflow">if</span>(!inst.isMissing(instAttIndex)){
<a name="l00296"></a>00296                 <a class="code" href="interfacemoa_1_1classifiers_1_1core_1_1attributeclassobservers_1_1AttributeClassObserver.html" title="Interface for observing the class data distribution for an attribute.">AttributeClassObserver</a> obs = this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a7516604e4ea2c4279a5e9684ce73f30b">attributeObservers</a>.get(i);
<a name="l00297"></a>00297                 <a class="code" href="interfacemoa_1_1classifiers_1_1core_1_1attributeclassobservers_1_1AttributeClassObserver.html" title="Interface for observing the class data distribution for an attribute.">AttributeClassObserver</a> obsGauss = this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#ac254bb06298bfb8b573824204949af9a">attributeObserversGauss</a>.get(i);
<a name="l00298"></a>00298                 <span class="keywordflow">if</span> (obs == null) {
<a name="l00299"></a>00299                     obs = inst.attribute(instAttIndex).isNominal() ? <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a7132712e5907bb0a63b3afe131697ecb">newNominalClassObserver</a>()
<a name="l00300"></a>00300                             : <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a825a1a2c0d33eade9e2716584b73b74f">newNumericClassObserver</a>();
<a name="l00301"></a>00301                     this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a7516604e4ea2c4279a5e9684ce73f30b">attributeObservers</a>.set(i, obs); 
<a name="l00302"></a>00302                     }
<a name="l00303"></a>00303                 <span class="keywordflow">if</span> (obsGauss == null) {
<a name="l00304"></a>00304                     obsGauss = inst.attribute(instAttIndex).isNumeric() ? <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#ad166769ca6d8b6e0b4d21d4cf59cf005">newNumericClassObserver2</a>():null;
<a name="l00305"></a>00305                     this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#ac254bb06298bfb8b573824204949af9a">attributeObserversGauss</a>.set(i, obsGauss);
<a name="l00306"></a>00306                     }
<a name="l00307"></a>00307                 obs.<a class="code" href="interfacemoa_1_1classifiers_1_1core_1_1attributeclassobservers_1_1AttributeClassObserver.html#adeb638c64bb2dad4266a7db241398bf5" title="Updates statistics of this observer given an attribute value, a class and the weight...">observeAttributeClass</a>(inst.value(instAttIndex), (int) inst.classValue(), inst.weight());
<a name="l00308"></a>00308                 <span class="keywordflow">if</span> (inst.attribute(instAttIndex).isNumeric()) {
<a name="l00309"></a>00309                     obsGauss.<a class="code" href="interfacemoa_1_1classifiers_1_1core_1_1attributeclassobservers_1_1AttributeClassObserver.html#adeb638c64bb2dad4266a7db241398bf5" title="Updates statistics of this observer given an attribute value, a class and the weight...">observeAttributeClass</a>(inst.value(instAttIndex), (int) inst.classValue(), inst.weight());
<a name="l00310"></a>00310                     }
<a name="l00311"></a>00311                 }
<a name="l00312"></a>00312             }
<a name="l00313"></a>00313             <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#af0c813365cafcbc1698c258b856e4960">createRule</a>(inst); <span class="comment">//This function creates a rule</span>
<a name="l00314"></a>00314             }
<a name="l00315"></a>00315         }
<a name="l00316"></a>00316     
<a name="l00317"></a>00317     @Override   
<a name="l00318"></a><a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#adf1471ee43efddae3807dcc9ceb46b7d">00318</a>     <span class="keyword">public</span> <span class="keywordtype">void</span> <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#adf1471ee43efddae3807dcc9ceb46b7d" title="Returns a string representation of the model.">getModelDescription</a>(StringBuilder out, <span class="keywordtype">int</span> indent) {
<a name="l00319"></a>00319         <span class="keywordflow">if</span>(this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a306ec38d95182b4cc19ad4652d915028">anomalyDetectionOption</a>.<a class="code" href="classmoa_1_1options_1_1FlagOption.html#ab37cb6ed4d9a2e393b460594f075b0a2">isSet</a>()){
<a name="l00320"></a>00320             <span class="keywordflow">if</span>(this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a0960d0f4a5e29968d023f45c4cc7c761">Supervised</a>.<a class="code" href="classmoa_1_1options_1_1FlagOption.html#ab37cb6ed4d9a2e393b460594f075b0a2">isSet</a>()){
<a name="l00321"></a>00321                 this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#ae98dc3b59e4e03dc6a59bc7b153babdb">printAnomaliesSupervised</a>(out, indent); <span class="comment">// Get Model Description (Supervised method)</span>
<a name="l00322"></a>00322             }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a0fb792506b01420bd6d716edca84cc18">Unsupervised</a>.<a class="code" href="classmoa_1_1options_1_1FlagOption.html#ab37cb6ed4d9a2e393b460594f075b0a2">isSet</a>()){
<a name="l00323"></a>00323                 this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a6f22721bf471de21bfe1ee8f7f0c5ff8">printAnomaliesUnsupervised</a>(out, indent); <span class="comment">// Get Model Description (Unsupervised method)</span>
<a name="l00324"></a>00324             }
<a name="l00325"></a>00325         }<span class="keywordflow">else</span>{
<a name="l00326"></a>00326             this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a46a43402f2b44c05b9a262c5308e1b2b">getModelDescriptionNoAnomalyDetection</a>(out, indent);  <span class="comment">// Get Model Description no Anomaly detection</span>
<a name="l00327"></a>00327             
<a name="l00328"></a>00328             }
<a name="l00329"></a>00329         }
<a name="l00330"></a>00330     
<a name="l00331"></a><a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a6f22721bf471de21bfe1ee8f7f0c5ff8">00331</a>     <span class="keyword">public</span> <span class="keywordtype">void</span> <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a6f22721bf471de21bfe1ee8f7f0c5ff8">printAnomaliesUnsupervised</a>(StringBuilder out, <span class="keywordtype">int</span> indent) { <span class="comment">// Get Model Description (Unsupervised method)</span>
<a name="l00332"></a>00332         
<a name="l00333"></a>00333         <a class="code" href="classmoa_1_1core_1_1StringUtils.html" title="Class implementing some string utility methods.">StringUtils</a>.appendNewline(out);
<a name="l00334"></a>00334         <a class="code" href="classmoa_1_1core_1_1StringUtils.html" title="Class implementing some string utility methods.">StringUtils</a>.appendIndented(out, indent, <span class="stringliteral">&quot;**********************UNSUPERVISED*****************&quot;</span>);
<a name="l00335"></a>00335         <a class="code" href="classmoa_1_1core_1_1StringUtils.html" title="Class implementing some string utility methods.">StringUtils</a>.appendNewline(out);
<a name="l00336"></a>00336         <a class="code" href="classmoa_1_1core_1_1StringUtils.html" title="Class implementing some string utility methods.">StringUtils</a>.appendNewline(out);
<a name="l00337"></a>00337         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> k = 0; k &lt; this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a27af2d52f21ad0edbd839c0ae83cd27e">ruleSetAnomalies</a>.size(); k++) {
<a name="l00338"></a>00338             <a class="code" href="classmoa_1_1core_1_1StringUtils.html" title="Class implementing some string utility methods.">StringUtils</a>.appendIndented(out, indent, <span class="stringliteral">&quot;Case: &quot;</span>+this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a79a941ade22518bea41d92b6280fb21a">caseAnomaly</a>.get(k).get(0)+<span class="stringliteral">&quot;   Anomaly Score: &quot;</span>+this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a79a941ade22518bea41d92b6280fb21a">caseAnomaly</a>.get(k).get(1)+<span class="stringliteral">&quot;%&quot;</span>);
<a name="l00339"></a>00339             <a class="code" href="classmoa_1_1core_1_1StringUtils.html" title="Class implementing some string utility methods.">StringUtils</a>.appendNewline(out); <span class="comment">//Ver outra parte default</span>
<a name="l00340"></a>00340             <a class="code" href="classmoa_1_1core_1_1StringUtils.html" title="Class implementing some string utility methods.">StringUtils</a>.appendIndented(out, indent, <span class="stringliteral">&quot;Rule &quot;</span>+this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a2294d9ba1bd25bd5c0adcbb8d7b27c1b">ruleAnomaliesIndex</a>.get(k)+<span class="stringliteral">&quot;: &quot;</span>);
<a name="l00341"></a>00341             <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a27af2d52f21ad0edbd839c0ae83cd27e">ruleSetAnomalies</a>.get(k).predicateSet.size(); i++) {
<a name="l00342"></a>00342                 <span class="keywordflow">if</span> (this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a27af2d52f21ad0edbd839c0ae83cd27e">ruleSetAnomalies</a>.get(k).predicateSet.size() == 1) {
<a name="l00343"></a>00343                     <span class="keywordflow">if</span> (this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a27af2d52f21ad0edbd839c0ae83cd27e">ruleSetAnomalies</a>.get(k).predicateSet.get(i).getSymbol() == 0.0) {
<a name="l00344"></a>00344                         String nam = this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a8940290b3e9d7988d0c156e99e8e2c55">instance</a>.attribute((<span class="keywordtype">int</span>)this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a27af2d52f21ad0edbd839c0ae83cd27e">ruleSetAnomalies</a>.get(k).predicateSet.get(i).getAttributeValue()).name();
<a name="l00345"></a>00345                         String val = this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a8940290b3e9d7988d0c156e99e8e2c55">instance</a>.attribute((<span class="keywordtype">int</span>)this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a27af2d52f21ad0edbd839c0ae83cd27e">ruleSetAnomalies</a>.get(k).predicateSet.get(i).getAttributeValue()).value((<span class="keywordtype">int</span>)this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a27af2d52f21ad0edbd839c0ae83cd27e">ruleSetAnomalies</a>.get(k).predicateSet.get(i).getValue());
<a name="l00346"></a>00346                         <a class="code" href="classmoa_1_1core_1_1StringUtils.html" title="Class implementing some string utility methods.">StringUtils</a>.appendIndented(out, indent, nam+<span class="stringliteral">&quot; = &quot;</span>+val+<span class="stringliteral">&quot; --&gt; &quot;</span>+this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a8940290b3e9d7988d0c156e99e8e2c55">instance</a>.classAttribute().value((<span class="keywordtype">int</span>)<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a84bd5ef0a8a6819d0d293a79a971c2ee">getRuleMajorityClassIndex</a>(this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a27af2d52f21ad0edbd839c0ae83cd27e">ruleSetAnomalies</a>.get(k))));
<a name="l00347"></a>00347                         <a class="code" href="classmoa_1_1core_1_1StringUtils.html" title="Class implementing some string utility methods.">StringUtils</a>.appendNewline(out);
<a name="l00348"></a>00348                         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a27af2d52f21ad0edbd839c0ae83cd27e">ruleSetAnomalies</a>.get(k).predicateSet.get(i).getSymbol() == -1.0){
<a name="l00349"></a>00349                             String nam = this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a8940290b3e9d7988d0c156e99e8e2c55">instance</a>.attribute((<span class="keywordtype">int</span>)this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a27af2d52f21ad0edbd839c0ae83cd27e">ruleSetAnomalies</a>.get(k).predicateSet.get(i).getAttributeValue()).name();
<a name="l00350"></a>00350                             <a class="code" href="classmoa_1_1core_1_1StringUtils.html" title="Class implementing some string utility methods.">StringUtils</a>.appendIndented(out, indent, nam+<span class="stringliteral">&quot; &lt;= &quot;</span>+this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a27af2d52f21ad0edbd839c0ae83cd27e">ruleSetAnomalies</a>.get(k).predicateSet.get(i).getValue()+<span class="stringliteral">&quot; --&gt; &quot;</span>+this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a8940290b3e9d7988d0c156e99e8e2c55">instance</a>.classAttribute().value((<span class="keywordtype">int</span>)<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a48d8864c4ffc77cb6ecf22edc5be34de">ruleClassIndex</a>.<a class="code" href="classmoa_1_1core_1_1DoubleVector.html#a0a22580b229225823e9b11ed9d35104a">getValue</a>(<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a2294d9ba1bd25bd5c0adcbb8d7b27c1b">ruleAnomaliesIndex</a>.get(k)-1)));
<a name="l00351"></a>00351                             <a class="code" href="classmoa_1_1core_1_1StringUtils.html" title="Class implementing some string utility methods.">StringUtils</a>.appendNewline(out);
<a name="l00352"></a>00352                             } <span class="keywordflow">else</span> {
<a name="l00353"></a>00353                                 String nam = this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a8940290b3e9d7988d0c156e99e8e2c55">instance</a>.attribute((<span class="keywordtype">int</span>)this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a27af2d52f21ad0edbd839c0ae83cd27e">ruleSetAnomalies</a>.get(k).predicateSet.get(i).getAttributeValue()).name();
<a name="l00354"></a>00354                                 <a class="code" href="classmoa_1_1core_1_1StringUtils.html" title="Class implementing some string utility methods.">StringUtils</a>.appendIndented(out, indent, nam+<span class="stringliteral">&quot; &gt; &quot;</span>+this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a27af2d52f21ad0edbd839c0ae83cd27e">ruleSetAnomalies</a>.get(k).predicateSet.get(i).getValue()+<span class="stringliteral">&quot; --&gt; &quot;</span>+this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a8940290b3e9d7988d0c156e99e8e2c55">instance</a>.classAttribute().value((<span class="keywordtype">int</span>)this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a48d8864c4ffc77cb6ecf22edc5be34de">ruleClassIndex</a>.<a class="code" href="classmoa_1_1core_1_1DoubleVector.html#a0a22580b229225823e9b11ed9d35104a">getValue</a>(<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a2294d9ba1bd25bd5c0adcbb8d7b27c1b">ruleAnomaliesIndex</a>.get(k)-1)));
<a name="l00355"></a>00355                                 <a class="code" href="classmoa_1_1core_1_1StringUtils.html" title="Class implementing some string utility methods.">StringUtils</a>.appendNewline(out);
<a name="l00356"></a>00356                                 }
<a name="l00357"></a>00357                     } <span class="keywordflow">else</span> {
<a name="l00358"></a>00358                         <span class="keywordflow">if</span> (this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a27af2d52f21ad0edbd839c0ae83cd27e">ruleSetAnomalies</a>.get(k).predicateSet.get(i).getSymbol() == 0.0) {
<a name="l00359"></a>00359                             String nam = this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a8940290b3e9d7988d0c156e99e8e2c55">instance</a>.attribute((<span class="keywordtype">int</span>)this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a27af2d52f21ad0edbd839c0ae83cd27e">ruleSetAnomalies</a>.get(k).predicateSet.get(i).getAttributeValue()).name();
<a name="l00360"></a>00360                             String val = this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a8940290b3e9d7988d0c156e99e8e2c55">instance</a>.attribute((<span class="keywordtype">int</span>)this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a27af2d52f21ad0edbd839c0ae83cd27e">ruleSetAnomalies</a>.get(k).predicateSet.get(i).getAttributeValue()).value((<span class="keywordtype">int</span>)this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a27af2d52f21ad0edbd839c0ae83cd27e">ruleSetAnomalies</a>.get(k).predicateSet.get(i).getValue());
<a name="l00361"></a>00361                             <a class="code" href="classmoa_1_1core_1_1StringUtils.html" title="Class implementing some string utility methods.">StringUtils</a>.appendIndented(out, indent, nam+<span class="stringliteral">&quot; = &quot;</span>+val+<span class="stringliteral">&quot; &quot;</span>);
<a name="l00362"></a>00362                             } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a27af2d52f21ad0edbd839c0ae83cd27e">ruleSetAnomalies</a>.get(k).predicateSet.get(i).getSymbol()==-1.0){
<a name="l00363"></a>00363                                 String nam = this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a8940290b3e9d7988d0c156e99e8e2c55">instance</a>.attribute((<span class="keywordtype">int</span>)this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a27af2d52f21ad0edbd839c0ae83cd27e">ruleSetAnomalies</a>.get(k).predicateSet.get(i).getAttributeValue()).name();
<a name="l00364"></a>00364                                 <a class="code" href="classmoa_1_1core_1_1StringUtils.html" title="Class implementing some string utility methods.">StringUtils</a>.appendIndented(out, indent, nam+<span class="stringliteral">&quot; &lt;= &quot;</span>+this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a27af2d52f21ad0edbd839c0ae83cd27e">ruleSetAnomalies</a>.get(k).predicateSet.get(i).getValue()+<span class="stringliteral">&quot; &quot;</span>);
<a name="l00365"></a>00365                                 } <span class="keywordflow">else</span> {
<a name="l00366"></a>00366                                     String nam = this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a8940290b3e9d7988d0c156e99e8e2c55">instance</a>.attribute((<span class="keywordtype">int</span>)this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a27af2d52f21ad0edbd839c0ae83cd27e">ruleSetAnomalies</a>.get(k).predicateSet.get(i).getAttributeValue()).name();
<a name="l00367"></a>00367                                     <a class="code" href="classmoa_1_1core_1_1StringUtils.html" title="Class implementing some string utility methods.">StringUtils</a>.appendIndented(out, indent, nam+<span class="stringliteral">&quot; &gt; &quot;</span>+this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a27af2d52f21ad0edbd839c0ae83cd27e">ruleSetAnomalies</a>.get(k).predicateSet.get(i).getValue()+<span class="stringliteral">&quot; &quot;</span>);
<a name="l00368"></a>00368                                     }
<a name="l00369"></a>00369                         <span class="keywordflow">if</span> (i &lt; this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a27af2d52f21ad0edbd839c0ae83cd27e">ruleSetAnomalies</a>.get(k).predicateSet.size() - 1) {
<a name="l00370"></a>00370                             <a class="code" href="classmoa_1_1core_1_1StringUtils.html" title="Class implementing some string utility methods.">StringUtils</a>.appendIndented(out, indent, <span class="stringliteral">&quot;and &quot;</span>);
<a name="l00371"></a>00371                             } <span class="keywordflow">else</span> {
<a name="l00372"></a>00372                                 <span class="keywordtype">int</span> count = <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a8a58ef1537f8e99164b6aec7c85f8811">getCountNominalAttrib</a>(this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a27af2d52f21ad0edbd839c0ae83cd27e">ruleSetAnomalies</a>.get(k).predicateSet);
<a name="l00373"></a>00373                                 <span class="keywordflow">if</span> ((this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a27af2d52f21ad0edbd839c0ae83cd27e">ruleSetAnomalies</a>.get(k).predicateSet.get(i).getSymbol() == 0.0) || (count != 0)) {
<a name="l00374"></a>00374                                     <a class="code" href="classmoa_1_1core_1_1StringUtils.html" title="Class implementing some string utility methods.">StringUtils</a>.appendIndented(out, indent, <span class="stringliteral">&quot; --&gt; &quot;</span>+this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a8940290b3e9d7988d0c156e99e8e2c55">instance</a>.classAttribute().value((<span class="keywordtype">int</span>)<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a84bd5ef0a8a6819d0d293a79a971c2ee">getRuleMajorityClassIndex</a>(this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a27af2d52f21ad0edbd839c0ae83cd27e">ruleSetAnomalies</a>.get(k))));
<a name="l00375"></a>00375                                     <a class="code" href="classmoa_1_1core_1_1StringUtils.html" title="Class implementing some string utility methods.">StringUtils</a>.appendNewline(out);
<a name="l00376"></a>00376                                     } <span class="keywordflow">else</span> {
<a name="l00377"></a>00377                                         <a class="code" href="classmoa_1_1core_1_1StringUtils.html" title="Class implementing some string utility methods.">StringUtils</a>.appendIndented(out, indent, <span class="stringliteral">&quot; --&gt; &quot;</span>+this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a8940290b3e9d7988d0c156e99e8e2c55">instance</a>.classAttribute().value((<span class="keywordtype">int</span>)this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a48d8864c4ffc77cb6ecf22edc5be34de">ruleClassIndex</a>.<a class="code" href="classmoa_1_1core_1_1DoubleVector.html#a0a22580b229225823e9b11ed9d35104a">getValue</a>(<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a2294d9ba1bd25bd5c0adcbb8d7b27c1b">ruleAnomaliesIndex</a>.get(k)-1)));
<a name="l00378"></a>00378                                         <a class="code" href="classmoa_1_1core_1_1StringUtils.html" title="Class implementing some string utility methods.">StringUtils</a>.appendNewline(out);
<a name="l00379"></a>00379                                         }
<a name="l00380"></a>00380                                 }
<a name="l00381"></a>00381                         }
<a name="l00382"></a>00382                 }
<a name="l00383"></a>00383             <span class="keywordflow">for</span>(<span class="keywordtype">int</span> z=0; z &lt; this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#aa7838f43161a8189ba1136e6167239b6">ruleAttribAnomalyStatistics</a>.get(k).size(); z++) {
<a name="l00384"></a>00384                 <span class="keywordflow">if</span>(this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#aa7838f43161a8189ba1136e6167239b6">ruleAttribAnomalyStatistics</a>.get(k).get(z).size() == 5){
<a name="l00385"></a>00385                 String s = String.format (<span class="stringliteral">&quot;%.3e&quot;</span>, this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#aa7838f43161a8189ba1136e6167239b6">ruleAttribAnomalyStatistics</a>.get(k).get(z).get(4)); 
<a name="l00386"></a>00386                 <a class="code" href="classmoa_1_1core_1_1StringUtils.html" title="Class implementing some string utility methods.">StringUtils</a>.appendIndented(out, indent, <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a8940290b3e9d7988d0c156e99e8e2c55">instance</a>.attribute(<span class="keyword">this</span>.ruleAttribAnomalyStatistics.get(k).get(z).get(0).intValue()).name()+<span class="stringliteral">&quot;=&quot;</span>+<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#ad68f671e43a34b1deba6b25bf9ef456f">round</a>(this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#aa7838f43161a8189ba1136e6167239b6">ruleAttribAnomalyStatistics</a>.get(k).get(z).get(1))+<span class="stringliteral">&quot;   (&quot;</span>+<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#ad68f671e43a34b1deba6b25bf9ef456f">round</a>(this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#aa7838f43161a8189ba1136e6167239b6">ruleAttribAnomalyStatistics</a>.get(k).get(z).get(2))+<span class="stringliteral">&quot; +- &quot;</span>+<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#ad68f671e43a34b1deba6b25bf9ef456f">round</a>(this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#aa7838f43161a8189ba1136e6167239b6">ruleAttribAnomalyStatistics</a>.get(k).get(z).get(3))+<span class="stringliteral">&quot;)   P=&quot;</span>+s);
<a name="l00387"></a>00387                 <a class="code" href="classmoa_1_1core_1_1StringUtils.html" title="Class implementing some string utility methods.">StringUtils</a>.appendNewline(out);
<a name="l00388"></a>00388             } <span class="keywordflow">else</span> {
<a name="l00389"></a>00389                 String s = String.format (<span class="stringliteral">&quot;%.3e&quot;</span>, this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#aa7838f43161a8189ba1136e6167239b6">ruleAttribAnomalyStatistics</a>.get(k).get(z).get(2));
<a name="l00390"></a>00390                 String val = this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a8940290b3e9d7988d0c156e99e8e2c55">instance</a>.attribute(this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#aa7838f43161a8189ba1136e6167239b6">ruleAttribAnomalyStatistics</a>.get(k).get(z).get(0).intValue()).value(this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#aa7838f43161a8189ba1136e6167239b6">ruleAttribAnomalyStatistics</a>.get(k).get(z).get(1).intValue());
<a name="l00391"></a>00391                 <a class="code" href="classmoa_1_1core_1_1StringUtils.html" title="Class implementing some string utility methods.">StringUtils</a>.appendIndented(out, indent, <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a8940290b3e9d7988d0c156e99e8e2c55">instance</a>.attribute(<span class="keyword">this</span>.ruleAttribAnomalyStatistics.get(k).get(z).get(0).intValue()).name()+<span class="stringliteral">&quot;=&quot;</span>+ val+<span class="stringliteral">&quot;   P=&quot;</span>+s);
<a name="l00392"></a>00392                 <a class="code" href="classmoa_1_1core_1_1StringUtils.html" title="Class implementing some string utility methods.">StringUtils</a>.appendNewline(out);
<a name="l00393"></a>00393             }
<a name="l00394"></a>00394             
<a name="l00395"></a>00395         }
<a name="l00396"></a>00396         <a class="code" href="classmoa_1_1core_1_1StringUtils.html" title="Class implementing some string utility methods.">StringUtils</a>.appendNewline(out);
<a name="l00397"></a>00397     }
<a name="l00398"></a>00398             
<a name="l00399"></a>00399     }
<a name="l00400"></a>00400     
<a name="l00401"></a>00401     
<a name="l00402"></a><a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#ae98dc3b59e4e03dc6a59bc7b153babdb">00402</a> <span class="keyword">public</span> <span class="keywordtype">void</span> <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#ae98dc3b59e4e03dc6a59bc7b153babdb">printAnomaliesSupervised</a>(StringBuilder out, <span class="keywordtype">int</span> indent) { <span class="comment">// Get Model Description (Supervised method)</span>
<a name="l00403"></a>00403         
<a name="l00404"></a>00404         <a class="code" href="classmoa_1_1core_1_1StringUtils.html" title="Class implementing some string utility methods.">StringUtils</a>.appendNewline(out);
<a name="l00405"></a>00405         <a class="code" href="classmoa_1_1core_1_1StringUtils.html" title="Class implementing some string utility methods.">StringUtils</a>.appendIndented(out, indent, <span class="stringliteral">&quot;************************SUPERVISED*******************&quot;</span>);
<a name="l00406"></a>00406         <a class="code" href="classmoa_1_1core_1_1StringUtils.html" title="Class implementing some string utility methods.">StringUtils</a>.appendNewline(out);
<a name="l00407"></a>00407         <a class="code" href="classmoa_1_1core_1_1StringUtils.html" title="Class implementing some string utility methods.">StringUtils</a>.appendNewline(out);
<a name="l00408"></a>00408         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> k = 0; k &lt; this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#af9a7ac5e883413027b6dcb1eea5564df">ruleSetAnomaliesSupervised</a>.size(); k++) {
<a name="l00409"></a>00409             <a class="code" href="classmoa_1_1core_1_1StringUtils.html" title="Class implementing some string utility methods.">StringUtils</a>.appendIndented(out, indent, <span class="stringliteral">&quot;Case: &quot;</span>+this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#ae04e879f8da49fc5456c7e168e2293b4">caseAnomalySupervised</a>.get(k).get(0)+<span class="stringliteral">&quot;   Anomaly Score: &quot;</span>+this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#ae04e879f8da49fc5456c7e168e2293b4">caseAnomalySupervised</a>.get(k).get(1)+<span class="stringliteral">&quot;%&quot;</span>);
<a name="l00410"></a>00410             <a class="code" href="classmoa_1_1core_1_1StringUtils.html" title="Class implementing some string utility methods.">StringUtils</a>.appendNewline(out); <span class="comment">//Ver outra parte default</span>
<a name="l00411"></a>00411             <a class="code" href="classmoa_1_1core_1_1StringUtils.html" title="Class implementing some string utility methods.">StringUtils</a>.appendIndented(out, indent, <span class="stringliteral">&quot;Rule &quot;</span>+this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a92c0093a653c6d16f6e9d6a42c816bbe">ruleAnomaliesIndexSupervised</a>.get(k)+<span class="stringliteral">&quot;: &quot;</span>);
<a name="l00412"></a>00412             <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#af9a7ac5e883413027b6dcb1eea5564df">ruleSetAnomaliesSupervised</a>.get(k).predicateSet.size(); i++) {
<a name="l00413"></a>00413                 <span class="keywordflow">if</span> (this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#af9a7ac5e883413027b6dcb1eea5564df">ruleSetAnomaliesSupervised</a>.get(k).predicateSet.size() == 1) {
<a name="l00414"></a>00414                     <span class="keywordflow">if</span> (this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#af9a7ac5e883413027b6dcb1eea5564df">ruleSetAnomaliesSupervised</a>.get(k).predicateSet.get(i).getSymbol() == 0.0) {
<a name="l00415"></a>00415                         String nam = this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a8940290b3e9d7988d0c156e99e8e2c55">instance</a>.attribute((<span class="keywordtype">int</span>)this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#af9a7ac5e883413027b6dcb1eea5564df">ruleSetAnomaliesSupervised</a>.get(k).predicateSet.get(i).getAttributeValue()).name();
<a name="l00416"></a>00416                         String val = this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a8940290b3e9d7988d0c156e99e8e2c55">instance</a>.attribute((<span class="keywordtype">int</span>)this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#af9a7ac5e883413027b6dcb1eea5564df">ruleSetAnomaliesSupervised</a>.get(k).predicateSet.get(i).getAttributeValue()).value((<span class="keywordtype">int</span>)this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#af9a7ac5e883413027b6dcb1eea5564df">ruleSetAnomaliesSupervised</a>.get(k).predicateSet.get(i).getValue());
<a name="l00417"></a>00417                         <a class="code" href="classmoa_1_1core_1_1StringUtils.html" title="Class implementing some string utility methods.">StringUtils</a>.appendIndented(out, indent, nam+<span class="stringliteral">&quot; = &quot;</span>+val+<span class="stringliteral">&quot; --&gt; &quot;</span>+this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a8940290b3e9d7988d0c156e99e8e2c55">instance</a>.classAttribute().value((<span class="keywordtype">int</span>)<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a84bd5ef0a8a6819d0d293a79a971c2ee">getRuleMajorityClassIndex</a>(this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#af9a7ac5e883413027b6dcb1eea5564df">ruleSetAnomaliesSupervised</a>.get(k))));
<a name="l00418"></a>00418                         <a class="code" href="classmoa_1_1core_1_1StringUtils.html" title="Class implementing some string utility methods.">StringUtils</a>.appendNewline(out);
<a name="l00419"></a>00419                         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#af9a7ac5e883413027b6dcb1eea5564df">ruleSetAnomaliesSupervised</a>.get(k).predicateSet.get(i).getSymbol() == -1.0){
<a name="l00420"></a>00420                             String nam = this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a8940290b3e9d7988d0c156e99e8e2c55">instance</a>.attribute((<span class="keywordtype">int</span>)this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#af9a7ac5e883413027b6dcb1eea5564df">ruleSetAnomaliesSupervised</a>.get(k).predicateSet.get(i).getAttributeValue()).name();
<a name="l00421"></a>00421                             <a class="code" href="classmoa_1_1core_1_1StringUtils.html" title="Class implementing some string utility methods.">StringUtils</a>.appendIndented(out, indent, nam+<span class="stringliteral">&quot; &lt;= &quot;</span>+this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#af9a7ac5e883413027b6dcb1eea5564df">ruleSetAnomaliesSupervised</a>.get(k).predicateSet.get(i).getValue()+<span class="stringliteral">&quot; --&gt; &quot;</span>+this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a8940290b3e9d7988d0c156e99e8e2c55">instance</a>.classAttribute().value((<span class="keywordtype">int</span>)<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a48d8864c4ffc77cb6ecf22edc5be34de">ruleClassIndex</a>.<a class="code" href="classmoa_1_1core_1_1DoubleVector.html#a0a22580b229225823e9b11ed9d35104a">getValue</a>(<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a92c0093a653c6d16f6e9d6a42c816bbe">ruleAnomaliesIndexSupervised</a>.get(k)-1)));
<a name="l00422"></a>00422                             <a class="code" href="classmoa_1_1core_1_1StringUtils.html" title="Class implementing some string utility methods.">StringUtils</a>.appendNewline(out);
<a name="l00423"></a>00423                             } <span class="keywordflow">else</span> {
<a name="l00424"></a>00424                                 String nam = this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a8940290b3e9d7988d0c156e99e8e2c55">instance</a>.attribute((<span class="keywordtype">int</span>)this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#af9a7ac5e883413027b6dcb1eea5564df">ruleSetAnomaliesSupervised</a>.get(k).predicateSet.get(i).getAttributeValue()).name();
<a name="l00425"></a>00425                                 <a class="code" href="classmoa_1_1core_1_1StringUtils.html" title="Class implementing some string utility methods.">StringUtils</a>.appendIndented(out, indent, nam+<span class="stringliteral">&quot; &gt; &quot;</span>+this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#af9a7ac5e883413027b6dcb1eea5564df">ruleSetAnomaliesSupervised</a>.get(k).predicateSet.get(i).getValue()+<span class="stringliteral">&quot; --&gt; &quot;</span>+this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a8940290b3e9d7988d0c156e99e8e2c55">instance</a>.classAttribute().value((<span class="keywordtype">int</span>)this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a48d8864c4ffc77cb6ecf22edc5be34de">ruleClassIndex</a>.<a class="code" href="classmoa_1_1core_1_1DoubleVector.html#a0a22580b229225823e9b11ed9d35104a">getValue</a>(<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a92c0093a653c6d16f6e9d6a42c816bbe">ruleAnomaliesIndexSupervised</a>.get(k)-1)));
<a name="l00426"></a>00426                                 <a class="code" href="classmoa_1_1core_1_1StringUtils.html" title="Class implementing some string utility methods.">StringUtils</a>.appendNewline(out);
<a name="l00427"></a>00427                                 }
<a name="l00428"></a>00428                     } <span class="keywordflow">else</span> {
<a name="l00429"></a>00429                         <span class="keywordflow">if</span> (this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#af9a7ac5e883413027b6dcb1eea5564df">ruleSetAnomaliesSupervised</a>.get(k).predicateSet.get(i).getSymbol() == 0.0) {
<a name="l00430"></a>00430                             String nam = this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a8940290b3e9d7988d0c156e99e8e2c55">instance</a>.attribute((<span class="keywordtype">int</span>)this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#af9a7ac5e883413027b6dcb1eea5564df">ruleSetAnomaliesSupervised</a>.get(k).predicateSet.get(i).getAttributeValue()).name();
<a name="l00431"></a>00431                             String val = this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a8940290b3e9d7988d0c156e99e8e2c55">instance</a>.attribute((<span class="keywordtype">int</span>)this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#af9a7ac5e883413027b6dcb1eea5564df">ruleSetAnomaliesSupervised</a>.get(k).predicateSet.get(i).getAttributeValue()).value((<span class="keywordtype">int</span>)this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#af9a7ac5e883413027b6dcb1eea5564df">ruleSetAnomaliesSupervised</a>.get(k).predicateSet.get(i).getValue());
<a name="l00432"></a>00432                             <a class="code" href="classmoa_1_1core_1_1StringUtils.html" title="Class implementing some string utility methods.">StringUtils</a>.appendIndented(out, indent, nam+<span class="stringliteral">&quot; = &quot;</span>+val+<span class="stringliteral">&quot; &quot;</span>);
<a name="l00433"></a>00433                             } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#af9a7ac5e883413027b6dcb1eea5564df">ruleSetAnomaliesSupervised</a>.get(k).predicateSet.get(i).getSymbol()==-1.0){
<a name="l00434"></a>00434                                 String nam = this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a8940290b3e9d7988d0c156e99e8e2c55">instance</a>.attribute((<span class="keywordtype">int</span>)this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#af9a7ac5e883413027b6dcb1eea5564df">ruleSetAnomaliesSupervised</a>.get(k).predicateSet.get(i).getAttributeValue()).name();
<a name="l00435"></a>00435                                 <a class="code" href="classmoa_1_1core_1_1StringUtils.html" title="Class implementing some string utility methods.">StringUtils</a>.appendIndented(out, indent, nam+<span class="stringliteral">&quot; &lt;= &quot;</span>+this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#af9a7ac5e883413027b6dcb1eea5564df">ruleSetAnomaliesSupervised</a>.get(k).predicateSet.get(i).getValue()+<span class="stringliteral">&quot; &quot;</span>);
<a name="l00436"></a>00436                                 } <span class="keywordflow">else</span> {
<a name="l00437"></a>00437                                     String nam = this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a8940290b3e9d7988d0c156e99e8e2c55">instance</a>.attribute((<span class="keywordtype">int</span>)this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#af9a7ac5e883413027b6dcb1eea5564df">ruleSetAnomaliesSupervised</a>.get(k).predicateSet.get(i).getAttributeValue()).name();
<a name="l00438"></a>00438                                     <a class="code" href="classmoa_1_1core_1_1StringUtils.html" title="Class implementing some string utility methods.">StringUtils</a>.appendIndented(out, indent, nam+<span class="stringliteral">&quot; &gt; &quot;</span>+this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#af9a7ac5e883413027b6dcb1eea5564df">ruleSetAnomaliesSupervised</a>.get(k).predicateSet.get(i).getValue()+<span class="stringliteral">&quot; &quot;</span>);
<a name="l00439"></a>00439                                     }
<a name="l00440"></a>00440                         <span class="keywordflow">if</span> (i &lt; this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#af9a7ac5e883413027b6dcb1eea5564df">ruleSetAnomaliesSupervised</a>.get(k).predicateSet.size() - 1) {
<a name="l00441"></a>00441                             <a class="code" href="classmoa_1_1core_1_1StringUtils.html" title="Class implementing some string utility methods.">StringUtils</a>.appendIndented(out, indent, <span class="stringliteral">&quot;and &quot;</span>);
<a name="l00442"></a>00442                             } <span class="keywordflow">else</span> {
<a name="l00443"></a>00443                                 <span class="keywordtype">int</span> count = <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a8a58ef1537f8e99164b6aec7c85f8811">getCountNominalAttrib</a>(this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#af9a7ac5e883413027b6dcb1eea5564df">ruleSetAnomaliesSupervised</a>.get(k).predicateSet);
<a name="l00444"></a>00444                                 <span class="keywordflow">if</span> ((this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#af9a7ac5e883413027b6dcb1eea5564df">ruleSetAnomaliesSupervised</a>.get(k).predicateSet.get(i).getSymbol() == 0.0) || (count != 0)) {
<a name="l00445"></a>00445                                     <a class="code" href="classmoa_1_1core_1_1StringUtils.html" title="Class implementing some string utility methods.">StringUtils</a>.appendIndented(out, indent, <span class="stringliteral">&quot; --&gt; &quot;</span>+this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a8940290b3e9d7988d0c156e99e8e2c55">instance</a>.classAttribute().value((<span class="keywordtype">int</span>)<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a84bd5ef0a8a6819d0d293a79a971c2ee">getRuleMajorityClassIndex</a>(this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#af9a7ac5e883413027b6dcb1eea5564df">ruleSetAnomaliesSupervised</a>.get(k))));
<a name="l00446"></a>00446                                     <a class="code" href="classmoa_1_1core_1_1StringUtils.html" title="Class implementing some string utility methods.">StringUtils</a>.appendNewline(out);
<a name="l00447"></a>00447                                     } <span class="keywordflow">else</span> {
<a name="l00448"></a>00448                                         <a class="code" href="classmoa_1_1core_1_1StringUtils.html" title="Class implementing some string utility methods.">StringUtils</a>.appendIndented(out, indent, <span class="stringliteral">&quot; --&gt; &quot;</span>+this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a8940290b3e9d7988d0c156e99e8e2c55">instance</a>.classAttribute().value((<span class="keywordtype">int</span>)this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a48d8864c4ffc77cb6ecf22edc5be34de">ruleClassIndex</a>.<a class="code" href="classmoa_1_1core_1_1DoubleVector.html#a0a22580b229225823e9b11ed9d35104a">getValue</a>(<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a92c0093a653c6d16f6e9d6a42c816bbe">ruleAnomaliesIndexSupervised</a>.get(k)-1)));
<a name="l00449"></a>00449                                         <a class="code" href="classmoa_1_1core_1_1StringUtils.html" title="Class implementing some string utility methods.">StringUtils</a>.appendNewline(out);
<a name="l00450"></a>00450                                         }
<a name="l00451"></a>00451                                 }
<a name="l00452"></a>00452                         }
<a name="l00453"></a>00453                 }
<a name="l00454"></a>00454             <span class="keywordflow">for</span>(<span class="keywordtype">int</span> z=0; z &lt; this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a29d01da7d163d6efad0bb9d47362a736">ruleAttribAnomalyStatisticsSupervised</a>.get(k).size(); z++) {
<a name="l00455"></a>00455                 <span class="keywordflow">if</span>(this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a29d01da7d163d6efad0bb9d47362a736">ruleAttribAnomalyStatisticsSupervised</a>.get(k).get(z).size() == 5){
<a name="l00456"></a>00456                 String s = String.format (<span class="stringliteral">&quot;%.3e&quot;</span>, this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a29d01da7d163d6efad0bb9d47362a736">ruleAttribAnomalyStatisticsSupervised</a>.get(k).get(z).get(4)); 
<a name="l00457"></a>00457                 <a class="code" href="classmoa_1_1core_1_1StringUtils.html" title="Class implementing some string utility methods.">StringUtils</a>.appendIndented(out, indent, <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a8940290b3e9d7988d0c156e99e8e2c55">instance</a>.attribute(<span class="keyword">this</span>.ruleAttribAnomalyStatisticsSupervised.get(k).get(z).get(0).intValue()).name()+<span class="stringliteral">&quot;=&quot;</span>+<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#ad68f671e43a34b1deba6b25bf9ef456f">round</a>(this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a29d01da7d163d6efad0bb9d47362a736">ruleAttribAnomalyStatisticsSupervised</a>.get(k).get(z).get(1))+<span class="stringliteral">&quot;   (&quot;</span>+<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#ad68f671e43a34b1deba6b25bf9ef456f">round</a>(this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a29d01da7d163d6efad0bb9d47362a736">ruleAttribAnomalyStatisticsSupervised</a>.get(k).get(z).get(2))+<span class="stringliteral">&quot; +- &quot;</span>+<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#ad68f671e43a34b1deba6b25bf9ef456f">round</a>(this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a29d01da7d163d6efad0bb9d47362a736">ruleAttribAnomalyStatisticsSupervised</a>.get(k).get(z).get(3))+<span class="stringliteral">&quot;)   P=&quot;</span>+s);
<a name="l00458"></a>00458                 <a class="code" href="classmoa_1_1core_1_1StringUtils.html" title="Class implementing some string utility methods.">StringUtils</a>.appendNewline(out);
<a name="l00459"></a>00459             } <span class="keywordflow">else</span> {
<a name="l00460"></a>00460                 String s = String.format (<span class="stringliteral">&quot;%.3e&quot;</span>, this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a29d01da7d163d6efad0bb9d47362a736">ruleAttribAnomalyStatisticsSupervised</a>.get(k).get(z).get(2));
<a name="l00461"></a>00461                 String val = this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a8940290b3e9d7988d0c156e99e8e2c55">instance</a>.attribute(this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a29d01da7d163d6efad0bb9d47362a736">ruleAttribAnomalyStatisticsSupervised</a>.get(k).get(z).get(0).intValue()).value(this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a29d01da7d163d6efad0bb9d47362a736">ruleAttribAnomalyStatisticsSupervised</a>.get(k).get(z).get(1).intValue());
<a name="l00462"></a>00462                 <a class="code" href="classmoa_1_1core_1_1StringUtils.html" title="Class implementing some string utility methods.">StringUtils</a>.appendIndented(out, indent, <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a8940290b3e9d7988d0c156e99e8e2c55">instance</a>.attribute(<span class="keyword">this</span>.ruleAttribAnomalyStatisticsSupervised.get(k).get(z).get(0).intValue()).name()+<span class="stringliteral">&quot;=&quot;</span>+ val+<span class="stringliteral">&quot;   P=&quot;</span>+s);
<a name="l00463"></a>00463                 <a class="code" href="classmoa_1_1core_1_1StringUtils.html" title="Class implementing some string utility methods.">StringUtils</a>.appendNewline(out);
<a name="l00464"></a>00464             }
<a name="l00465"></a>00465             
<a name="l00466"></a>00466         }
<a name="l00467"></a>00467         <a class="code" href="classmoa_1_1core_1_1StringUtils.html" title="Class implementing some string utility methods.">StringUtils</a>.appendNewline(out);
<a name="l00468"></a>00468     }
<a name="l00469"></a>00469             
<a name="l00470"></a>00470     }
<a name="l00471"></a>00471     
<a name="l00472"></a>00472     
<a name="l00473"></a><a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a46a43402f2b44c05b9a262c5308e1b2b">00473</a>     <span class="keyword">public</span> <span class="keywordtype">void</span> <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a46a43402f2b44c05b9a262c5308e1b2b">getModelDescriptionNoAnomalyDetection</a>(StringBuilder out, <span class="keywordtype">int</span> indent) { <span class="comment">// Get Model Description no Anomaly detection</span>
<a name="l00474"></a>00474         <a class="code" href="classmoa_1_1core_1_1StringUtils.html" title="Class implementing some string utility methods.">StringUtils</a>.appendNewline(out);
<a name="l00475"></a>00475         <a class="code" href="classmoa_1_1core_1_1StringUtils.html" title="Class implementing some string utility methods.">StringUtils</a>.appendIndented(out, indent, <span class="stringliteral">&quot;Number of Rule: &quot;</span> + <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a7d88549f5206dfc6c384e14fc2734e97">ruleSet</a>.size());
<a name="l00476"></a>00476         <a class="code" href="classmoa_1_1core_1_1StringUtils.html" title="Class implementing some string utility methods.">StringUtils</a>.appendNewline(out);
<a name="l00477"></a>00477         <a class="code" href="classmoa_1_1core_1_1StringUtils.html" title="Class implementing some string utility methods.">StringUtils</a>.appendNewline(out);
<a name="l00478"></a>00478         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> k = 0; k &lt; this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a7d88549f5206dfc6c384e14fc2734e97">ruleSet</a>.size(); k++) {
<a name="l00479"></a>00479             <a class="code" href="classmoa_1_1core_1_1StringUtils.html" title="Class implementing some string utility methods.">StringUtils</a>.appendIndented(out, indent, <span class="stringliteral">&quot;Rule &quot;</span>+(k+1)+<span class="stringliteral">&quot;: &quot;</span>);
<a name="l00480"></a>00480             <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a7d88549f5206dfc6c384e14fc2734e97">ruleSet</a>.get(k).predicateSet.size(); i++) {
<a name="l00481"></a>00481                 <span class="keywordflow">if</span> (this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a7d88549f5206dfc6c384e14fc2734e97">ruleSet</a>.get(k).predicateSet.size() == 1) {
<a name="l00482"></a>00482                     <span class="keywordflow">if</span> (this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a7d88549f5206dfc6c384e14fc2734e97">ruleSet</a>.get(k).predicateSet.get(i).getSymbol() == 0.0) {
<a name="l00483"></a>00483                         String nam = this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a8940290b3e9d7988d0c156e99e8e2c55">instance</a>.attribute((<span class="keywordtype">int</span>)this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a7d88549f5206dfc6c384e14fc2734e97">ruleSet</a>.get(k).predicateSet.get(i).getAttributeValue()).name();
<a name="l00484"></a>00484                         String val = this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a8940290b3e9d7988d0c156e99e8e2c55">instance</a>.attribute((<span class="keywordtype">int</span>)this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a7d88549f5206dfc6c384e14fc2734e97">ruleSet</a>.get(k).predicateSet.get(i).getAttributeValue()).value((<span class="keywordtype">int</span>)this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a7d88549f5206dfc6c384e14fc2734e97">ruleSet</a>.get(k).predicateSet.get(i).getValue());
<a name="l00485"></a>00485                         <a class="code" href="classmoa_1_1core_1_1StringUtils.html" title="Class implementing some string utility methods.">StringUtils</a>.appendIndented(out, indent, nam+<span class="stringliteral">&quot; = &quot;</span>+val+<span class="stringliteral">&quot; --&gt; &quot;</span>+this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a8940290b3e9d7988d0c156e99e8e2c55">instance</a>.classAttribute().value((<span class="keywordtype">int</span>)<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a84bd5ef0a8a6819d0d293a79a971c2ee">getRuleMajorityClassIndex</a>(this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a7d88549f5206dfc6c384e14fc2734e97">ruleSet</a>.get(k))));
<a name="l00486"></a>00486                         <a class="code" href="classmoa_1_1core_1_1StringUtils.html" title="Class implementing some string utility methods.">StringUtils</a>.appendNewline(out);
<a name="l00487"></a>00487                         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a7d88549f5206dfc6c384e14fc2734e97">ruleSet</a>.get(k).predicateSet.get(i).getSymbol() == -1.0){
<a name="l00488"></a>00488                             String nam = this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a8940290b3e9d7988d0c156e99e8e2c55">instance</a>.attribute((<span class="keywordtype">int</span>)this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a7d88549f5206dfc6c384e14fc2734e97">ruleSet</a>.get(k).predicateSet.get(i).getAttributeValue()).name();
<a name="l00489"></a>00489                             <a class="code" href="classmoa_1_1core_1_1StringUtils.html" title="Class implementing some string utility methods.">StringUtils</a>.appendIndented(out, indent, nam+<span class="stringliteral">&quot; &lt;= &quot;</span>+this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a7d88549f5206dfc6c384e14fc2734e97">ruleSet</a>.get(k).predicateSet.get(i).getValue()+<span class="stringliteral">&quot; --&gt; &quot;</span>+this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a8940290b3e9d7988d0c156e99e8e2c55">instance</a>.classAttribute().value((<span class="keywordtype">int</span>)<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a48d8864c4ffc77cb6ecf22edc5be34de">ruleClassIndex</a>.<a class="code" href="classmoa_1_1core_1_1DoubleVector.html#a0a22580b229225823e9b11ed9d35104a">getValue</a>(k)));
<a name="l00490"></a>00490                             <a class="code" href="classmoa_1_1core_1_1StringUtils.html" title="Class implementing some string utility methods.">StringUtils</a>.appendNewline(out);
<a name="l00491"></a>00491                             } <span class="keywordflow">else</span> {
<a name="l00492"></a>00492                                 String nam = this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a8940290b3e9d7988d0c156e99e8e2c55">instance</a>.attribute((<span class="keywordtype">int</span>)this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a7d88549f5206dfc6c384e14fc2734e97">ruleSet</a>.get(k).predicateSet.get(i).getAttributeValue()).name();
<a name="l00493"></a>00493                                 <a class="code" href="classmoa_1_1core_1_1StringUtils.html" title="Class implementing some string utility methods.">StringUtils</a>.appendIndented(out, indent, nam+<span class="stringliteral">&quot; &gt; &quot;</span>+this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a7d88549f5206dfc6c384e14fc2734e97">ruleSet</a>.get(k).predicateSet.get(i).getValue()+<span class="stringliteral">&quot; --&gt; &quot;</span>+this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a8940290b3e9d7988d0c156e99e8e2c55">instance</a>.classAttribute().value((<span class="keywordtype">int</span>)this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a48d8864c4ffc77cb6ecf22edc5be34de">ruleClassIndex</a>.<a class="code" href="classmoa_1_1core_1_1DoubleVector.html#a0a22580b229225823e9b11ed9d35104a">getValue</a>(k)));
<a name="l00494"></a>00494                                 <a class="code" href="classmoa_1_1core_1_1StringUtils.html" title="Class implementing some string utility methods.">StringUtils</a>.appendNewline(out);
<a name="l00495"></a>00495                                 }
<a name="l00496"></a>00496                     } <span class="keywordflow">else</span> {
<a name="l00497"></a>00497                         <span class="keywordflow">if</span> (this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a7d88549f5206dfc6c384e14fc2734e97">ruleSet</a>.get(k).predicateSet.get(i).getSymbol() == 0.0) {
<a name="l00498"></a>00498                             String nam = this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a8940290b3e9d7988d0c156e99e8e2c55">instance</a>.attribute((<span class="keywordtype">int</span>)this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a7d88549f5206dfc6c384e14fc2734e97">ruleSet</a>.get(k).predicateSet.get(i).getAttributeValue()).name();
<a name="l00499"></a>00499                             String val = this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a8940290b3e9d7988d0c156e99e8e2c55">instance</a>.attribute((<span class="keywordtype">int</span>)this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a7d88549f5206dfc6c384e14fc2734e97">ruleSet</a>.get(k).predicateSet.get(i).getAttributeValue()).value((<span class="keywordtype">int</span>)this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a7d88549f5206dfc6c384e14fc2734e97">ruleSet</a>.get(k).predicateSet.get(i).getValue());
<a name="l00500"></a>00500                             <a class="code" href="classmoa_1_1core_1_1StringUtils.html" title="Class implementing some string utility methods.">StringUtils</a>.appendIndented(out, indent, nam+<span class="stringliteral">&quot; = &quot;</span>+val+<span class="stringliteral">&quot; &quot;</span>);
<a name="l00501"></a>00501                             } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a7d88549f5206dfc6c384e14fc2734e97">ruleSet</a>.get(k).predicateSet.get(i).getSymbol()==-1.0){
<a name="l00502"></a>00502                                 String nam = this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a8940290b3e9d7988d0c156e99e8e2c55">instance</a>.attribute((<span class="keywordtype">int</span>)this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a7d88549f5206dfc6c384e14fc2734e97">ruleSet</a>.get(k).predicateSet.get(i).getAttributeValue()).name();
<a name="l00503"></a>00503                                 <a class="code" href="classmoa_1_1core_1_1StringUtils.html" title="Class implementing some string utility methods.">StringUtils</a>.appendIndented(out, indent, nam+<span class="stringliteral">&quot; &lt;= &quot;</span>+this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a7d88549f5206dfc6c384e14fc2734e97">ruleSet</a>.get(k).predicateSet.get(i).getValue()+<span class="stringliteral">&quot; &quot;</span>);
<a name="l00504"></a>00504                                 } <span class="keywordflow">else</span> {
<a name="l00505"></a>00505                                     String nam = this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a8940290b3e9d7988d0c156e99e8e2c55">instance</a>.attribute((<span class="keywordtype">int</span>)this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a7d88549f5206dfc6c384e14fc2734e97">ruleSet</a>.get(k).predicateSet.get(i).getAttributeValue()).name();
<a name="l00506"></a>00506                                     <a class="code" href="classmoa_1_1core_1_1StringUtils.html" title="Class implementing some string utility methods.">StringUtils</a>.appendIndented(out, indent, nam+<span class="stringliteral">&quot; &gt; &quot;</span>+this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a7d88549f5206dfc6c384e14fc2734e97">ruleSet</a>.get(k).predicateSet.get(i).getValue()+<span class="stringliteral">&quot; &quot;</span>);
<a name="l00507"></a>00507                                     }
<a name="l00508"></a>00508                         <span class="keywordflow">if</span> (i &lt; this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a7d88549f5206dfc6c384e14fc2734e97">ruleSet</a>.get(k).predicateSet.size() - 1) {
<a name="l00509"></a>00509                             <a class="code" href="classmoa_1_1core_1_1StringUtils.html" title="Class implementing some string utility methods.">StringUtils</a>.appendIndented(out, indent, <span class="stringliteral">&quot;and &quot;</span>);
<a name="l00510"></a>00510                             } <span class="keywordflow">else</span> {
<a name="l00511"></a>00511                                 <span class="keywordtype">int</span> count = <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a8a58ef1537f8e99164b6aec7c85f8811">getCountNominalAttrib</a>(this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a7d88549f5206dfc6c384e14fc2734e97">ruleSet</a>.get(k).predicateSet);
<a name="l00512"></a>00512                                 <span class="keywordflow">if</span> ((this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a7d88549f5206dfc6c384e14fc2734e97">ruleSet</a>.get(k).predicateSet.get(i).getSymbol() == 0.0) || (count != 0)) {
<a name="l00513"></a>00513                                     <a class="code" href="classmoa_1_1core_1_1StringUtils.html" title="Class implementing some string utility methods.">StringUtils</a>.appendIndented(out, indent, <span class="stringliteral">&quot; --&gt; &quot;</span>+this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a8940290b3e9d7988d0c156e99e8e2c55">instance</a>.classAttribute().value((<span class="keywordtype">int</span>)<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a84bd5ef0a8a6819d0d293a79a971c2ee">getRuleMajorityClassIndex</a>(this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a7d88549f5206dfc6c384e14fc2734e97">ruleSet</a>.get(k))));
<a name="l00514"></a>00514                                     <a class="code" href="classmoa_1_1core_1_1StringUtils.html" title="Class implementing some string utility methods.">StringUtils</a>.appendNewline(out);
<a name="l00515"></a>00515                                     } <span class="keywordflow">else</span> {
<a name="l00516"></a>00516                                         <a class="code" href="classmoa_1_1core_1_1StringUtils.html" title="Class implementing some string utility methods.">StringUtils</a>.appendIndented(out, indent, <span class="stringliteral">&quot; --&gt; &quot;</span>+this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a8940290b3e9d7988d0c156e99e8e2c55">instance</a>.classAttribute().value((<span class="keywordtype">int</span>)this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a48d8864c4ffc77cb6ecf22edc5be34de">ruleClassIndex</a>.<a class="code" href="classmoa_1_1core_1_1DoubleVector.html#a0a22580b229225823e9b11ed9d35104a">getValue</a>(k)));
<a name="l00517"></a>00517                                         <a class="code" href="classmoa_1_1core_1_1StringUtils.html" title="Class implementing some string utility methods.">StringUtils</a>.appendNewline(out);
<a name="l00518"></a>00518                                         }
<a name="l00519"></a>00519                                 }
<a name="l00520"></a>00520                         }
<a name="l00521"></a>00521                 }
<a name="l00522"></a>00522             <a class="code" href="classmoa_1_1core_1_1StringUtils.html" title="Class implementing some string utility methods.">StringUtils</a>.appendNewline(out);
<a name="l00523"></a>00523             }
<a name="l00524"></a>00524         }
<a name="l00525"></a>00525     
<a name="l00526"></a>00526     
<a name="l00527"></a>00527     @Override
<a name="l00528"></a><a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a7262c9b6381fa2dc65e0fc7de6f2682c">00528</a>     <span class="keyword">public</span> <span class="keywordtype">boolean</span> <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a7262c9b6381fa2dc65e0fc7de6f2682c" title="Gets whether this classifier needs a random seed.">isRandomizable</a>() {
<a name="l00529"></a>00529         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00530"></a>00530     }
<a name="l00531"></a>00531     
<a name="l00532"></a><a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a8a58ef1537f8e99164b6aec7c85f8811">00532</a>     <span class="keyword">public</span> <span class="keywordtype">int</span> <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a8a58ef1537f8e99164b6aec7c85f8811">getCountNominalAttrib</a>(ArrayList&lt;Predicates&gt; predicateSet) {
<a name="l00533"></a>00533         <span class="keywordtype">int</span> count = 0;
<a name="l00534"></a>00534         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; predicateSet.size(); i++) {
<a name="l00535"></a>00535             <span class="keywordflow">if</span> (predicateSet.get(i).getSymbol() == 0.0) {
<a name="l00536"></a>00536                 count = count + 1;
<a name="l00537"></a>00537                 <span class="keywordflow">break</span>;
<a name="l00538"></a>00538             }
<a name="l00539"></a>00539         }
<a name="l00540"></a>00540         <span class="keywordflow">return</span> count;
<a name="l00541"></a>00541     }
<a name="l00542"></a>00542     
<a name="l00543"></a>00543     <span class="comment">//Round an number</span>
<a name="l00544"></a><a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#ad68f671e43a34b1deba6b25bf9ef456f">00544</a>     <span class="keyword">protected</span> BigDecimal <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#ad68f671e43a34b1deba6b25bf9ef456f">round</a>(<span class="keywordtype">double</span> val){
<a name="l00545"></a>00545         BigDecimal value = <span class="keyword">new</span> BigDecimal(val);
<a name="l00546"></a>00546         <span class="keywordflow">if</span>(val!=0.0){
<a name="l00547"></a>00547             value = value.setScale(3, BigDecimal.ROUND_DOWN);
<a name="l00548"></a>00548         }
<a name="l00549"></a>00549         <span class="keywordflow">return</span> value;
<a name="l00550"></a>00550     }
<a name="l00551"></a>00551     
<a name="l00552"></a>00552     
<a name="l00553"></a>00553     <span class="comment">//This function initializes the statistics of a rule </span>
<a name="l00554"></a><a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a7e481f87129041fba274fac8a0e00938">00554</a>     <span class="keyword">public</span> <span class="keywordtype">void</span> <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a7e481f87129041fba274fac8a0e00938">initializeRuleStatistics</a>(<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassification.html">RuleClassification</a> rl, <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1Predicates.html">Predicates</a> <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a6fd2796c33e19f75e078e479b91cdab6">pred</a>, Instance inst) {
<a name="l00555"></a>00555         rl.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassification.html#aa959c7455752ea3fee823961d3b6159d">predicateSet</a>.add(pred);
<a name="l00556"></a>00556         rl.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassification.html#a088ca682278f0a7c6993c5193ac55d52">obserClassDistrib</a>=<span class="keyword">new</span> <a class="code" href="classmoa_1_1core_1_1DoubleVector.html" title="Vector of double numbers with some utilities.">DoubleVector</a>();
<a name="l00557"></a>00557         rl.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassification.html#a8c66e6e1aa355a1c4d1e9af6fd7b20cb">observers</a>=<span class="keyword">new</span> AutoExpandVector&lt;AttributeClassObserver&gt;();
<a name="l00558"></a>00558         rl.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassification.html#abc1662e634adb39fc22a5ad9c0dbd250">observersGauss</a>=<span class="keyword">new</span> AutoExpandVector&lt;AttributeClassObserver&gt;();
<a name="l00559"></a>00559         rl.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassification.html#a0a20a8198282d091835576047a4a2f96">instancesSeen</a> = 0;
<a name="l00560"></a>00560         rl.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassification.html#a6866e01c0604bcf8bc7188b0932fddc8">attributeStatistics</a> = <span class="keyword">new</span> <a class="code" href="classmoa_1_1core_1_1DoubleVector.html" title="Vector of double numbers with some utilities.">DoubleVector</a>();
<a name="l00561"></a>00561         rl.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassification.html#a1ffbff3ebb7cbdbf33d56d56698e3c8f">squaredAttributeStatistics</a> = <span class="keyword">new</span> <a class="code" href="classmoa_1_1core_1_1DoubleVector.html" title="Vector of double numbers with some utilities.">DoubleVector</a>();
<a name="l00562"></a>00562         rl.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassification.html#adbbf5c71b62dcae2906faaf0896318d5">attributeStatisticsSupervised</a> = <span class="keyword">new</span> ArrayList&lt;ArrayList&lt;Double&gt;&gt;();
<a name="l00563"></a>00563         rl.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassification.html#acf6ce238416c0b084e9be7bb7a13f70d">squaredAttributeStatisticsSupervised</a> = <span class="keyword">new</span> ArrayList&lt;ArrayList&lt;Double&gt;&gt;();
<a name="l00564"></a>00564         rl.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassification.html#ac6e21e8ee990943f07bcfd4917249372">attributeMissingValues</a> = <span class="keyword">new</span> <a class="code" href="classmoa_1_1core_1_1DoubleVector.html" title="Vector of double numbers with some utilities.">DoubleVector</a>();
<a name="l00565"></a>00565     }
<a name="l00566"></a>00566     
<a name="l00567"></a>00567     <span class="comment">// Update rule statistics</span>
<a name="l00568"></a><a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a702db28f3a9c0d2712df478c53adfbc6">00568</a>     <span class="keyword">public</span> <span class="keywordtype">void</span> <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a702db28f3a9c0d2712df478c53adfbc6">updateRuleAttribStatistics</a>(Instance inst, <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassification.html">RuleClassification</a> rl, <span class="keywordtype">int</span> ruleIndex){
<a name="l00569"></a>00569         rl.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassification.html#a0a20a8198282d091835576047a4a2f96">instancesSeen</a>++; 
<a name="l00570"></a>00570         <span class="keywordflow">if</span>(rl.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassification.html#acf6ce238416c0b084e9be7bb7a13f70d">squaredAttributeStatisticsSupervised</a>.size() == 0 &amp;&amp; rl.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassification.html#adbbf5c71b62dcae2906faaf0896318d5">attributeStatisticsSupervised</a>.size() == 0){
<a name="l00571"></a>00571             <span class="keywordflow">for</span> (<span class="keywordtype">int</span> s = 0; s &lt; inst.numAttributes() -1; s++) {
<a name="l00572"></a>00572                 ArrayList&lt;Double&gt; temp1 = <span class="keyword">new</span> ArrayList&lt;Double&gt;();
<a name="l00573"></a>00573                 ArrayList&lt;Double&gt; temp2 = <span class="keyword">new</span> ArrayList&lt;Double&gt;();
<a name="l00574"></a>00574                 rl.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassification.html#adbbf5c71b62dcae2906faaf0896318d5">attributeStatisticsSupervised</a>.add(temp1);
<a name="l00575"></a>00575                 rl.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassification.html#acf6ce238416c0b084e9be7bb7a13f70d">squaredAttributeStatisticsSupervised</a>.add(temp2);
<a name="l00576"></a>00576                 <span class="keywordtype">int</span> instAttIndex = <a class="code" href="classmoa_1_1classifiers_1_1AbstractClassifier.html#a5cd97fb8e5751d48de011c81f45466d4" title="Gets the index of the attribute in the instance, given the index of the attribute...">modelAttIndexToInstanceAttIndex</a>(s, inst);
<a name="l00577"></a>00577                 <span class="keywordflow">if</span>(<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a8940290b3e9d7988d0c156e99e8e2c55">instance</a>.attribute(instAttIndex).isNumeric()){
<a name="l00578"></a>00578                     <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0; i&lt;inst.numClasses(); i++){
<a name="l00579"></a>00579                         rl.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassification.html#adbbf5c71b62dcae2906faaf0896318d5">attributeStatisticsSupervised</a>.get(s).add(0.0);
<a name="l00580"></a>00580                         rl.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassification.html#acf6ce238416c0b084e9be7bb7a13f70d">squaredAttributeStatisticsSupervised</a>.get(s).add(1.0);
<a name="l00581"></a>00581                     }
<a name="l00582"></a>00582                     }
<a name="l00583"></a>00583                 }
<a name="l00584"></a>00584             }
<a name="l00585"></a>00585         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> s = 0; s &lt; inst.numAttributes() -1; s++) {
<a name="l00586"></a>00586             <span class="keywordtype">int</span> instAttIndex = <a class="code" href="classmoa_1_1classifiers_1_1AbstractClassifier.html#a5cd97fb8e5751d48de011c81f45466d4" title="Gets the index of the attribute in the instance, given the index of the attribute...">modelAttIndexToInstanceAttIndex</a>(s, inst);
<a name="l00587"></a>00587             <span class="keywordflow">if</span>(!inst.isMissing(instAttIndex)){
<a name="l00588"></a>00588             <span class="keywordflow">if</span>(<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a8940290b3e9d7988d0c156e99e8e2c55">instance</a>.attribute(instAttIndex).isNumeric()){
<a name="l00589"></a>00589             rl.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassification.html#a6866e01c0604bcf8bc7188b0932fddc8">attributeStatistics</a>.<a class="code" href="classmoa_1_1core_1_1DoubleVector.html#a4050209166f4be04dd9f6dac3535d60e">addToValue</a>(s, inst.value(s));    
<a name="l00590"></a>00590             rl.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassification.html#a1ffbff3ebb7cbdbf33d56d56698e3c8f">squaredAttributeStatistics</a>.<a class="code" href="classmoa_1_1core_1_1DoubleVector.html#a4050209166f4be04dd9f6dac3535d60e">addToValue</a>(s, inst.value(s) * inst.value(s));
<a name="l00591"></a>00591             <span class="keywordtype">double</span> sumValue = rl.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassification.html#adbbf5c71b62dcae2906faaf0896318d5">attributeStatisticsSupervised</a>.get(s).get((<span class="keywordtype">int</span>)inst.classValue()) + inst.value(s);
<a name="l00592"></a>00592             rl.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassification.html#adbbf5c71b62dcae2906faaf0896318d5">attributeStatisticsSupervised</a>.get(s).set((<span class="keywordtype">int</span>)inst.classValue(), sumValue);
<a name="l00593"></a>00593             <span class="keywordtype">double</span> squaredSumvalue = rl.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassification.html#acf6ce238416c0b084e9be7bb7a13f70d">squaredAttributeStatisticsSupervised</a>.get(s).get((<span class="keywordtype">int</span>)inst.classValue()) + (inst.value(s) * inst.value(s));
<a name="l00594"></a>00594             rl.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassification.html#acf6ce238416c0b084e9be7bb7a13f70d">squaredAttributeStatisticsSupervised</a>.get(s).set((<span class="keywordtype">int</span>)inst.classValue(), squaredSumvalue);
<a name="l00595"></a>00595             }
<a name="l00596"></a>00596             }<span class="keywordflow">else</span>{
<a name="l00597"></a>00597                 rl.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassification.html#ac6e21e8ee990943f07bcfd4917249372">attributeMissingValues</a>.<a class="code" href="classmoa_1_1core_1_1DoubleVector.html#a4050209166f4be04dd9f6dac3535d60e">addToValue</a>(s, 1);
<a name="l00598"></a>00598                 }
<a name="l00599"></a>00599             }
<a name="l00600"></a>00600         }
<a name="l00601"></a>00601     
<a name="l00602"></a>00602     <span class="comment">//Compute anomalies unsupervised</span>
<a name="l00603"></a><a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#ac498e2b33463b69a59ed3d1e6506ceee">00603</a>     <span class="keyword">public</span> <span class="keywordtype">double</span> <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#ac498e2b33463b69a59ed3d1e6506ceee">computeAnomalyUnsupervised</a>(<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassification.html">RuleClassification</a> rl, <span class="keywordtype">int</span> ruleIndex, Instance inst) { <span class="comment">//Unsupervised</span>
<a name="l00604"></a>00604         ArrayList&lt;Integer&gt; caseAnomalyTemp = <span class="keyword">new</span> ArrayList&lt;Integer&gt;();
<a name="l00605"></a>00605         ArrayList&lt;ArrayList&lt;Double&gt;&gt; AttribAnomalyStatisticTemp2 = <span class="keyword">new</span> ArrayList&lt;ArrayList&lt;Double&gt;&gt;();
<a name="l00606"></a>00606         <span class="keywordtype">double</span> D = 0.0;
<a name="l00607"></a>00607         <span class="keywordtype">double</span> N = 0.0;
<a name="l00608"></a>00608         
<a name="l00609"></a>00609         
<a name="l00610"></a>00610         <span class="keywordflow">if</span> (rl.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassification.html#a0a20a8198282d091835576047a4a2f96">instancesSeen</a> &gt; <span class="keyword">this</span>.anomalyNumInstThresholdOption.getValue() &amp;&amp; this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a306ec38d95182b4cc19ad4652d915028">anomalyDetectionOption</a>.<a class="code" href="classmoa_1_1options_1_1FlagOption.html#ab37cb6ed4d9a2e393b460594f075b0a2">isSet</a>()) { 
<a name="l00611"></a>00611             <span class="keywordflow">for</span> (<span class="keywordtype">int</span> x = 0; x &lt; inst.numAttributes() - 1; x++) {
<a name="l00612"></a>00612                 <span class="keywordflow">if</span>(!inst.isMissing(x)){
<a name="l00613"></a>00613                     ArrayList&lt;Double&gt; AttribAnomalyStatisticTemp = <span class="keyword">new</span> ArrayList&lt;Double&gt;();
<a name="l00614"></a>00614                     <span class="keywordflow">if</span> (inst.attribute(x).isNumeric()) { <span class="comment">//Numeric Attributes</span>
<a name="l00615"></a>00615                         <span class="keywordflow">if</span>((rl.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassification.html#a0a20a8198282d091835576047a4a2f96">instancesSeen</a> - rl.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassification.html#ac6e21e8ee990943f07bcfd4917249372">attributeMissingValues</a>.<a class="code" href="classmoa_1_1core_1_1DoubleVector.html#a0a22580b229225823e9b11ed9d35104a">getValue</a>(x)) &gt; 30){
<a name="l00616"></a>00616                         <span class="keywordtype">double</span> mean = <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a975e5921af369f424a868662f7f3c42f">computeMean</a>(rl.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassification.html#a6866e01c0604bcf8bc7188b0932fddc8">attributeStatistics</a>.<a class="code" href="classmoa_1_1core_1_1DoubleVector.html#a0a22580b229225823e9b11ed9d35104a">getValue</a>(x), rl.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassification.html#a0a20a8198282d091835576047a4a2f96">instancesSeen</a>);
<a name="l00617"></a>00617                         <span class="keywordtype">double</span> sd = <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#af6507ff74daec76b4c369dc07b418af1">computeSD</a>(rl.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassification.html#a1ffbff3ebb7cbdbf33d56d56698e3c8f">squaredAttributeStatistics</a>.<a class="code" href="classmoa_1_1core_1_1DoubleVector.html#a0a22580b229225823e9b11ed9d35104a">getValue</a>(x),rl.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassification.html#a6866e01c0604bcf8bc7188b0932fddc8">attributeStatistics</a>.<a class="code" href="classmoa_1_1core_1_1DoubleVector.html#a0a22580b229225823e9b11ed9d35104a">getValue</a>(x), rl.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassification.html#a0a20a8198282d091835576047a4a2f96">instancesSeen</a>);
<a name="l00618"></a>00618                         <span class="keywordtype">double</span> probability = <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#ab86691b512b6eea798379cd1467a501f">computeProbability</a>(mean, sd, inst.value(x));
<a name="l00619"></a>00619                         <span class="keywordflow">if</span>(probability!=0.0) {
<a name="l00620"></a>00620                             D = D + Math.log(probability);
<a name="l00621"></a>00621                             <span class="keywordflow">if</span>(probability &lt; this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a4e1d4827ec44bcc56539045405dba400">probabilityThresholdOption</a>.<a class="code" href="classmoa_1_1options_1_1FloatOption.html#a0e606a62f4ece232aa8f8cb04bb7f1cf">getValue</a>()){  <span class="comment">//0.10</span>
<a name="l00622"></a>00622                                 N = N + Math.log(probability);
<a name="l00623"></a>00623                                 AttribAnomalyStatisticTemp.add((<span class="keywordtype">double</span>)x);
<a name="l00624"></a>00624                                 AttribAnomalyStatisticTemp.add(inst.value(x));
<a name="l00625"></a>00625                                 AttribAnomalyStatisticTemp.add(mean);
<a name="l00626"></a>00626                                 AttribAnomalyStatisticTemp.add(sd);
<a name="l00627"></a>00627                                 AttribAnomalyStatisticTemp.add(probability);
<a name="l00628"></a>00628                                 AttribAnomalyStatisticTemp2.add(AttribAnomalyStatisticTemp);
<a name="l00629"></a>00629                                 }
<a name="l00630"></a>00630                             }
<a name="l00631"></a>00631                         }
<a name="l00632"></a>00632                     }<span class="keywordflow">else</span> { <span class="comment">//Nominal Attributes</span>
<a name="l00633"></a>00633                             AutoExpandVector&lt;DoubleVector&gt; attribNominal = ((<a class="code" href="classmoa_1_1classifiers_1_1core_1_1attributeclassobservers_1_1NominalAttributeClassObserver.html" title="Class for observing the class data distribution for a nominal attribute.">NominalAttributeClassObserver</a>)rl.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassification.html#a8c66e6e1aa355a1c4d1e9af6fd7b20cb">observers</a>.get(x)).attValDistPerClass; <span class="comment">//Attributes values distribution per class</span>
<a name="l00634"></a>00634                             <span class="keywordtype">double</span> numbAttribValue = 0.0;
<a name="l00635"></a>00635                             <span class="keywordtype">double</span> attribVal = inst.value(x); <span class="comment">//Attribute value</span>
<a name="l00636"></a>00636                             <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i = 0; i &lt; attribNominal.size(); i++){
<a name="l00637"></a>00637                                 <span class="keywordflow">if</span>(attribNominal.get(i) != null){
<a name="l00638"></a>00638                                     numbAttribValue = numbAttribValue + attribNominal.get(i).getValue((<span class="keywordtype">int</span>)attribVal); 
<a name="l00639"></a>00639                                 }
<a name="l00640"></a>00640                             }
<a name="l00641"></a>00641                             <span class="keywordtype">double</span> probability = numbAttribValue / rl.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassification.html#a0a20a8198282d091835576047a4a2f96">instancesSeen</a>;
<a name="l00642"></a>00642                             <span class="keywordflow">if</span>(probability!= 0.0) {
<a name="l00643"></a>00643                                 D = D + Math.log(probability);
<a name="l00644"></a>00644                                 <span class="keywordflow">if</span>(probability &lt; this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a4e1d4827ec44bcc56539045405dba400">probabilityThresholdOption</a>.<a class="code" href="classmoa_1_1options_1_1FloatOption.html#a0e606a62f4ece232aa8f8cb04bb7f1cf">getValue</a>()){  <span class="comment">//0.10</span>
<a name="l00645"></a>00645                                     N = N + Math.log(probability);
<a name="l00646"></a>00646                                     AttribAnomalyStatisticTemp.add((<span class="keywordtype">double</span>)x);
<a name="l00647"></a>00647                                     AttribAnomalyStatisticTemp.add(inst.value(x));
<a name="l00648"></a>00648                                     AttribAnomalyStatisticTemp.add(probability);
<a name="l00649"></a>00649                                     AttribAnomalyStatisticTemp2.add(AttribAnomalyStatisticTemp);
<a name="l00650"></a>00650                                     }
<a name="l00651"></a>00651                                 }
<a name="l00652"></a>00652                             }
<a name="l00653"></a>00653                     }
<a name="l00654"></a>00654                 }
<a name="l00655"></a>00655             }
<a name="l00656"></a>00656         <span class="keywordtype">double</span> anomaly=0.0;
<a name="l00657"></a>00657         <span class="keywordflow">if</span>(D !=0){
<a name="l00658"></a>00658          anomaly = Math.abs(N/D);
<a name="l00659"></a>00659         }
<a name="l00660"></a>00660         <span class="keywordflow">if</span>(anomaly &gt;= this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#ab670a06889ab9c00e405f57622ec85e8">anomalyProbabilityThresholdOption</a>.<a class="code" href="classmoa_1_1options_1_1FloatOption.html#a0e606a62f4ece232aa8f8cb04bb7f1cf">getValue</a>()){
<a name="l00661"></a>00661             caseAnomalyTemp.add(this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a295e40f57b445561494cd680a412e287">numInstance</a>);
<a name="l00662"></a>00662             <span class="keywordtype">double</span> val = anomaly * 100;
<a name="l00663"></a>00663             caseAnomalyTemp.add((<span class="keywordtype">int</span>)val);
<a name="l00664"></a>00664             this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a79a941ade22518bea41d92b6280fb21a">caseAnomaly</a>.add(caseAnomalyTemp);
<a name="l00665"></a>00665             <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassification.html">RuleClassification</a> x = <span class="keyword">new</span> <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassification.html">RuleClassification</a>(this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a7d88549f5206dfc6c384e14fc2734e97">ruleSet</a>.get(ruleIndex));
<a name="l00666"></a>00666             this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a27af2d52f21ad0edbd839c0ae83cd27e">ruleSetAnomalies</a>.add(x);
<a name="l00667"></a>00667             this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a2294d9ba1bd25bd5c0adcbb8d7b27c1b">ruleAnomaliesIndex</a>.add(ruleIndex + 1);
<a name="l00668"></a>00668             this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#aa7838f43161a8189ba1136e6167239b6">ruleAttribAnomalyStatistics</a>.add(AttribAnomalyStatisticTemp2);
<a name="l00669"></a>00669             
<a name="l00670"></a>00670             
<a name="l00671"></a>00671         }
<a name="l00672"></a>00672         <span class="keywordflow">return</span> anomaly;
<a name="l00673"></a>00673     }
<a name="l00674"></a>00674     
<a name="l00675"></a>00675     
<a name="l00676"></a>00676     
<a name="l00677"></a>00677     <span class="comment">//Compute anomalies unsupervised</span>
<a name="l00678"></a><a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a331a0272136812420c3f28741e49dc3b">00678</a>         <span class="keyword">public</span> <span class="keywordtype">double</span> <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a331a0272136812420c3f28741e49dc3b">computeAnomalySupervised</a>(<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassification.html">RuleClassification</a> rl, <span class="keywordtype">int</span> ruleIndex, Instance inst) { <span class="comment">//Not supervised</span>
<a name="l00679"></a>00679             ArrayList&lt;Integer&gt; caseAnomalyTemp = <span class="keyword">new</span> ArrayList&lt;Integer&gt;();
<a name="l00680"></a>00680             ArrayList&lt;ArrayList&lt;Double&gt;&gt; AttribAnomalyStatisticTemp2 = <span class="keyword">new</span> ArrayList&lt;ArrayList&lt;Double&gt;&gt;();
<a name="l00681"></a>00681             <span class="keywordtype">double</span> D = 0.0;
<a name="l00682"></a>00682             <span class="keywordtype">double</span> N = 0.0;
<a name="l00683"></a>00683             <span class="keywordflow">if</span> (rl.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassification.html#a0a20a8198282d091835576047a4a2f96">instancesSeen</a> &gt; <span class="keyword">this</span>.anomalyNumInstThresholdOption.getValue() &amp;&amp; this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a306ec38d95182b4cc19ad4652d915028">anomalyDetectionOption</a>.<a class="code" href="classmoa_1_1options_1_1FlagOption.html#ab37cb6ed4d9a2e393b460594f075b0a2">isSet</a>()) { 
<a name="l00684"></a>00684                 <span class="keywordflow">for</span> (<span class="keywordtype">int</span> x = 0; x &lt; inst.numAttributes() - 1; x++) {
<a name="l00685"></a>00685                     <span class="keywordflow">if</span>(!inst.isMissing(x)){
<a name="l00686"></a>00686                         ArrayList&lt;Double&gt; AttribAnomalyStatisticTemp = <span class="keyword">new</span> ArrayList&lt;Double&gt;();
<a name="l00687"></a>00687                         <span class="keywordflow">if</span> (inst.attribute(x).isNumeric()) { <span class="comment">//Numeric Attributes</span>
<a name="l00688"></a>00688                             <span class="keywordflow">if</span>((rl.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassification.html#a0a20a8198282d091835576047a4a2f96">instancesSeen</a> - rl.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassification.html#ac6e21e8ee990943f07bcfd4917249372">attributeMissingValues</a>.<a class="code" href="classmoa_1_1core_1_1DoubleVector.html#a0a22580b229225823e9b11ed9d35104a">getValue</a>(x)) &gt; 30){
<a name="l00689"></a>00689                                 <span class="keywordtype">double</span> mean = <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a975e5921af369f424a868662f7f3c42f">computeMean</a>((<span class="keywordtype">double</span>)rl.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassification.html#adbbf5c71b62dcae2906faaf0896318d5">attributeStatisticsSupervised</a>.get(x).get((<span class="keywordtype">int</span>)inst.classValue()), (<span class="keywordtype">int</span>)rl.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassification.html#a088ca682278f0a7c6993c5193ac55d52">obserClassDistrib</a>.<a class="code" href="classmoa_1_1core_1_1DoubleVector.html#a0a22580b229225823e9b11ed9d35104a">getValue</a>((<span class="keywordtype">int</span>)inst.classValue()));
<a name="l00690"></a>00690                                 <span class="keywordtype">double</span> sd = <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#af6507ff74daec76b4c369dc07b418af1">computeSD</a>((<span class="keywordtype">double</span>)rl.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassification.html#acf6ce238416c0b084e9be7bb7a13f70d">squaredAttributeStatisticsSupervised</a>.get(x).get((<span class="keywordtype">int</span>)inst.classValue()), (<span class="keywordtype">double</span>)rl.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassification.html#adbbf5c71b62dcae2906faaf0896318d5">attributeStatisticsSupervised</a>.get(x).get((<span class="keywordtype">int</span>)inst.classValue()), (<span class="keywordtype">int</span>)rl.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassification.html#a088ca682278f0a7c6993c5193ac55d52">obserClassDistrib</a>.<a class="code" href="classmoa_1_1core_1_1DoubleVector.html#a0a22580b229225823e9b11ed9d35104a">getValue</a>((<span class="keywordtype">int</span>)inst.classValue()));
<a name="l00691"></a>00691                                 <span class="keywordtype">double</span> probability = <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#ab86691b512b6eea798379cd1467a501f">computeProbability</a>(mean, sd, inst.value(x));
<a name="l00692"></a>00692                                 <span class="keywordflow">if</span>(probability!=0.0) {
<a name="l00693"></a>00693                                     D = D + Math.log(probability);
<a name="l00694"></a>00694                                     <span class="keywordflow">if</span>(probability &lt; this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a4e1d4827ec44bcc56539045405dba400">probabilityThresholdOption</a>.<a class="code" href="classmoa_1_1options_1_1FloatOption.html#a0e606a62f4ece232aa8f8cb04bb7f1cf">getValue</a>()){  <span class="comment">//0.10</span>
<a name="l00695"></a>00695                                         N = N + Math.log(probability);
<a name="l00696"></a>00696                                         AttribAnomalyStatisticTemp.add((<span class="keywordtype">double</span>)x);
<a name="l00697"></a>00697                                         AttribAnomalyStatisticTemp.add(inst.value(x));
<a name="l00698"></a>00698                                         AttribAnomalyStatisticTemp.add(mean);
<a name="l00699"></a>00699                                         AttribAnomalyStatisticTemp.add(sd);
<a name="l00700"></a>00700                                         AttribAnomalyStatisticTemp.add(probability);
<a name="l00701"></a>00701                                         AttribAnomalyStatisticTemp2.add(AttribAnomalyStatisticTemp);
<a name="l00702"></a>00702                                         }
<a name="l00703"></a>00703                                     }
<a name="l00704"></a>00704                                 }
<a name="l00705"></a>00705                             }<span class="keywordflow">else</span> { <span class="comment">//Nominal</span>
<a name="l00706"></a>00706                                 <span class="keywordtype">double</span> attribVal = inst.value(x); <span class="comment">//Attribute value</span>
<a name="l00707"></a>00707                                 <span class="keywordtype">double</span> classVal = inst.classValue(); <span class="comment">//Attribute value</span>
<a name="l00708"></a>00708                                 <span class="keywordtype">double</span> probability = rl.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassification.html#a8c66e6e1aa355a1c4d1e9af6fd7b20cb">observers</a>.get(x).probabilityOfAttributeValueGivenClass(attribVal, (<span class="keywordtype">int</span>)classVal);
<a name="l00709"></a>00709                                 <span class="keywordflow">if</span>(probability!=0.0) {
<a name="l00710"></a>00710                                     D = D + Math.log(probability);
<a name="l00711"></a>00711                                     <span class="keywordflow">if</span>(probability &lt; this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a4e1d4827ec44bcc56539045405dba400">probabilityThresholdOption</a>.<a class="code" href="classmoa_1_1options_1_1FloatOption.html#a0e606a62f4ece232aa8f8cb04bb7f1cf">getValue</a>()){  <span class="comment">//0.10</span>
<a name="l00712"></a>00712                                         N = N + Math.log(probability);
<a name="l00713"></a>00713                                         AttribAnomalyStatisticTemp.add((<span class="keywordtype">double</span>)x);
<a name="l00714"></a>00714                                         AttribAnomalyStatisticTemp.add(inst.value(x));
<a name="l00715"></a>00715                                         AttribAnomalyStatisticTemp.add(probability);
<a name="l00716"></a>00716                                         AttribAnomalyStatisticTemp2.add(AttribAnomalyStatisticTemp);
<a name="l00717"></a>00717                                         }
<a name="l00718"></a>00718                                     }
<a name="l00719"></a>00719                                 }
<a name="l00720"></a>00720                         }
<a name="l00721"></a>00721                     }
<a name="l00722"></a>00722                 }
<a name="l00723"></a>00723             <span class="keywordtype">double</span> anomaly=0.0;
<a name="l00724"></a>00724             <span class="keywordflow">if</span>(D !=0){
<a name="l00725"></a>00725              anomaly = Math.abs(N/D);
<a name="l00726"></a>00726             }
<a name="l00727"></a>00727             <span class="keywordflow">if</span>(anomaly &gt;= this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#ab670a06889ab9c00e405f57622ec85e8">anomalyProbabilityThresholdOption</a>.<a class="code" href="classmoa_1_1options_1_1FloatOption.html#a0e606a62f4ece232aa8f8cb04bb7f1cf">getValue</a>()){
<a name="l00728"></a>00728                 caseAnomalyTemp.add(this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a295e40f57b445561494cd680a412e287">numInstance</a>);
<a name="l00729"></a>00729                 <span class="keywordtype">double</span> val = anomaly * 100;
<a name="l00730"></a>00730                 caseAnomalyTemp.add((<span class="keywordtype">int</span>)val);
<a name="l00731"></a>00731                 this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#ae04e879f8da49fc5456c7e168e2293b4">caseAnomalySupervised</a>.add(caseAnomalyTemp);
<a name="l00732"></a>00732                 <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassification.html">RuleClassification</a> y = <span class="keyword">new</span> <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassification.html">RuleClassification</a>(this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a7d88549f5206dfc6c384e14fc2734e97">ruleSet</a>.get(ruleIndex));
<a name="l00733"></a>00733                 this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#af9a7ac5e883413027b6dcb1eea5564df">ruleSetAnomaliesSupervised</a>.add(y);
<a name="l00734"></a>00734                 this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a92c0093a653c6d16f6e9d6a42c816bbe">ruleAnomaliesIndexSupervised</a>.add(ruleIndex + 1);
<a name="l00735"></a>00735                 this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a29d01da7d163d6efad0bb9d47362a736">ruleAttribAnomalyStatisticsSupervised</a>.add(AttribAnomalyStatisticTemp2);
<a name="l00736"></a>00736             }
<a name="l00737"></a>00737             <span class="keywordflow">return</span> anomaly;
<a name="l00738"></a>00738             }
<a name="l00739"></a>00739         
<a name="l00740"></a>00740     <span class="comment">//Mean</span>
<a name="l00741"></a><a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a975e5921af369f424a868662f7f3c42f">00741</a>     <span class="keyword">public</span>  <span class="keywordtype">double</span> <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a975e5921af369f424a868662f7f3c42f">computeMean</a>(<span class="keywordtype">double</span> sum, <span class="keywordtype">int</span> size) {
<a name="l00742"></a>00742         <span class="keywordflow">return</span> sum / size;
<a name="l00743"></a>00743     }
<a name="l00744"></a>00744         
<a name="l00745"></a>00745     <span class="comment">//Standard Deviation</span>
<a name="l00746"></a><a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#af6507ff74daec76b4c369dc07b418af1">00746</a>     <span class="keyword">public</span>  <span class="keywordtype">double</span> <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#af6507ff74daec76b4c369dc07b418af1">computeSD</a>(<span class="keywordtype">double</span> squaredVal, <span class="keywordtype">double</span> val, <span class="keywordtype">int</span> size) {
<a name="l00747"></a>00747         <span class="keywordflow">return</span>  Math.sqrt((squaredVal - ((val * val) / size)) / size);
<a name="l00748"></a>00748     }
<a name="l00749"></a>00749     
<a name="l00750"></a>00750     <span class="comment">//Attribute probability</span>
<a name="l00751"></a><a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#ab86691b512b6eea798379cd1467a501f">00751</a>     <span class="keyword">public</span> <span class="keywordtype">double</span> <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#ab86691b512b6eea798379cd1467a501f">computeProbability</a>(<span class="keywordtype">double</span> mean, <span class="keywordtype">double</span> sd, <span class="keywordtype">double</span> value) {
<a name="l00752"></a>00752         sd = sd + 0.00001;
<a name="l00753"></a>00753         <span class="keywordtype">double</span> probability = 0.0;
<a name="l00754"></a>00754         <span class="keywordtype">double</span> diff = value - mean;
<a name="l00755"></a>00755         <span class="keywordflow">if</span> (sd &gt; 0.0) {
<a name="l00756"></a>00756                 <span class="keywordtype">double</span> k = (Math.abs(value - mean)/sd);
<a name="l00757"></a>00757                 <span class="keywordflow">if</span> (k &gt; 1.0) {
<a name="l00758"></a>00758                     probability = 1.0/(k*k);
<a name="l00759"></a>00759                 }
<a name="l00760"></a>00760                 <span class="keywordflow">else</span> {
<a name="l00761"></a>00761                     probability=  Math.exp(-(diff * diff / (2.0 * sd * sd)));
<a name="l00762"></a>00762                 }
<a name="l00763"></a>00763          }
<a name="l00764"></a>00764         <span class="keywordflow">return</span> probability;
<a name="l00765"></a>00765     }
<a name="l00766"></a>00766     
<a name="l00767"></a>00767     <span class="comment">//This function creates a rule</span>
<a name="l00768"></a><a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#af0c813365cafcbc1698c258b856e4960">00768</a>     <span class="keyword">public</span> <span class="keywordtype">void</span> <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#af0c813365cafcbc1698c258b856e4960">createRule</a>(Instance inst) {
<a name="l00769"></a>00769         <span class="keywordtype">int</span> remainder = (int)Double.MAX_VALUE;
<a name="l00770"></a>00770         <span class="keywordtype">int</span> numInstanciaObservers = (<span class="keywordtype">int</span>)this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#ae01942f25ed32081c6514364b9d48ba4">observedClassDistribution</a>.<a class="code" href="classmoa_1_1core_1_1DoubleVector.html#acafa367bb17b33b844486adfa1b2780a">sumOfValues</a>();
<a name="l00771"></a>00771         <span class="keywordflow">if</span> (numInstanciaObservers != 0 &amp;&amp; this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a1c986f6a065d07d1d4f984008ffa65a0">gracePeriodOption</a>.<a class="code" href="classmoa_1_1options_1_1IntOption.html#affae8787274b44ab7616d46b8d6c831a">getValue</a>() != 0) {
<a name="l00772"></a>00772             remainder = (numInstanciaObservers) % (this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a1c986f6a065d07d1d4f984008ffa65a0">gracePeriodOption</a>.<a class="code" href="classmoa_1_1options_1_1IntOption.html#affae8787274b44ab7616d46b8d6c831a">getValue</a>());
<a name="l00773"></a>00773             }
<a name="l00774"></a>00774         <span class="keywordflow">if</span> (remainder == 0) {
<a name="l00775"></a>00775             this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a64ef2b16c065cd3fe0e864e12e5b8124">saveBestValGlobalEntropy</a> = <span class="keyword">new</span> ArrayList&lt;ArrayList&lt;Double&gt;&gt;();
<a name="l00776"></a>00776             this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#aeae387b7eae49cd0d745e9472de750b6">saveBestGlobalEntropy</a> = <span class="keyword">new</span> <a class="code" href="classmoa_1_1core_1_1DoubleVector.html" title="Vector of double numbers with some utilities.">DoubleVector</a>();
<a name="l00777"></a>00777             this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#ace9773edf29cfd486945f1d86533d3ea">saveTheBest</a> = <span class="keyword">new</span> ArrayList&lt;Double&gt;();
<a name="l00778"></a>00778             this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#ab14fc55627b2550e4a130a773171375d">minEntropyTemp</a> = Double.MAX_VALUE;
<a name="l00779"></a>00779             this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a88b1b9c15b2806c77cfad7b8c239611b">minEntropyNominalAttrib</a> = Double.MAX_VALUE;
<a name="l00780"></a>00780             <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a08c80bf89e9f5c410373626cbfcf7464">theBestAttributes</a>(inst, this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a7516604e4ea2c4279a5e9684ce73f30b">attributeObservers</a>);
<a name="l00781"></a>00781             <span class="keywordtype">boolean</span> HB = <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a46f123858669e7b3a8d29552d5ededed">checkBestAttrib</a>(numInstanciaObservers, this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a7516604e4ea2c4279a5e9684ce73f30b">attributeObservers</a>, this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#ae01942f25ed32081c6514364b9d48ba4">observedClassDistribution</a>);
<a name="l00782"></a>00782             <span class="keywordflow">if</span> (HB == <span class="keyword">true</span>) {
<a name="l00783"></a>00783             <span class="comment">//  System.out.print(&quot;this.saveTheBest&quot;+this.saveTheBest+&quot;\n&quot;);</span>
<a name="l00784"></a>00784                 <span class="keywordtype">double</span> attributeValue = this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#ace9773edf29cfd486945f1d86533d3ea">saveTheBest</a>.get(3);
<a name="l00785"></a>00785                 <span class="keywordtype">double</span> <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a27960568c63fcb10220d22b094e4f782">symbol</a> = this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#ace9773edf29cfd486945f1d86533d3ea">saveTheBest</a>.get(2);        <span class="comment">// =, &lt;=, &gt; : (0.0, -1.0, 1.0).</span>
<a name="l00786"></a>00786                 <span class="keywordtype">double</span> value = this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#ace9773edf29cfd486945f1d86533d3ea">saveTheBest</a>.get(0);     <span class="comment">// Value of the attribute</span>
<a name="l00787"></a>00787                 this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a6fd2796c33e19f75e078e479b91cdab6">pred</a> = <span class="keyword">new</span> <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1Predicates.html">Predicates</a>(attributeValue, symbol, value);
<a name="l00788"></a>00788                 <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassification.html">RuleClassification</a> Rl = <span class="keyword">new</span> <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassification.html">RuleClassification</a>();       <span class="comment">// Create RuleClassification.</span>
<a name="l00789"></a>00789                 Rl.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassification.html#aa959c7455752ea3fee823961d3b6159d">predicateSet</a>.add(<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a6fd2796c33e19f75e078e479b91cdab6">pred</a>);
<a name="l00790"></a>00790                 this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a7d88549f5206dfc6c384e14fc2734e97">ruleSet</a>.add(Rl);
<a name="l00791"></a>00791                 <span class="keywordflow">if</span> (Rl.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassification.html#aa959c7455752ea3fee823961d3b6159d">predicateSet</a>.get(0).getSymbol() == -1.0 ||Rl.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassification.html#aa959c7455752ea3fee823961d3b6159d">predicateSet</a>.get(0).getSymbol() == 1.0) {
<a name="l00792"></a>00792                     <span class="keywordtype">double</span> posClassDouble = this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#ace9773edf29cfd486945f1d86533d3ea">saveTheBest</a>.get(4);
<a name="l00793"></a>00793                     this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a48d8864c4ffc77cb6ecf22edc5be34de">ruleClassIndex</a>.<a class="code" href="classmoa_1_1core_1_1DoubleVector.html#afdb9ecc487070e6f0943e889a46334b8">setValue</a>(this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a7d88549f5206dfc6c384e14fc2734e97">ruleSet</a>.size()-1, posClassDouble);    
<a name="l00794"></a>00794                     }<span class="keywordflow">else</span>{
<a name="l00795"></a>00795                             this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a48d8864c4ffc77cb6ecf22edc5be34de">ruleClassIndex</a>.<a class="code" href="classmoa_1_1core_1_1DoubleVector.html#afdb9ecc487070e6f0943e889a46334b8">setValue</a>(<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a7d88549f5206dfc6c384e14fc2734e97">ruleSet</a>.size()-1, 0.0);
<a name="l00796"></a>00796                             }
<a name="l00797"></a>00797                     this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#ae01942f25ed32081c6514364b9d48ba4">observedClassDistribution</a> = <span class="keyword">new</span> <a class="code" href="classmoa_1_1core_1_1DoubleVector.html" title="Vector of double numbers with some utilities.">DoubleVector</a>();
<a name="l00798"></a>00798                     this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a7516604e4ea2c4279a5e9684ce73f30b">attributeObservers</a> = <span class="keyword">new</span> AutoExpandVector&lt;AttributeClassObserver&gt;(); 
<a name="l00799"></a>00799                     this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#ac254bb06298bfb8b573824204949af9a">attributeObserversGauss</a> = <span class="keyword">new</span> AutoExpandVector&lt;AttributeClassObserver&gt;();
<a name="l00800"></a>00800                 }
<a name="l00801"></a>00801             }
<a name="l00802"></a>00802     }
<a name="l00803"></a>00803     
<a name="l00804"></a>00804     <span class="comment">//This function This expands the rule</span>
<a name="l00805"></a><a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a6e43c31d226f0ba975d1a3dbfb119f2d">00805</a>     <span class="keyword">public</span> <span class="keywordtype">void</span> <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a6e43c31d226f0ba975d1a3dbfb119f2d">expandeRule</a>(<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassification.html">RuleClassification</a> rl, Instance inst, <span class="keywordtype">int</span> ruleIndex) {
<a name="l00806"></a>00806         <span class="keywordtype">int</span> remainder = (int)Double.MAX_VALUE;
<a name="l00807"></a>00807         <span class="keywordtype">int</span> numInstanciaObservers = (<span class="keywordtype">int</span>)rl.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassification.html#a088ca682278f0a7c6993c5193ac55d52">obserClassDistrib</a>.<a class="code" href="classmoa_1_1core_1_1DoubleVector.html#acafa367bb17b33b844486adfa1b2780a">sumOfValues</a>();        <span class="comment">// Number of instances for this rule observers.</span>
<a name="l00808"></a>00808         this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a702db28f3a9c0d2712df478c53adfbc6">updateRuleAttribStatistics</a>(inst, rl, ruleIndex);
<a name="l00809"></a>00809         <span class="keywordflow">if</span> (numInstanciaObservers != 0 &amp;&amp; this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a1c986f6a065d07d1d4f984008ffa65a0">gracePeriodOption</a>.<a class="code" href="classmoa_1_1options_1_1IntOption.html#affae8787274b44ab7616d46b8d6c831a">getValue</a>() != 0) {
<a name="l00810"></a>00810                  remainder = (numInstanciaObservers) % (this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a1c986f6a065d07d1d4f984008ffa65a0">gracePeriodOption</a>.<a class="code" href="classmoa_1_1options_1_1IntOption.html#affae8787274b44ab7616d46b8d6c831a">getValue</a>());    
<a name="l00811"></a>00811             }
<a name="l00812"></a>00812         <span class="keywordflow">if</span> (remainder == 0){
<a name="l00813"></a>00813             this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a64ef2b16c065cd3fe0e864e12e5b8124">saveBestValGlobalEntropy</a> = <span class="keyword">new</span> ArrayList&lt;ArrayList&lt;Double&gt;&gt;();
<a name="l00814"></a>00814             this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#aeae387b7eae49cd0d745e9472de750b6">saveBestGlobalEntropy</a> = <span class="keyword">new</span> <a class="code" href="classmoa_1_1core_1_1DoubleVector.html" title="Vector of double numbers with some utilities.">DoubleVector</a>();
<a name="l00815"></a>00815             this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#ace9773edf29cfd486945f1d86533d3ea">saveTheBest</a> = <span class="keyword">new</span> ArrayList&lt;Double&gt;();
<a name="l00816"></a>00816             this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#ab14fc55627b2550e4a130a773171375d">minEntropyTemp</a> = Double.MAX_VALUE;
<a name="l00817"></a>00817             this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a88b1b9c15b2806c77cfad7b8c239611b">minEntropyNominalAttrib</a> = Double.MAX_VALUE;
<a name="l00818"></a>00818             <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a08c80bf89e9f5c410373626cbfcf7464">theBestAttributes</a>(inst, rl.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassification.html#a8c66e6e1aa355a1c4d1e9af6fd7b20cb">observers</a>);      <span class="comment">// The best value of entropy for each attribute.</span>
<a name="l00819"></a>00819             <span class="keywordtype">boolean</span> HB = <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a46f123858669e7b3a8d29552d5ededed">checkBestAttrib</a>(numInstanciaObservers, rl.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassification.html#a8c66e6e1aa355a1c4d1e9af6fd7b20cb">observers</a>, rl.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassification.html#a088ca682278f0a7c6993c5193ac55d52">obserClassDistrib</a>);        <span class="comment">// Check if the best attribute value is really the best.</span>
<a name="l00820"></a>00820             <span class="keywordflow">if</span> (HB == <span class="keyword">true</span>) {
<a name="l00821"></a>00821                 <span class="keywordtype">double</span> attributeValue = this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#ace9773edf29cfd486945f1d86533d3ea">saveTheBest</a>.get(3);
<a name="l00822"></a>00822                 <span class="keywordtype">double</span> <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a27960568c63fcb10220d22b094e4f782">symbol</a> = this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#ace9773edf29cfd486945f1d86533d3ea">saveTheBest</a>.get(2);        <span class="comment">// =, &lt;=, &gt; (0.0, -1.0, 1.0).</span>
<a name="l00823"></a>00823                 <span class="keywordtype">double</span> value = this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#ace9773edf29cfd486945f1d86533d3ea">saveTheBest</a>.get(0);     <span class="comment">// Value of the attribute.</span>
<a name="l00824"></a>00824                 this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a6fd2796c33e19f75e078e479b91cdab6">pred</a> = <span class="keyword">new</span> <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1Predicates.html">Predicates</a>(attributeValue, symbol, value);
<a name="l00825"></a>00825                 <span class="keywordtype">int</span> countPred = 0;
<a name="l00826"></a>00826                 <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; rl.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassification.html#aa959c7455752ea3fee823961d3b6159d">predicateSet</a>.size(); i++) {      <span class="comment">// Checks if the new predicate is not yet in the predicateSet. </span>
<a name="l00827"></a>00827                      <span class="keywordflow">if</span> (this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a6fd2796c33e19f75e078e479b91cdab6">pred</a>.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1Predicates.html#ae324624641ae6851a61d7d740ad65565">getSymbol</a>() == 0.0) {        <span class="comment">// Nominal Attribute.</span>
<a name="l00828"></a>00828                          <span class="keywordflow">if</span> (rl.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassification.html#aa959c7455752ea3fee823961d3b6159d">predicateSet</a>.get(i).getAttributeValue() != this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a6fd2796c33e19f75e078e479b91cdab6">pred</a>.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1Predicates.html#a231db709589dafd9a719758c63a988af">getAttributeValue</a>()) {
<a name="l00829"></a>00829                              countPred = countPred + 1;
<a name="l00830"></a>00830                          }
<a name="l00831"></a>00831                      }
<a name="l00832"></a>00832                      <span class="keywordflow">else</span> {
<a name="l00833"></a>00833                          <span class="keywordflow">if</span> (rl.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassification.html#aa959c7455752ea3fee823961d3b6159d">predicateSet</a>.get(i).getAttributeValue() != this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a6fd2796c33e19f75e078e479b91cdab6">pred</a>.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1Predicates.html#a231db709589dafd9a719758c63a988af">getAttributeValue</a>() 
<a name="l00834"></a>00834                                  || rl.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassification.html#aa959c7455752ea3fee823961d3b6159d">predicateSet</a>.get(i).getSymbol() != this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a6fd2796c33e19f75e078e479b91cdab6">pred</a>.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1Predicates.html#ae324624641ae6851a61d7d740ad65565">getSymbol</a>() 
<a name="l00835"></a>00835                                  || rl.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassification.html#aa959c7455752ea3fee823961d3b6159d">predicateSet</a>.get(i).getValue() != this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a6fd2796c33e19f75e078e479b91cdab6">pred</a>.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1Predicates.html#a375e8c0b932f4d02880a2834f6673f90">getValue</a>()) {
<a name="l00836"></a>00836                              countPred = countPred+1;
<a name="l00837"></a>00837                              }
<a name="l00838"></a>00838                          }
<a name="l00839"></a>00839                      }
<a name="l00840"></a>00840                 <span class="keywordflow">if</span> (countPred == rl.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassification.html#aa959c7455752ea3fee823961d3b6159d">predicateSet</a>.size()) {
<a name="l00841"></a>00841                     <span class="keywordtype">int</span> countDifPred = 0;
<a name="l00842"></a>00842                     ArrayList&lt;Predicates&gt; predicSetTemp = <span class="keyword">new</span> ArrayList&lt;Predicates&gt;();
<a name="l00843"></a>00843                     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> x = 0; x &lt; rl.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassification.html#aa959c7455752ea3fee823961d3b6159d">predicateSet</a>.size(); x++) {
<a name="l00844"></a>00844                         predicSetTemp.add(rl.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassification.html#aa959c7455752ea3fee823961d3b6159d">predicateSet</a>.get(x));
<a name="l00845"></a>00845                      }
<a name="l00846"></a>00846                     predicSetTemp.add(this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a6fd2796c33e19f75e078e479b91cdab6">pred</a>);
<a name="l00847"></a>00847                     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> f = 0; f &lt; this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a7d88549f5206dfc6c384e14fc2734e97">ruleSet</a>.size(); f++) {
<a name="l00848"></a>00848                         <span class="keywordtype">int</span> countDifPredTemp = 0;
<a name="l00849"></a>00849                         <span class="keywordflow">if</span> (this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a7d88549f5206dfc6c384e14fc2734e97">ruleSet</a>.get(f).predicateSet.size() == predicSetTemp.size()) {
<a name="l00850"></a>00850                             <span class="keywordflow">for</span>(<span class="keywordtype">int</span> x = 0; x &lt; this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a7d88549f5206dfc6c384e14fc2734e97">ruleSet</a>.get(f).predicateSet.size(); x++) {
<a name="l00851"></a>00851                                 <span class="keywordflow">if</span> (this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a7d88549f5206dfc6c384e14fc2734e97">ruleSet</a>.get(f).predicateSet.get(x).getAttributeValue() == predicSetTemp.get(x).getAttributeValue() 
<a name="l00852"></a>00852                                         &amp;&amp; this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a7d88549f5206dfc6c384e14fc2734e97">ruleSet</a>.get(f).predicateSet.get(x).getSymbol() == predicSetTemp.get(x).getSymbol() 
<a name="l00853"></a>00853                                         &amp;&amp; this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a7d88549f5206dfc6c384e14fc2734e97">ruleSet</a>.get(f).predicateSet.get(x).getValue() == predicSetTemp.get(x).getValue()) {
<a name="l00854"></a>00854                                     countDifPredTemp = countDifPredTemp+1;
<a name="l00855"></a>00855                                     }
<a name="l00856"></a>00856                                 }
<a name="l00857"></a>00857                             <span class="keywordflow">if</span> (countDifPredTemp == predicSetTemp.size()) {
<a name="l00858"></a>00858                                 <span class="keywordflow">break</span>;
<a name="l00859"></a>00859                                 }<span class="keywordflow">else</span>{
<a name="l00860"></a>00860                                     countDifPred = countDifPred + 1;
<a name="l00861"></a>00861                                     }
<a name="l00862"></a>00862                             }<span class="keywordflow">else</span>{
<a name="l00863"></a>00863                         countDifPred = countDifPred + 1;
<a name="l00864"></a>00864                         }
<a name="l00865"></a>00865                         }
<a name="l00866"></a>00866                     <span class="keywordflow">if</span> (countDifPred == this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a7d88549f5206dfc6c384e14fc2734e97">ruleSet</a>.size()) {
<a name="l00867"></a>00867                         <span class="keywordflow">if</span> (this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a6fd2796c33e19f75e078e479b91cdab6">pred</a>.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1Predicates.html#ae324624641ae6851a61d7d740ad65565">getSymbol</a>() == 0.0) {
<a name="l00868"></a>00868                             <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a7e481f87129041fba274fac8a0e00938">initializeRuleStatistics</a>(rl, <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a6fd2796c33e19f75e078e479b91cdab6">pred</a>, inst);
<a name="l00869"></a>00869                             } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a6fd2796c33e19f75e078e479b91cdab6">pred</a>.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1Predicates.html#ae324624641ae6851a61d7d740ad65565">getSymbol</a>() == 1.0) {
<a name="l00870"></a>00870                                 <span class="keywordtype">int</span> countIqualPred = 0;
<a name="l00871"></a>00871                                 <span class="keywordflow">for</span> (<span class="keywordtype">int</span> f = 0; f &lt; rl.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassification.html#aa959c7455752ea3fee823961d3b6159d">predicateSet</a>.size(); f++) {
<a name="l00872"></a>00872                                     <span class="keywordflow">if</span> (this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a6fd2796c33e19f75e078e479b91cdab6">pred</a>.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1Predicates.html#a231db709589dafd9a719758c63a988af">getAttributeValue</a>() == rl.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassification.html#aa959c7455752ea3fee823961d3b6159d">predicateSet</a>.get(f).getAttributeValue()
<a name="l00873"></a>00873                                             &amp;&amp; this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a6fd2796c33e19f75e078e479b91cdab6">pred</a>.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1Predicates.html#ae324624641ae6851a61d7d740ad65565">getSymbol</a>() == rl.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassification.html#aa959c7455752ea3fee823961d3b6159d">predicateSet</a>.get(f).getSymbol()) {
<a name="l00874"></a>00874                                         countIqualPred = countIqualPred + 1;
<a name="l00875"></a>00875                                         <span class="keywordflow">if</span> (this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a6fd2796c33e19f75e078e479b91cdab6">pred</a>.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1Predicates.html#a375e8c0b932f4d02880a2834f6673f90">getValue</a>() &gt; rl.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassification.html#aa959c7455752ea3fee823961d3b6159d">predicateSet</a>.get(f).getValue()) {
<a name="l00876"></a>00876                                             rl.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassification.html#aa959c7455752ea3fee823961d3b6159d">predicateSet</a>.remove(f);
<a name="l00877"></a>00877                                             <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a7e481f87129041fba274fac8a0e00938">initializeRuleStatistics</a>(rl, <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a6fd2796c33e19f75e078e479b91cdab6">pred</a>, inst);
<a name="l00878"></a>00878                                             }
<a name="l00879"></a>00879                                         }
<a name="l00880"></a>00880                                     }
<a name="l00881"></a>00881                                 <span class="keywordflow">if</span> (countIqualPred == 0) {
<a name="l00882"></a>00882                                     <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a7e481f87129041fba274fac8a0e00938">initializeRuleStatistics</a>(rl, <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a6fd2796c33e19f75e078e479b91cdab6">pred</a>, inst);
<a name="l00883"></a>00883                                     }
<a name="l00884"></a>00884                                 }<span class="keywordflow">else</span>{
<a name="l00885"></a>00885                                  <span class="keywordtype">int</span> countIqualPred = 0;
<a name="l00886"></a>00886                                  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> f = 0; f &lt; rl.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassification.html#aa959c7455752ea3fee823961d3b6159d">predicateSet</a>.size(); f++) {
<a name="l00887"></a>00887                                      <span class="keywordflow">if</span> (this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a6fd2796c33e19f75e078e479b91cdab6">pred</a>.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1Predicates.html#a231db709589dafd9a719758c63a988af">getAttributeValue</a>() == rl.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassification.html#aa959c7455752ea3fee823961d3b6159d">predicateSet</a>.get(f).getAttributeValue()
<a name="l00888"></a>00888                                              &amp;&amp; this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a6fd2796c33e19f75e078e479b91cdab6">pred</a>.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1Predicates.html#ae324624641ae6851a61d7d740ad65565">getSymbol</a>() == rl.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassification.html#aa959c7455752ea3fee823961d3b6159d">predicateSet</a>.get(f).getSymbol()) {
<a name="l00889"></a>00889                                          countIqualPred = countIqualPred + 1;
<a name="l00890"></a>00890                                          <span class="keywordflow">if</span> (this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a6fd2796c33e19f75e078e479b91cdab6">pred</a>.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1Predicates.html#a375e8c0b932f4d02880a2834f6673f90">getValue</a>() &lt; rl.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassification.html#aa959c7455752ea3fee823961d3b6159d">predicateSet</a>.get(f).getValue()) {
<a name="l00891"></a>00891                                              rl.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassification.html#aa959c7455752ea3fee823961d3b6159d">predicateSet</a>.remove(f);
<a name="l00892"></a>00892                                              <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a7e481f87129041fba274fac8a0e00938">initializeRuleStatistics</a>(rl, <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a6fd2796c33e19f75e078e479b91cdab6">pred</a>, inst);
<a name="l00893"></a>00893                                              }
<a name="l00894"></a>00894                                          }
<a name="l00895"></a>00895                                      }
<a name="l00896"></a>00896                                  <span class="keywordflow">if</span> (countIqualPred == 0) {
<a name="l00897"></a>00897                                      <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a7e481f87129041fba274fac8a0e00938">initializeRuleStatistics</a>(rl, <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a6fd2796c33e19f75e078e479b91cdab6">pred</a>, inst);
<a name="l00898"></a>00898                                      }
<a name="l00899"></a>00899                                  }
<a name="l00900"></a>00900                         }
<a name="l00901"></a>00901                     }
<a name="l00902"></a>00902                 }
<a name="l00903"></a>00903             }
<a name="l00904"></a>00904         }
<a name="l00905"></a>00905         
<a name="l00906"></a>00906     <span class="comment">// This function gives the best value of entropy for each attribute</span>
<a name="l00907"></a><a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a08c80bf89e9f5c410373626cbfcf7464">00907</a>     <span class="keyword">public</span> <span class="keywordtype">void</span> <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a08c80bf89e9f5c410373626cbfcf7464">theBestAttributes</a>(Instance <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a8940290b3e9d7988d0c156e99e8e2c55">instance</a>, 
<a name="l00908"></a>00908             AutoExpandVector&lt;AttributeClassObserver&gt; observersParameter) {
<a name="l00909"></a>00909         <span class="keywordflow">for</span>(<span class="keywordtype">int</span> z = 0; z &lt; instance.numAttributes() - 1; z++){
<a name="l00910"></a>00910             <span class="keywordflow">if</span>(!instance.isMissing(z)){
<a name="l00911"></a>00911             <span class="keywordtype">int</span> instAttIndex = <a class="code" href="classmoa_1_1classifiers_1_1AbstractClassifier.html#a5cd97fb8e5751d48de011c81f45466d4" title="Gets the index of the attribute in the instance, given the index of the attribute...">modelAttIndexToInstanceAttIndex</a>(z, instance);
<a name="l00912"></a>00912             ArrayList&lt;Double&gt; attribBest = <span class="keyword">new</span> ArrayList&lt;Double&gt;();
<a name="l00913"></a>00913             <span class="keywordflow">if</span>(instance.attribute(instAttIndex).isNominal()){
<a name="l00914"></a>00914                 this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a88b1b9c15b2806c77cfad7b8c239611b">minEntropyNominalAttrib</a>=Double.MAX_VALUE;  
<a name="l00915"></a>00915                 AutoExpandVector&lt;DoubleVector&gt; attribNominal = ((<a class="code" href="classmoa_1_1classifiers_1_1core_1_1attributeclassobservers_1_1NominalAttributeClassObserver.html" title="Class for observing the class data distribution for a nominal attribute.">NominalAttributeClassObserver</a>)observersParameter.get(z)).attValDistPerClass;
<a name="l00916"></a>00916                 <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a4387654b7ea48c473db7b1a4dd9ad53f">findBestValEntropyNominalAtt</a>(attribNominal, instance.attribute(z).numValues());     <span class="comment">// The best value (lowest entropy) of a nominal attribute.</span>
<a name="l00917"></a>00917                 attribBest.add(this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a246168b008e27716075b9e86e30967b3">saveBestEntropyNominalAttrib</a>.<a class="code" href="classmoa_1_1core_1_1DoubleVector.html#a0a22580b229225823e9b11ed9d35104a">getValue</a>(0));
<a name="l00918"></a>00918                 attribBest.add(this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a246168b008e27716075b9e86e30967b3">saveBestEntropyNominalAttrib</a>.<a class="code" href="classmoa_1_1core_1_1DoubleVector.html#a0a22580b229225823e9b11ed9d35104a">getValue</a>(1));
<a name="l00919"></a>00919                 attribBest.add(this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a246168b008e27716075b9e86e30967b3">saveBestEntropyNominalAttrib</a>.<a class="code" href="classmoa_1_1core_1_1DoubleVector.html#a0a22580b229225823e9b11ed9d35104a">getValue</a>(2));
<a name="l00920"></a>00920                 this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a64ef2b16c065cd3fe0e864e12e5b8124">saveBestValGlobalEntropy</a>.add(attribBest);
<a name="l00921"></a>00921                 this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#aeae387b7eae49cd0d745e9472de750b6">saveBestGlobalEntropy</a>.<a class="code" href="classmoa_1_1core_1_1DoubleVector.html#afdb9ecc487070e6f0943e889a46334b8">setValue</a>(z, this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a246168b008e27716075b9e86e30967b3">saveBestEntropyNominalAttrib</a>.<a class="code" href="classmoa_1_1core_1_1DoubleVector.html#a0a22580b229225823e9b11ed9d35104a">getValue</a>(1));
<a name="l00922"></a>00922                 } <span class="keywordflow">else</span> {
<a name="l00923"></a>00923                     this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a8db2ca77e663dadbfa4e792755d1ac85">root</a>=((<a class="code" href="classmoa_1_1classifiers_1_1core_1_1attributeclassobservers_1_1BinaryTreeNumericAttributeClassObserver.html" title="Class for observing the class data distribution for a numeric attribute using a binary...">BinaryTreeNumericAttributeClassObserver</a>)observersParameter.get(z)).<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a8db2ca77e663dadbfa4e792755d1ac85">root</a>;
<a name="l00924"></a>00924                     <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#aa3026ed69fead2e4677193c1824d1b12">mainFindBestValEntropy</a>(this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a8db2ca77e663dadbfa4e792755d1ac85">root</a>);      <span class="comment">// The best value (lowest entropy) of a numeric attribute.</span>
<a name="l00925"></a>00925                     attribBest.add(this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a9593f5fd9ae202d495cc343a0eb8ead4">saveBestEntropy</a>.<a class="code" href="classmoa_1_1core_1_1DoubleVector.html#a0a22580b229225823e9b11ed9d35104a">getValue</a>(0));
<a name="l00926"></a>00926                     attribBest.add(this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a9593f5fd9ae202d495cc343a0eb8ead4">saveBestEntropy</a>.<a class="code" href="classmoa_1_1core_1_1DoubleVector.html#a0a22580b229225823e9b11ed9d35104a">getValue</a>(1));
<a name="l00927"></a>00927                     attribBest.add(this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a9593f5fd9ae202d495cc343a0eb8ead4">saveBestEntropy</a>.<a class="code" href="classmoa_1_1core_1_1DoubleVector.html#a0a22580b229225823e9b11ed9d35104a">getValue</a>(2));
<a name="l00928"></a>00928                     attribBest.add(this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a9593f5fd9ae202d495cc343a0eb8ead4">saveBestEntropy</a>.<a class="code" href="classmoa_1_1core_1_1DoubleVector.html#a0a22580b229225823e9b11ed9d35104a">getValue</a>(4));
<a name="l00929"></a>00929                     this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a64ef2b16c065cd3fe0e864e12e5b8124">saveBestValGlobalEntropy</a>.add(attribBest);
<a name="l00930"></a>00930                     this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#aeae387b7eae49cd0d745e9472de750b6">saveBestGlobalEntropy</a>.<a class="code" href="classmoa_1_1core_1_1DoubleVector.html#afdb9ecc487070e6f0943e889a46334b8">setValue</a>(z, this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a9593f5fd9ae202d495cc343a0eb8ead4">saveBestEntropy</a>.<a class="code" href="classmoa_1_1core_1_1DoubleVector.html#a0a22580b229225823e9b11ed9d35104a">getValue</a>(1));
<a name="l00931"></a>00931                     }
<a name="l00932"></a>00932             }<span class="keywordflow">else</span>{
<a name="l00933"></a>00933                  <span class="keywordtype">double</span> value = Double.MAX_VALUE;
<a name="l00934"></a>00934                  this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#aeae387b7eae49cd0d745e9472de750b6">saveBestGlobalEntropy</a>.<a class="code" href="classmoa_1_1core_1_1DoubleVector.html#afdb9ecc487070e6f0943e889a46334b8">setValue</a>(z, value);
<a name="l00935"></a>00935                  }
<a name="l00936"></a>00936             }
<a name="l00937"></a>00937     }
<a name="l00938"></a>00938     
<a name="l00939"></a>00939     <span class="comment">// Compute Entropy</span>
<a name="l00940"></a><a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a812279b42151a64e2ed6b90af2bfed22">00940</a>     <span class="keyword">public</span> <span class="keywordtype">double</span> <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a812279b42151a64e2ed6b90af2bfed22">entropy</a>(<a class="code" href="classmoa_1_1core_1_1DoubleVector.html" title="Vector of double numbers with some utilities.">DoubleVector</a> ValorDistClassE) {
<a name="l00941"></a>00941         <span class="keywordtype">double</span> <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a812279b42151a64e2ed6b90af2bfed22">entropy</a> = 0.0;
<a name="l00942"></a>00942         <span class="keywordtype">double</span> sum = 0.0;
<a name="l00943"></a>00943         <span class="keywordflow">for</span> (<span class="keywordtype">double</span> d : ValorDistClassE.<a class="code" href="classmoa_1_1core_1_1DoubleVector.html#a6d0ce5fe7346a8d4b4a6ae444750f9c8">getArrayCopy</a>()) {
<a name="l00944"></a>00944             <span class="keywordflow">if</span> (d &gt; 0.0) {
<a name="l00945"></a>00945                 entropy -= d * Utils.log2(d);
<a name="l00946"></a>00946                 sum += d;
<a name="l00947"></a>00947                 }
<a name="l00948"></a>00948             }
<a name="l00949"></a>00949         <span class="keywordflow">return</span> sum &gt; 0.0 ? (entropy + sum * Utils.log2(sum)) / sum : 0.0;
<a name="l00950"></a>00950         }
<a name="l00951"></a>00951     
<a name="l00952"></a>00952     <span class="comment">// Get the best value of entropy and its cutPoint for a numeric attribute</span>
<a name="l00953"></a><a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#af0f8c83ee817b32dcf1c1cf2bdf525f0">00953</a>     <span class="keyword">public</span> <span class="keywordtype">void</span> <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#af0f8c83ee817b32dcf1c1cf2bdf525f0">findBestValEntropy</a>(<a class="code" href="classmoa_1_1classifiers_1_1core_1_1attributeclassobservers_1_1BinaryTreeNumericAttributeClassObserver_1_1Node.html">Node</a> node, <a class="code" href="classmoa_1_1core_1_1DoubleVector.html" title="Vector of double numbers with some utilities.">DoubleVector</a> classCountL, <a class="code" href="classmoa_1_1core_1_1DoubleVector.html" title="Vector of double numbers with some utilities.">DoubleVector</a> classCountR,
<a name="l00954"></a>00954             <span class="keywordtype">boolean</span> status, <span class="keywordtype">double</span> minEntropy, <a class="code" href="classmoa_1_1core_1_1DoubleVector.html" title="Vector of double numbers with some utilities.">DoubleVector</a> parentCCLeft ){
<a name="l00955"></a>00955         <span class="keywordflow">if</span> (this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a8db2ca77e663dadbfa4e792755d1ac85">root</a> != null) {
<a name="l00956"></a>00956             <span class="keywordflow">if</span> (node != null) {
<a name="l00957"></a>00957                 <span class="keywordtype">int</span> <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a08abcfc998a5a353465dd5ed6f6b5344">numClass</a>=0;
<a name="l00958"></a>00958                 <a class="code" href="classmoa_1_1core_1_1DoubleVector.html" title="Vector of double numbers with some utilities.">DoubleVector</a> classCountLTemp = <span class="keyword">new</span> <a class="code" href="classmoa_1_1core_1_1DoubleVector.html" title="Vector of double numbers with some utilities.">DoubleVector</a>(); 
<a name="l00959"></a>00959                 <a class="code" href="classmoa_1_1core_1_1DoubleVector.html" title="Vector of double numbers with some utilities.">DoubleVector</a> classCountRTemp = <span class="keyword">new</span> <a class="code" href="classmoa_1_1core_1_1DoubleVector.html" title="Vector of double numbers with some utilities.">DoubleVector</a>(); 
<a name="l00960"></a>00960                 <a class="code" href="classmoa_1_1core_1_1DoubleVector.html" title="Vector of double numbers with some utilities.">DoubleVector</a> parentCCL = <span class="keyword">new</span> <a class="code" href="classmoa_1_1core_1_1DoubleVector.html" title="Vector of double numbers with some utilities.">DoubleVector</a>();
<a name="l00961"></a>00961                 <a class="code" href="classmoa_1_1core_1_1DoubleVector.html" title="Vector of double numbers with some utilities.">DoubleVector</a> parentCCLParameter = <span class="keyword">new</span> <a class="code" href="classmoa_1_1core_1_1DoubleVector.html" title="Vector of double numbers with some utilities.">DoubleVector</a>();
<a name="l00962"></a>00962                 <span class="keywordflow">for</span> (<span class="keywordtype">int</span> f = 0; f &lt; node.<a class="code" href="classmoa_1_1classifiers_1_1core_1_1attributeclassobservers_1_1BinaryTreeNumericAttributeClassObserver_1_1Node.html#a537af681c9500e4c9b6f966ff666b106">classCountsLeft</a>.<a class="code" href="classmoa_1_1core_1_1DoubleVector.html#a04cac8fb52824b100578ad4bfef2136a">numValues</a>(); f++) {
<a name="l00963"></a>00963                     parentCCLParameter.<a class="code" href="classmoa_1_1core_1_1DoubleVector.html#afdb9ecc487070e6f0943e889a46334b8">setValue</a>(f, node.<a class="code" href="classmoa_1_1classifiers_1_1core_1_1attributeclassobservers_1_1BinaryTreeNumericAttributeClassObserver_1_1Node.html#a537af681c9500e4c9b6f966ff666b106">classCountsLeft</a>.<a class="code" href="classmoa_1_1core_1_1DoubleVector.html#a0a22580b229225823e9b11ed9d35104a">getValue</a>(f));
<a name="l00964"></a>00964                     }
<a name="l00965"></a>00965                 <span class="keywordflow">for</span> (<span class="keywordtype">int</span> p = 0; p &lt; parentCCLeft.<a class="code" href="classmoa_1_1core_1_1DoubleVector.html#a04cac8fb52824b100578ad4bfef2136a">numValues</a>(); p++) {
<a name="l00966"></a>00966                     parentCCL.<a class="code" href="classmoa_1_1core_1_1DoubleVector.html#a4050209166f4be04dd9f6dac3535d60e">addToValue</a>(p, parentCCLeft.<a class="code" href="classmoa_1_1core_1_1DoubleVector.html#a0a22580b229225823e9b11ed9d35104a">getValue</a>(p));
<a name="l00967"></a>00967                     }
<a name="l00968"></a>00968                 <span class="keywordflow">if</span> (classCountL.<a class="code" href="classmoa_1_1core_1_1DoubleVector.html#a04cac8fb52824b100578ad4bfef2136a">numValues</a>() &gt;= classCountR.<a class="code" href="classmoa_1_1core_1_1DoubleVector.html#a04cac8fb52824b100578ad4bfef2136a">numValues</a>()) {
<a name="l00969"></a>00969                     numClass = classCountL.<a class="code" href="classmoa_1_1core_1_1DoubleVector.html#a04cac8fb52824b100578ad4bfef2136a">numValues</a>();
<a name="l00970"></a>00970                 } <span class="keywordflow">else</span> {
<a name="l00971"></a>00971                     numClass = classCountR.<a class="code" href="classmoa_1_1core_1_1DoubleVector.html#a04cac8fb52824b100578ad4bfef2136a">numValues</a>();
<a name="l00972"></a>00972                 }
<a name="l00973"></a>00973                 <span class="comment">// Counting the real class count left and the real class count right.</span>
<a name="l00974"></a>00974                 <span class="keywordflow">if</span> (node.<a class="code" href="classmoa_1_1classifiers_1_1core_1_1attributeclassobservers_1_1BinaryTreeNumericAttributeClassObserver_1_1Node.html#a2619b0e17afbab0b2de6bd42d0696547">cut_point</a> != <span class="keyword">this</span>.root.cut_point) {
<a name="l00975"></a>00975                     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; numClass; i++) {
<a name="l00976"></a>00976                         <span class="keywordflow">if</span> (status == <span class="keyword">true</span>) {       <span class="comment">// Left node.</span>
<a name="l00977"></a>00977                             <span class="keywordtype">double</span> parentss = parentCCL.<a class="code" href="classmoa_1_1core_1_1DoubleVector.html#a0a22580b229225823e9b11ed9d35104a">getValue</a>(i) - (node.<a class="code" href="classmoa_1_1classifiers_1_1core_1_1attributeclassobservers_1_1BinaryTreeNumericAttributeClassObserver_1_1Node.html#a537af681c9500e4c9b6f966ff666b106">classCountsLeft</a>.<a class="code" href="classmoa_1_1core_1_1DoubleVector.html#a0a22580b229225823e9b11ed9d35104a">getValue</a>(i) 
<a name="l00978"></a>00978                                     + node.<a class="code" href="classmoa_1_1classifiers_1_1core_1_1attributeclassobservers_1_1BinaryTreeNumericAttributeClassObserver_1_1Node.html#ad08b10bb8cb0b48ff135611a8c7ab325">classCountsRight</a>.<a class="code" href="classmoa_1_1core_1_1DoubleVector.html#a0a22580b229225823e9b11ed9d35104a">getValue</a>(i));
<a name="l00979"></a>00979                             <span class="keywordtype">double</span> left = classCountL.<a class="code" href="classmoa_1_1core_1_1DoubleVector.html#a0a22580b229225823e9b11ed9d35104a">getValue</a>(i) 
<a name="l00980"></a>00980                                     - node.<a class="code" href="classmoa_1_1classifiers_1_1core_1_1attributeclassobservers_1_1BinaryTreeNumericAttributeClassObserver_1_1Node.html#ad08b10bb8cb0b48ff135611a8c7ab325">classCountsRight</a>.<a class="code" href="classmoa_1_1core_1_1DoubleVector.html#a0a22580b229225823e9b11ed9d35104a">getValue</a>(i) - parentss;
<a name="l00981"></a>00981                             <span class="keywordtype">double</span> right = classCountR.<a class="code" href="classmoa_1_1core_1_1DoubleVector.html#a0a22580b229225823e9b11ed9d35104a">getValue</a>(i) 
<a name="l00982"></a>00982                                     + node.<a class="code" href="classmoa_1_1classifiers_1_1core_1_1attributeclassobservers_1_1BinaryTreeNumericAttributeClassObserver_1_1Node.html#ad08b10bb8cb0b48ff135611a8c7ab325">classCountsRight</a>.<a class="code" href="classmoa_1_1core_1_1DoubleVector.html#a0a22580b229225823e9b11ed9d35104a">getValue</a>(i) + parentss;
<a name="l00983"></a>00983                             classCountLTemp.<a class="code" href="classmoa_1_1core_1_1DoubleVector.html#a4050209166f4be04dd9f6dac3535d60e">addToValue</a>(i, left);
<a name="l00984"></a>00984                             classCountRTemp.<a class="code" href="classmoa_1_1core_1_1DoubleVector.html#a4050209166f4be04dd9f6dac3535d60e">addToValue</a>(i, right);
<a name="l00985"></a>00985                             }
<a name="l00986"></a>00986                         <span class="keywordflow">if</span> (status == <span class="keyword">false</span>) {      <span class="comment">// Right node.</span>
<a name="l00987"></a>00987                             <span class="keywordtype">double</span> left = classCountL.<a class="code" href="classmoa_1_1core_1_1DoubleVector.html#a0a22580b229225823e9b11ed9d35104a">getValue</a>(i)+ node.<a class="code" href="classmoa_1_1classifiers_1_1core_1_1attributeclassobservers_1_1BinaryTreeNumericAttributeClassObserver_1_1Node.html#a537af681c9500e4c9b6f966ff666b106">classCountsLeft</a>.<a class="code" href="classmoa_1_1core_1_1DoubleVector.html#a0a22580b229225823e9b11ed9d35104a">getValue</a>(i);
<a name="l00988"></a>00988                             <span class="keywordtype">double</span> right = classCountR.<a class="code" href="classmoa_1_1core_1_1DoubleVector.html#a0a22580b229225823e9b11ed9d35104a">getValue</a>(i)- node.<a class="code" href="classmoa_1_1classifiers_1_1core_1_1attributeclassobservers_1_1BinaryTreeNumericAttributeClassObserver_1_1Node.html#a537af681c9500e4c9b6f966ff666b106">classCountsLeft</a>.<a class="code" href="classmoa_1_1core_1_1DoubleVector.html#a0a22580b229225823e9b11ed9d35104a">getValue</a>(i);
<a name="l00989"></a>00989                             classCountLTemp.<a class="code" href="classmoa_1_1core_1_1DoubleVector.html#a4050209166f4be04dd9f6dac3535d60e">addToValue</a>(i, left);
<a name="l00990"></a>00990                             classCountRTemp.<a class="code" href="classmoa_1_1core_1_1DoubleVector.html#a4050209166f4be04dd9f6dac3535d60e">addToValue</a>(i, right);
<a name="l00991"></a>00991                             }
<a name="l00992"></a>00992                         }
<a name="l00993"></a>00993                     } <span class="keywordflow">else</span> {
<a name="l00994"></a>00994                         classCountLTemp = classCountL;
<a name="l00995"></a>00995                         classCountRTemp = classCountR;
<a name="l00996"></a>00996                         }
<a name="l00997"></a>00997                 <span class="keywordtype">double</span> classCountLSum = classCountLTemp.<a class="code" href="classmoa_1_1core_1_1DoubleVector.html#acafa367bb17b33b844486adfa1b2780a">sumOfValues</a>();
<a name="l00998"></a>00998                 <span class="keywordtype">double</span> classCountRSum = classCountRTemp.<a class="code" href="classmoa_1_1core_1_1DoubleVector.html#acafa367bb17b33b844486adfa1b2780a">sumOfValues</a>();
<a name="l00999"></a>00999                 <span class="keywordtype">double</span> numInst = this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a8db2ca77e663dadbfa4e792755d1ac85">root</a>.<a class="code" href="classmoa_1_1classifiers_1_1core_1_1attributeclassobservers_1_1BinaryTreeNumericAttributeClassObserver_1_1Node.html#a537af681c9500e4c9b6f966ff666b106">classCountsLeft</a>.<a class="code" href="classmoa_1_1core_1_1DoubleVector.html#acafa367bb17b33b844486adfa1b2780a">sumOfValues</a>() + this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a8db2ca77e663dadbfa4e792755d1ac85">root</a>.<a class="code" href="classmoa_1_1classifiers_1_1core_1_1attributeclassobservers_1_1BinaryTreeNumericAttributeClassObserver_1_1Node.html#ad08b10bb8cb0b48ff135611a8c7ab325">classCountsRight</a>.<a class="code" href="classmoa_1_1core_1_1DoubleVector.html#acafa367bb17b33b844486adfa1b2780a">sumOfValues</a>();
<a name="l01000"></a>01000                 <span class="comment">// The entropy value for all nodes except for the root.</span>
<a name="l01001"></a>01001                 <span class="keywordflow">if</span> ((classCountLSum &gt; this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#adf6a98fdb2c9cd80fd096448fa73eda2">PminOption</a>.<a class="code" href="classmoa_1_1options_1_1FloatOption.html#a0e606a62f4ece232aa8f8cb04bb7f1cf">getValue</a>()*numInst) 
<a name="l01002"></a>01002                         &amp;&amp; (classCountRSum &gt; this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#adf6a98fdb2c9cd80fd096448fa73eda2">PminOption</a>.<a class="code" href="classmoa_1_1options_1_1FloatOption.html#a0e606a62f4ece232aa8f8cb04bb7f1cf">getValue</a>() * numInst)) {
<a name="l01003"></a>01003                     <span class="keywordtype">double</span> classCountLEntropy = <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a812279b42151a64e2ed6b90af2bfed22">entropy</a>( classCountLTemp);   <span class="comment">// Entropy of class count left.</span>
<a name="l01004"></a>01004                     <span class="keywordtype">double</span> classCountREntropy = <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a812279b42151a64e2ed6b90af2bfed22">entropy</a>(classCountRTemp);    <span class="comment">// Entropy of class count right</span>
<a name="l01005"></a>01005                     <span class="keywordflow">if</span> (((classCountLSum / numInst) * classCountLEntropy + (classCountRSum / numInst)* classCountREntropy) &lt;= minEntropy) {
<a name="l01006"></a>01006                         this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#ab14fc55627b2550e4a130a773171375d">minEntropyTemp</a> = (classCountLSum / numInst) * classCountLEntropy 
<a name="l01007"></a>01007                                 + (classCountRSum / numInst) * classCountREntropy;
<a name="l01008"></a>01008                         this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a58e0b48d721c7631f961def103ee21b4">cutPointTemp</a> = node.<a class="code" href="classmoa_1_1classifiers_1_1core_1_1attributeclassobservers_1_1BinaryTreeNumericAttributeClassObserver_1_1Node.html#a2619b0e17afbab0b2de6bd42d0696547">cut_point</a>;
<a name="l01009"></a>01009                         <span class="keywordflow">if</span> (classCountLEntropy &lt;= classCountREntropy) {
<a name="l01010"></a>01010                             this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a27960568c63fcb10220d22b094e4f782">symbol</a> = -1.0;
<a name="l01011"></a>01011                             <span class="keywordtype">double</span> value = 0.0;
<a name="l01012"></a>01012                             <span class="keywordtype">double</span> index = 0.0;
<a name="l01013"></a>01013                             <span class="keywordflow">for</span> (<span class="keywordtype">int</span> h = 0; h &lt; numClass; h++) {
<a name="l01014"></a>01014                                 <span class="keywordflow">if</span> (value &lt;= classCountLTemp.<a class="code" href="classmoa_1_1core_1_1DoubleVector.html#a0a22580b229225823e9b11ed9d35104a">getValue</a>(h)) {
<a name="l01015"></a>01015                                     value = classCountLTemp.<a class="code" href="classmoa_1_1core_1_1DoubleVector.html#a0a22580b229225823e9b11ed9d35104a">getValue</a>(h);
<a name="l01016"></a>01016                                     index = (double)h;
<a name="l01017"></a>01017                                     }
<a name="l01018"></a>01018                                 }
<a name="l01019"></a>01019                             this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a9593f5fd9ae202d495cc343a0eb8ead4">saveBestEntropy</a>.<a class="code" href="classmoa_1_1core_1_1DoubleVector.html#afdb9ecc487070e6f0943e889a46334b8">setValue</a>(0, this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a58e0b48d721c7631f961def103ee21b4">cutPointTemp</a>);
<a name="l01020"></a>01020                             this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a9593f5fd9ae202d495cc343a0eb8ead4">saveBestEntropy</a>.<a class="code" href="classmoa_1_1core_1_1DoubleVector.html#afdb9ecc487070e6f0943e889a46334b8">setValue</a>(1, classCountLEntropy);
<a name="l01021"></a>01021                             this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a9593f5fd9ae202d495cc343a0eb8ead4">saveBestEntropy</a>.<a class="code" href="classmoa_1_1core_1_1DoubleVector.html#afdb9ecc487070e6f0943e889a46334b8">setValue</a>(2, this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a27960568c63fcb10220d22b094e4f782">symbol</a>);
<a name="l01022"></a>01022                             this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a9593f5fd9ae202d495cc343a0eb8ead4">saveBestEntropy</a>.<a class="code" href="classmoa_1_1core_1_1DoubleVector.html#afdb9ecc487070e6f0943e889a46334b8">setValue</a>(4, index);
<a name="l01023"></a>01023                             } <span class="keywordflow">else</span> {
<a name="l01024"></a>01024                                 this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a27960568c63fcb10220d22b094e4f782">symbol</a> = 1.0;
<a name="l01025"></a>01025                                 <span class="keywordtype">double</span> value = 0.0;
<a name="l01026"></a>01026                                 <span class="keywordtype">double</span> index = 0.0;
<a name="l01027"></a>01027                                 <span class="keywordflow">for</span> (<span class="keywordtype">int</span> h = 0; h &lt; numClass; h++) {
<a name="l01028"></a>01028                                     <span class="keywordflow">if</span> (value &lt;= classCountRTemp.<a class="code" href="classmoa_1_1core_1_1DoubleVector.html#a0a22580b229225823e9b11ed9d35104a">getValue</a>(h)) {
<a name="l01029"></a>01029                                         value = classCountRTemp.<a class="code" href="classmoa_1_1core_1_1DoubleVector.html#a0a22580b229225823e9b11ed9d35104a">getValue</a>(h);
<a name="l01030"></a>01030                                         index = (double)h;
<a name="l01031"></a>01031                                         }
<a name="l01032"></a>01032                                     }
<a name="l01033"></a>01033                                 this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a9593f5fd9ae202d495cc343a0eb8ead4">saveBestEntropy</a>.<a class="code" href="classmoa_1_1core_1_1DoubleVector.html#afdb9ecc487070e6f0943e889a46334b8">setValue</a>(0, this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a58e0b48d721c7631f961def103ee21b4">cutPointTemp</a>);
<a name="l01034"></a>01034                                 this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a9593f5fd9ae202d495cc343a0eb8ead4">saveBestEntropy</a>.<a class="code" href="classmoa_1_1core_1_1DoubleVector.html#afdb9ecc487070e6f0943e889a46334b8">setValue</a>(1, classCountREntropy);
<a name="l01035"></a>01035                                 this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a9593f5fd9ae202d495cc343a0eb8ead4">saveBestEntropy</a>.<a class="code" href="classmoa_1_1core_1_1DoubleVector.html#afdb9ecc487070e6f0943e889a46334b8">setValue</a>(2, this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a27960568c63fcb10220d22b094e4f782">symbol</a>);
<a name="l01036"></a>01036                                 this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a9593f5fd9ae202d495cc343a0eb8ead4">saveBestEntropy</a>.<a class="code" href="classmoa_1_1core_1_1DoubleVector.html#afdb9ecc487070e6f0943e889a46334b8">setValue</a>(4, index);
<a name="l01037"></a>01037                                 }
<a name="l01038"></a>01038                         }
<a name="l01039"></a>01039                     }
<a name="l01040"></a>01040                 <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#af0f8c83ee817b32dcf1c1cf2bdf525f0">findBestValEntropy</a>(node.<a class="code" href="classmoa_1_1classifiers_1_1core_1_1attributeclassobservers_1_1BinaryTreeNumericAttributeClassObserver_1_1Node.html#a9bf41efacb113d25b66a0ba18f32921b">left</a> ,classCountLTemp , classCountRTemp,
<a name="l01041"></a>01041                         <span class="keyword">true</span>, <span class="keyword">this</span>.minEntropyTemp, parentCCLParameter);
<a name="l01042"></a>01042                 <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#af0f8c83ee817b32dcf1c1cf2bdf525f0">findBestValEntropy</a>(node.<a class="code" href="classmoa_1_1classifiers_1_1core_1_1attributeclassobservers_1_1BinaryTreeNumericAttributeClassObserver_1_1Node.html#af758b6fa73b1458c497a29b27a9c9c9c">right</a> ,classCountLTemp , classCountRTemp,
<a name="l01043"></a>01043                         <span class="keyword">false</span>, <span class="keyword">this</span>.minEntropyTemp, parentCCLParameter);
<a name="l01044"></a>01044                 }
<a name="l01045"></a>01045             }
<a name="l01046"></a>01046         }
<a name="l01047"></a>01047     
<a name="l01048"></a>01048     <span class="comment">//Best value of entropy </span>
<a name="l01049"></a><a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#aa3026ed69fead2e4677193c1824d1b12">01049</a>     <span class="keyword">public</span> <span class="keywordtype">void</span> <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#aa3026ed69fead2e4677193c1824d1b12">mainFindBestValEntropy</a>(<a class="code" href="classmoa_1_1classifiers_1_1core_1_1attributeclassobservers_1_1BinaryTreeNumericAttributeClassObserver_1_1Node.html">Node</a> <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a8db2ca77e663dadbfa4e792755d1ac85">root</a>) {
<a name="l01050"></a>01050         <span class="keywordflow">if</span> (root != null) {
<a name="l01051"></a>01051             <a class="code" href="classmoa_1_1core_1_1DoubleVector.html" title="Vector of double numbers with some utilities.">DoubleVector</a> parentClassCL = <span class="keyword">new</span> <a class="code" href="classmoa_1_1core_1_1DoubleVector.html" title="Vector of double numbers with some utilities.">DoubleVector</a>();
<a name="l01052"></a>01052             <a class="code" href="classmoa_1_1core_1_1DoubleVector.html" title="Vector of double numbers with some utilities.">DoubleVector</a> classCountL = root.<a class="code" href="classmoa_1_1classifiers_1_1core_1_1attributeclassobservers_1_1BinaryTreeNumericAttributeClassObserver_1_1Node.html#a537af681c9500e4c9b6f966ff666b106">classCountsLeft</a>; <span class="comment">//class count left</span>
<a name="l01053"></a>01053             <a class="code" href="classmoa_1_1core_1_1DoubleVector.html" title="Vector of double numbers with some utilities.">DoubleVector</a> classCountR = root.<a class="code" href="classmoa_1_1classifiers_1_1core_1_1attributeclassobservers_1_1BinaryTreeNumericAttributeClassObserver_1_1Node.html#ad08b10bb8cb0b48ff135611a8c7ab325">classCountsRight</a>; <span class="comment">//class count left</span>
<a name="l01054"></a>01054             <span class="keywordtype">double</span> numInst = root.<a class="code" href="classmoa_1_1classifiers_1_1core_1_1attributeclassobservers_1_1BinaryTreeNumericAttributeClassObserver_1_1Node.html#a537af681c9500e4c9b6f966ff666b106">classCountsLeft</a>.<a class="code" href="classmoa_1_1core_1_1DoubleVector.html#acafa367bb17b33b844486adfa1b2780a">sumOfValues</a>() + root.<a class="code" href="classmoa_1_1classifiers_1_1core_1_1attributeclassobservers_1_1BinaryTreeNumericAttributeClassObserver_1_1Node.html#ad08b10bb8cb0b48ff135611a8c7ab325">classCountsRight</a>.<a class="code" href="classmoa_1_1core_1_1DoubleVector.html#acafa367bb17b33b844486adfa1b2780a">sumOfValues</a>();
<a name="l01055"></a>01055             <span class="keywordtype">double</span> classCountLSum = root.<a class="code" href="classmoa_1_1classifiers_1_1core_1_1attributeclassobservers_1_1BinaryTreeNumericAttributeClassObserver_1_1Node.html#a537af681c9500e4c9b6f966ff666b106">classCountsLeft</a>.<a class="code" href="classmoa_1_1core_1_1DoubleVector.html#acafa367bb17b33b844486adfa1b2780a">sumOfValues</a>();
<a name="l01056"></a>01056             <span class="keywordtype">double</span> classCountRSum = root.<a class="code" href="classmoa_1_1classifiers_1_1core_1_1attributeclassobservers_1_1BinaryTreeNumericAttributeClassObserver_1_1Node.html#ad08b10bb8cb0b48ff135611a8c7ab325">classCountsRight</a>.<a class="code" href="classmoa_1_1core_1_1DoubleVector.html#acafa367bb17b33b844486adfa1b2780a">sumOfValues</a>();
<a name="l01057"></a>01057             <span class="keywordtype">double</span> classCountLEntropy = <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a812279b42151a64e2ed6b90af2bfed22">entropy</a>(classCountL);
<a name="l01058"></a>01058             <span class="keywordtype">double</span> classCountREntropy = <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a812279b42151a64e2ed6b90af2bfed22">entropy</a>(classCountR);
<a name="l01059"></a>01059             this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#ab14fc55627b2550e4a130a773171375d">minEntropyTemp</a> = ( classCountLSum / numInst) * classCountLEntropy 
<a name="l01060"></a>01060                     + (classCountRSum / numInst)* classCountREntropy;
<a name="l01061"></a>01061             <span class="keywordflow">for</span> (<span class="keywordtype">int</span> f = 0; f &lt; root.<a class="code" href="classmoa_1_1classifiers_1_1core_1_1attributeclassobservers_1_1BinaryTreeNumericAttributeClassObserver_1_1Node.html#a537af681c9500e4c9b6f966ff666b106">classCountsLeft</a>.<a class="code" href="classmoa_1_1core_1_1DoubleVector.html#a04cac8fb52824b100578ad4bfef2136a">numValues</a>(); f++) {
<a name="l01062"></a>01062                 parentClassCL.<a class="code" href="classmoa_1_1core_1_1DoubleVector.html#afdb9ecc487070e6f0943e889a46334b8">setValue</a>(f, root.<a class="code" href="classmoa_1_1classifiers_1_1core_1_1attributeclassobservers_1_1BinaryTreeNumericAttributeClassObserver_1_1Node.html#a537af681c9500e4c9b6f966ff666b106">classCountsLeft</a>.<a class="code" href="classmoa_1_1core_1_1DoubleVector.html#a0a22580b229225823e9b11ed9d35104a">getValue</a>(f));
<a name="l01063"></a>01063                 }
<a name="l01064"></a>01064             <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#af0f8c83ee817b32dcf1c1cf2bdf525f0">findBestValEntropy</a>(root ,classCountL , classCountR, <span class="keyword">true</span>, this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#ab14fc55627b2550e4a130a773171375d">minEntropyTemp</a>, parentClassCL);
<a name="l01065"></a>01065             }
<a name="l01066"></a>01066         }
<a name="l01067"></a>01067     
<a name="l01068"></a>01068     <span class="comment">//Find best value of entropy for nominal attributes</span>
<a name="l01069"></a><a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a4387654b7ea48c473db7b1a4dd9ad53f">01069</a>     <span class="keyword">public</span> <span class="keywordtype">void</span> <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a4387654b7ea48c473db7b1a4dd9ad53f">findBestValEntropyNominalAtt</a>(AutoExpandVector&lt;DoubleVector&gt; attrib, <span class="keywordtype">int</span> attNumValues) {
<a name="l01070"></a>01070         ArrayList&lt;ArrayList&lt;Double&gt;&gt; distClassValue =  <span class="keyword">new</span> ArrayList&lt;ArrayList&lt;Double&gt;&gt;();
<a name="l01071"></a>01071     <span class="comment">//  System.out.print(&quot;attrib&quot;+attrib+&quot;\n&quot;);</span>
<a name="l01072"></a>01072         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> z = 0; z &lt; attrib.size(); z++) {
<a name="l01073"></a>01073             distClassValue.add(<span class="keyword">new</span> ArrayList&lt;Double&gt;());    
<a name="l01074"></a>01074         }
<a name="l01075"></a>01075         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> v = 0; v &lt; attNumValues; v++) {
<a name="l01076"></a>01076             <a class="code" href="classmoa_1_1core_1_1DoubleVector.html" title="Vector of double numbers with some utilities.">DoubleVector</a> saveVal = <span class="keyword">new</span> <a class="code" href="classmoa_1_1core_1_1DoubleVector.html" title="Vector of double numbers with some utilities.">DoubleVector</a>();
<a name="l01077"></a>01077             <span class="keywordflow">for</span> (<span class="keywordtype">int</span> z = 0; z &lt; attrib.size(); z++) {
<a name="l01078"></a>01078                 <span class="keywordflow">if</span> (attrib.get(z) != null) {
<a name="l01079"></a>01079                     distClassValue.get(z).add(attrib.get(z).getValue(v));
<a name="l01080"></a>01080                 } <span class="keywordflow">else</span> {
<a name="l01081"></a>01081                     distClassValue.get(z).add(0.0);
<a name="l01082"></a>01082                 }
<a name="l01083"></a>01083                 <span class="keywordflow">if</span>(distClassValue.get(z).get(v).isNaN()) {
<a name="l01084"></a>01084                     distClassValue.get(z).add(0.0);
<a name="l01085"></a>01085                 }
<a name="l01086"></a>01086                 saveVal.<a class="code" href="classmoa_1_1core_1_1DoubleVector.html#afdb9ecc487070e6f0943e889a46334b8">setValue</a>(z, distClassValue.get(z).get(v));
<a name="l01087"></a>01087                 }
<a name="l01088"></a>01088             <span class="keywordtype">double</span> sumValue = saveVal.<a class="code" href="classmoa_1_1core_1_1DoubleVector.html#acafa367bb17b33b844486adfa1b2780a">sumOfValues</a>();
<a name="l01089"></a>01089             <span class="keywordflow">if</span> (sumValue &gt; 0.0) {
<a name="l01090"></a>01090                 <span class="keywordtype">double</span> entropyVal = <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a812279b42151a64e2ed6b90af2bfed22">entropy</a>(saveVal);
<a name="l01091"></a>01091                 <span class="keywordflow">if</span> (entropyVal &lt;= this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a88b1b9c15b2806c77cfad7b8c239611b">minEntropyNominalAttrib</a>) {
<a name="l01092"></a>01092                     this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a88b1b9c15b2806c77cfad7b8c239611b">minEntropyNominalAttrib</a> = entropyVal;
<a name="l01093"></a>01093                     this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a246168b008e27716075b9e86e30967b3">saveBestEntropyNominalAttrib</a>.<a class="code" href="classmoa_1_1core_1_1DoubleVector.html#afdb9ecc487070e6f0943e889a46334b8">setValue</a>(0, v);
<a name="l01094"></a>01094                     this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a246168b008e27716075b9e86e30967b3">saveBestEntropyNominalAttrib</a>.<a class="code" href="classmoa_1_1core_1_1DoubleVector.html#afdb9ecc487070e6f0943e889a46334b8">setValue</a>(1, entropyVal);
<a name="l01095"></a>01095                     this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a246168b008e27716075b9e86e30967b3">saveBestEntropyNominalAttrib</a>.<a class="code" href="classmoa_1_1core_1_1DoubleVector.html#afdb9ecc487070e6f0943e889a46334b8">setValue</a>(2, 0.0);
<a name="l01096"></a>01096                     }
<a name="l01097"></a>01097                 }
<a name="l01098"></a>01098             }
<a name="l01099"></a>01099         }
<a name="l01100"></a>01100     
<a name="l01101"></a>01101     
<a name="l01102"></a>01102     <span class="comment">//Hoeffding Bound </span>
<a name="l01103"></a><a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#af1a55de3cfc96c7ca84efd5622b456cb">01103</a>     <span class="keyword">public</span>  <span class="keywordtype">double</span> <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#af1a55de3cfc96c7ca84efd5622b456cb">ComputeHoeffdingBound</a>(<span class="keywordtype">double</span> range, <span class="keywordtype">double</span> confidence,
<a name="l01104"></a>01104                     <span class="keywordtype">double</span> n) {
<a name="l01105"></a>01105         <span class="keywordflow">return</span> Math.sqrt(((range * range) * Math.log(1.0 / confidence))
<a name="l01106"></a>01106                         / (2.0 * n));
<a name="l01107"></a>01107         }
<a name="l01108"></a>01108     
<a name="l01109"></a>01109     <span class="comment">//Check if the best attribute is really the best</span>
<a name="l01110"></a><a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a46f123858669e7b3a8d29552d5ededed">01110</a>     <span class="keyword">public</span> <span class="keywordtype">boolean</span> <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a46f123858669e7b3a8d29552d5ededed">checkBestAttrib</a>(<span class="keywordtype">double</span> n,
<a name="l01111"></a>01111             AutoExpandVector&lt;AttributeClassObserver&gt; observerss, <a class="code" href="classmoa_1_1core_1_1DoubleVector.html" title="Vector of double numbers with some utilities.">DoubleVector</a> <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#ae01942f25ed32081c6514364b9d48ba4">observedClassDistribution</a>){
<a name="l01112"></a>01112         <span class="keywordtype">double</span> h0 = <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a812279b42151a64e2ed6b90af2bfed22">entropy</a>(observedClassDistribution);
<a name="l01113"></a>01113         <span class="keywordtype">boolean</span>  isTheBest = <span class="keyword">false</span>;
<a name="l01114"></a>01114         <span class="keywordtype">double</span>[] entropyValues = <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a49fb11f23db4219eb271ecab15db6cb8">getBestSecondBestEntropy</a>(this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#aeae387b7eae49cd0d745e9472de750b6">saveBestGlobalEntropy</a>);
<a name="l01115"></a>01115         <span class="keywordtype">double</span> bestEntropy = entropyValues[0];
<a name="l01116"></a>01116         <span class="keywordtype">double</span> secondBestEntropy = entropyValues[1];
<a name="l01117"></a>01117         <span class="keywordtype">double</span> range = Utils.log2(this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a08abcfc998a5a353465dd5ed6f6b5344">numClass</a>);
<a name="l01118"></a>01118         <span class="keywordtype">double</span> hoeffdingBound = <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#af1a55de3cfc96c7ca84efd5622b456cb">ComputeHoeffdingBound</a>(range, this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a379a2a4d04219da144ccb8d1608439d3">splitConfidenceOption</a>.<a class="code" href="classmoa_1_1options_1_1FloatOption.html#a0e606a62f4ece232aa8f8cb04bb7f1cf">getValue</a>(), n);
<a name="l01119"></a>01119         <span class="keywordflow">if</span> ((h0 &gt; bestEntropy) &amp;&amp; ((secondBestEntropy - bestEntropy &gt; hoeffdingBound)
<a name="l01120"></a>01120                 || (hoeffdingBound &lt; this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a2f84f9b220d1add00998feed676c0ee7">tieThresholdOption</a>.<a class="code" href="classmoa_1_1options_1_1FloatOption.html#a0e606a62f4ece232aa8f8cb04bb7f1cf">getValue</a>()))) {
<a name="l01121"></a>01121             <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a64ef2b16c065cd3fe0e864e12e5b8124">saveBestValGlobalEntropy</a>.size(); i++) {
<a name="l01122"></a>01122                 <span class="keywordflow">if</span> (bestEntropy ==(this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a64ef2b16c065cd3fe0e864e12e5b8124">saveBestValGlobalEntropy</a>.get(i).get(1))) {
<a name="l01123"></a>01123                     this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#ace9773edf29cfd486945f1d86533d3ea">saveTheBest</a>.add(this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a64ef2b16c065cd3fe0e864e12e5b8124">saveBestValGlobalEntropy</a>.get(i).get(0)); 
<a name="l01124"></a>01124                     this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#ace9773edf29cfd486945f1d86533d3ea">saveTheBest</a>.add(this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a64ef2b16c065cd3fe0e864e12e5b8124">saveBestValGlobalEntropy</a>.get(i).get(1));
<a name="l01125"></a>01125                     this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#ace9773edf29cfd486945f1d86533d3ea">saveTheBest</a>.add(this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a64ef2b16c065cd3fe0e864e12e5b8124">saveBestValGlobalEntropy</a>.get(i).get(2)); 
<a name="l01126"></a>01126                     this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#ace9773edf29cfd486945f1d86533d3ea">saveTheBest</a>.add((<span class="keywordtype">double</span>)i);
<a name="l01127"></a>01127                     <span class="keywordflow">if</span> (this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#ace9773edf29cfd486945f1d86533d3ea">saveTheBest</a>.get(2) != 0.0) {
<a name="l01128"></a>01128                         this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#ace9773edf29cfd486945f1d86533d3ea">saveTheBest</a>.add(this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a64ef2b16c065cd3fe0e864e12e5b8124">saveBestValGlobalEntropy</a>.get(i).get(3)); 
<a name="l01129"></a>01129                         }
<a name="l01130"></a>01130                     <span class="keywordflow">break</span>;
<a name="l01131"></a>01131                     }
<a name="l01132"></a>01132                 }
<a name="l01133"></a>01133             isTheBest = <span class="keyword">true</span>;
<a name="l01134"></a>01134             } <span class="keywordflow">else</span> {
<a name="l01135"></a>01135                 isTheBest = <span class="keyword">false</span>;
<a name="l01136"></a>01136                 }
<a name="l01137"></a>01137         <span class="keywordflow">return</span> isTheBest;
<a name="l01138"></a>01138         }
<a name="l01139"></a>01139     
<a name="l01140"></a>01140     <span class="comment">//Get best and second best attributes</span>
<a name="l01141"></a><a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a49fb11f23db4219eb271ecab15db6cb8">01141</a>     <span class="keyword">protected</span> <span class="keywordtype">double</span> [] <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a49fb11f23db4219eb271ecab15db6cb8">getBestSecondBestEntropy</a>(<a class="code" href="classmoa_1_1core_1_1DoubleVector.html" title="Vector of double numbers with some utilities.">DoubleVector</a> <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a812279b42151a64e2ed6b90af2bfed22">entropy</a>){
<a name="l01142"></a>01142         <span class="keywordtype">double</span>[] entropyValues = <span class="keyword">new</span> <span class="keywordtype">double</span>[2];
<a name="l01143"></a>01143         <span class="keywordtype">double</span> best = Double.MAX_VALUE;
<a name="l01144"></a>01144         <span class="keywordtype">double</span> secondBest = Double.MAX_VALUE;
<a name="l01145"></a>01145         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; entropy.<a class="code" href="classmoa_1_1core_1_1DoubleVector.html#a04cac8fb52824b100578ad4bfef2136a">numValues</a>(); i++) {
<a name="l01146"></a>01146             <span class="keywordflow">if</span> (entropy.<a class="code" href="classmoa_1_1core_1_1DoubleVector.html#a0a22580b229225823e9b11ed9d35104a">getValue</a>(i) &lt; best) {
<a name="l01147"></a>01147                 secondBest = best;
<a name="l01148"></a>01148                 best = entropy.<a class="code" href="classmoa_1_1core_1_1DoubleVector.html#a0a22580b229225823e9b11ed9d35104a">getValue</a>(i);
<a name="l01149"></a>01149             } <span class="keywordflow">else</span>{
<a name="l01150"></a>01150                 <span class="keywordflow">if</span> (entropy.<a class="code" href="classmoa_1_1core_1_1DoubleVector.html#a0a22580b229225823e9b11ed9d35104a">getValue</a>(i) &lt; secondBest) {
<a name="l01151"></a>01151                     secondBest = entropy.<a class="code" href="classmoa_1_1core_1_1DoubleVector.html#a0a22580b229225823e9b11ed9d35104a">getValue</a>(i);
<a name="l01152"></a>01152                 }
<a name="l01153"></a>01153             }
<a name="l01154"></a>01154             }
<a name="l01155"></a>01155         entropyValues[0] = best;
<a name="l01156"></a>01156         entropyValues[1] = secondBest;
<a name="l01157"></a>01157         
<a name="l01158"></a>01158         <span class="keywordflow">return</span> entropyValues;
<a name="l01159"></a>01159     }
<a name="l01160"></a>01160     
<a name="l01161"></a>01161     <span class="comment">//Get rule majority class index </span>
<a name="l01162"></a><a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a84bd5ef0a8a6819d0d293a79a971c2ee">01162</a>     <span class="keyword">protected</span> <span class="keywordtype">double</span> <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a84bd5ef0a8a6819d0d293a79a971c2ee">getRuleMajorityClassIndex</a>(<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassification.html">RuleClassification</a> r) {
<a name="l01163"></a>01163         <span class="keywordtype">double</span> maxvalue = 0.0;
<a name="l01164"></a>01164         <span class="keywordtype">int</span> posMaxValue = 0;
<a name="l01165"></a>01165         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; r.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassification.html#a088ca682278f0a7c6993c5193ac55d52">obserClassDistrib</a>.<a class="code" href="classmoa_1_1core_1_1DoubleVector.html#a04cac8fb52824b100578ad4bfef2136a">numValues</a>(); i++) {
<a name="l01166"></a>01166             <span class="keywordflow">if</span> (r.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassification.html#a088ca682278f0a7c6993c5193ac55d52">obserClassDistrib</a>.<a class="code" href="classmoa_1_1core_1_1DoubleVector.html#a0a22580b229225823e9b11ed9d35104a">getValue</a>(i) &gt; maxvalue) {
<a name="l01167"></a>01167                 maxvalue = r.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassification.html#a088ca682278f0a7c6993c5193ac55d52">obserClassDistrib</a>.<a class="code" href="classmoa_1_1core_1_1DoubleVector.html#a0a22580b229225823e9b11ed9d35104a">getValue</a>(i);
<a name="l01168"></a>01168                 posMaxValue = i;
<a name="l01169"></a>01169             }
<a name="l01170"></a>01170         }
<a name="l01171"></a>01171         <span class="keywordflow">return</span> (<span class="keywordtype">double</span>)posMaxValue;
<a name="l01172"></a>01172     }
<a name="l01173"></a>01173         
<a name="l01174"></a>01174     <span class="comment">//Get observers class distribution probability</span>
<a name="l01175"></a><a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a654de0e7e971f024064bba8ae9e2d675">01175</a>     <span class="keyword">protected</span> <span class="keywordtype">double</span>[] <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a654de0e7e971f024064bba8ae9e2d675">oberversDistribProb</a>(Instance inst,
<a name="l01176"></a>01176             <a class="code" href="classmoa_1_1core_1_1DoubleVector.html" title="Vector of double numbers with some utilities.">DoubleVector</a> classDistrib) {
<a name="l01177"></a>01177         <span class="keywordtype">double</span>[] votes = <span class="keyword">new</span> <span class="keywordtype">double</span>[this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a08abcfc998a5a353465dd5ed6f6b5344">numClass</a>];
<a name="l01178"></a>01178         <span class="keywordtype">double</span> sum = classDistrib.<a class="code" href="classmoa_1_1core_1_1DoubleVector.html#acafa367bb17b33b844486adfa1b2780a">sumOfValues</a>();
<a name="l01179"></a>01179         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> z = 0; z &lt; this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a08abcfc998a5a353465dd5ed6f6b5344">numClass</a>; z++) {
<a name="l01180"></a>01180             votes[z] = classDistrib.<a class="code" href="classmoa_1_1core_1_1DoubleVector.html#a0a22580b229225823e9b11ed9d35104a">getValue</a>(z) / sum;
<a name="l01181"></a>01181             }
<a name="l01182"></a>01182         <span class="keywordflow">return</span> votes;
<a name="l01183"></a>01183         }
<a name="l01184"></a>01184     
<a name="l01185"></a>01185     <span class="comment">// The following three functions are used for the prediction </span>
<a name="l01186"></a><a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a22d79b4b26dc82aec309e36b22885e7e">01186</a>     <span class="keyword">protected</span> <span class="keywordtype">double</span>[] <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a22d79b4b26dc82aec309e36b22885e7e">firstHit</a>(Instance inst) {
<a name="l01187"></a>01187         <span class="keywordtype">boolean</span> fired = <span class="keyword">false</span>;
<a name="l01188"></a>01188         <span class="keywordtype">int</span> countFired = 0;
<a name="l01189"></a>01189         <span class="keywordtype">double</span>[] votes = <span class="keyword">new</span> <span class="keywordtype">double</span>[this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a08abcfc998a5a353465dd5ed6f6b5344">numClass</a>];
<a name="l01190"></a>01190         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a7d88549f5206dfc6c384e14fc2734e97">ruleSet</a>.size(); j++) {
<a name="l01191"></a>01191             <span class="keywordflow">if</span> (this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a7d88549f5206dfc6c384e14fc2734e97">ruleSet</a>.get(j).ruleEvaluate(inst) == <span class="keyword">true</span>) {
<a name="l01192"></a>01192                 countFired = countFired + 1;
<a name="l01193"></a>01193                 <span class="keywordflow">for</span> (<span class="keywordtype">int</span> z = 0; z &lt; this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a08abcfc998a5a353465dd5ed6f6b5344">numClass</a>; z++) {
<a name="l01194"></a>01194                     votes[z] = this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a7d88549f5206dfc6c384e14fc2734e97">ruleSet</a>.get(j).obserClassDistrib.getValue(z) 
<a name="l01195"></a>01195                             / this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a7d88549f5206dfc6c384e14fc2734e97">ruleSet</a>.get(j).obserClassDistrib.sumOfValues();
<a name="l01196"></a>01196                     }
<a name="l01197"></a>01197                 <span class="keywordflow">return</span> votes;
<a name="l01198"></a>01198                 }
<a name="l01199"></a>01199             }
<a name="l01200"></a>01200         <span class="keywordflow">if</span> (countFired &gt; 0) {
<a name="l01201"></a>01201             fired = <span class="keyword">true</span>;
<a name="l01202"></a>01202             } <span class="keywordflow">else</span> {
<a name="l01203"></a>01203                 fired = <span class="keyword">false</span>;
<a name="l01204"></a>01204                 }
<a name="l01205"></a>01205         <span class="keywordflow">if</span> (fired == <span class="keyword">false</span>) {
<a name="l01206"></a>01206             votes = <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a654de0e7e971f024064bba8ae9e2d675">oberversDistribProb</a>(inst, this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#ae01942f25ed32081c6514364b9d48ba4">observedClassDistribution</a>);
<a name="l01207"></a>01207             }
<a name="l01208"></a>01208         <span class="keywordflow">return</span> votes;
<a name="l01209"></a>01209         }
<a name="l01210"></a>01210     
<a name="l01211"></a>01211     <span class="comment">//Get the votes using weighted Max</span>
<a name="l01212"></a><a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a3b02afcd12e0dcaaa4181e13d25bd816">01212</a>     <span class="keyword">protected</span> <span class="keywordtype">double</span>[] <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a3b02afcd12e0dcaaa4181e13d25bd816">weightedMax</a>(Instance inst) {
<a name="l01213"></a>01213         <span class="keywordtype">int</span> countFired = 0;
<a name="l01214"></a>01214         <span class="keywordtype">boolean</span> fired = <span class="keyword">false</span>;
<a name="l01215"></a>01215         <span class="keywordtype">double</span> highest = 0.0;
<a name="l01216"></a>01216         <span class="keywordtype">double</span>[] votes = <span class="keyword">new</span> <span class="keywordtype">double</span>[this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a08abcfc998a5a353465dd5ed6f6b5344">numClass</a>];
<a name="l01217"></a>01217         ArrayList&lt;Double&gt; ruleSetVotes = <span class="keyword">new</span> ArrayList&lt;Double&gt;();
<a name="l01218"></a>01218         ArrayList&lt;ArrayList&lt;Double&gt;&gt; majorityProb = <span class="keyword">new</span> ArrayList&lt;ArrayList&lt;Double&gt;&gt;();
<a name="l01219"></a>01219         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a7d88549f5206dfc6c384e14fc2734e97">ruleSet</a>.size(); j++) {
<a name="l01220"></a>01220             ArrayList&lt;Double&gt; ruleProb = <span class="keyword">new</span> ArrayList&lt;Double&gt;();
<a name="l01221"></a>01221             <span class="keywordflow">if</span> (this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a7d88549f5206dfc6c384e14fc2734e97">ruleSet</a>.get(j).ruleEvaluate(inst) == <span class="keyword">true</span>) {
<a name="l01222"></a>01222                 countFired = countFired+1;
<a name="l01223"></a>01223                 <span class="keywordflow">for</span> (<span class="keywordtype">int</span> z = 0; z &lt; this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a08abcfc998a5a353465dd5ed6f6b5344">numClass</a>; z++) {
<a name="l01224"></a>01224                     ruleSetVotes.add(this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a7d88549f5206dfc6c384e14fc2734e97">ruleSet</a>.get(j).obserClassDistrib.getValue(z) / this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a7d88549f5206dfc6c384e14fc2734e97">ruleSet</a>.get(j).obserClassDistrib.sumOfValues());
<a name="l01225"></a>01225                     ruleProb.add(this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a7d88549f5206dfc6c384e14fc2734e97">ruleSet</a>.get(j).obserClassDistrib.getValue(z) / this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a7d88549f5206dfc6c384e14fc2734e97">ruleSet</a>.get(j).obserClassDistrib.sumOfValues());
<a name="l01226"></a>01226                     }
<a name="l01227"></a>01227                 majorityProb.add(ruleProb);
<a name="l01228"></a>01228                 }
<a name="l01229"></a>01229             }
<a name="l01230"></a>01230         <span class="keywordflow">if</span> (countFired &gt; 0) {
<a name="l01231"></a>01231             fired = <span class="keyword">true</span>;
<a name="l01232"></a>01232             Collections.sort(ruleSetVotes); 
<a name="l01233"></a>01233             highest = ruleSetVotes.get(ruleSetVotes.size() - 1);
<a name="l01234"></a>01234             <span class="keywordflow">for</span> (<span class="keywordtype">int</span> t = 0; t &lt; majorityProb.size(); t++) {
<a name="l01235"></a>01235                  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> m = 0; m &lt; majorityProb.get(t).size(); m++) {
<a name="l01236"></a>01236                      <span class="keywordflow">if</span> (majorityProb.get(t).get(m) == highest) {
<a name="l01237"></a>01237                          <span class="keywordflow">for</span> (<span class="keywordtype">int</span> h = 0; h &lt; majorityProb.get(t).size(); h++) {
<a name="l01238"></a>01238                              votes[h] = majorityProb.get(t).get(h);
<a name="l01239"></a>01239                              }
<a name="l01240"></a>01240                          <span class="keywordflow">break</span>;
<a name="l01241"></a>01241                          }
<a name="l01242"></a>01242                      }
<a name="l01243"></a>01243                  }
<a name="l01244"></a>01244             } <span class="keywordflow">else</span> {
<a name="l01245"></a>01245                 fired = <span class="keyword">false</span>;
<a name="l01246"></a>01246                 }
<a name="l01247"></a>01247         <span class="keywordflow">if</span> (fired == <span class="keyword">false</span>) {
<a name="l01248"></a>01248             votes = <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a654de0e7e971f024064bba8ae9e2d675">oberversDistribProb</a>(inst, this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#ae01942f25ed32081c6514364b9d48ba4">observedClassDistribution</a>);
<a name="l01249"></a>01249             }
<a name="l01250"></a>01250         <span class="keywordflow">return</span> votes;
<a name="l01251"></a>01251         }
<a name="l01252"></a>01252     
<a name="l01253"></a>01253     <span class="comment">//Get the votes using weighted Sum</span>
<a name="l01254"></a><a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#af45780b0c3c63a2db4e153a9c2cc4485">01254</a>     <span class="keyword">protected</span> <span class="keywordtype">double</span>[] <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#af45780b0c3c63a2db4e153a9c2cc4485">weightedSum</a>(Instance inst) {
<a name="l01255"></a>01255         <span class="keywordtype">boolean</span> fired = <span class="keyword">false</span>;
<a name="l01256"></a>01256         <span class="keywordtype">int</span> countFired = 0;
<a name="l01257"></a>01257         <span class="keywordtype">double</span>[] votes = <span class="keyword">new</span> <span class="keywordtype">double</span>[this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a08abcfc998a5a353465dd5ed6f6b5344">numClass</a>];
<a name="l01258"></a>01258         ArrayList&lt;Double&gt; weightSum = <span class="keyword">new</span> ArrayList&lt;Double&gt;();
<a name="l01259"></a>01259         ArrayList&lt;ArrayList&lt;Double&gt;&gt; majorityProb = <span class="keyword">new</span> ArrayList&lt;ArrayList&lt;Double&gt;&gt;();
<a name="l01260"></a>01260         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a7d88549f5206dfc6c384e14fc2734e97">ruleSet</a>.size(); j++) {
<a name="l01261"></a>01261             ArrayList&lt;Double&gt; ruleProb = <span class="keyword">new</span> ArrayList&lt;Double&gt;();
<a name="l01262"></a>01262             <span class="keywordflow">if</span> (this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a7d88549f5206dfc6c384e14fc2734e97">ruleSet</a>.get(j).ruleEvaluate(inst) == <span class="keyword">true</span>) {
<a name="l01263"></a>01263                 countFired = countFired + 1;
<a name="l01264"></a>01264                 <span class="keywordflow">for</span> (<span class="keywordtype">int</span> z = 0; z &lt; this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a08abcfc998a5a353465dd5ed6f6b5344">numClass</a>; z++) {
<a name="l01265"></a>01265                     ruleProb.add(this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a7d88549f5206dfc6c384e14fc2734e97">ruleSet</a>.get(j).obserClassDistrib.getValue(z) / this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a7d88549f5206dfc6c384e14fc2734e97">ruleSet</a>.get(j).obserClassDistrib.sumOfValues());
<a name="l01266"></a>01266                     }
<a name="l01267"></a>01267                 majorityProb.add(ruleProb);
<a name="l01268"></a>01268                 }
<a name="l01269"></a>01269             }
<a name="l01270"></a>01270         <span class="keywordflow">if</span> (countFired &gt; 0) {
<a name="l01271"></a>01271             fired = <span class="keyword">true</span>;
<a name="l01272"></a>01272             <span class="keywordflow">for</span> (<span class="keywordtype">int</span> m = 0; m &lt; majorityProb.get(0).size(); m++) {
<a name="l01273"></a>01273                 <span class="keywordtype">double</span> sum = 0.0;
<a name="l01274"></a>01274                 <span class="keywordflow">for</span> (<span class="keywordtype">int</span> t = 0; t &lt; majorityProb.size(); t++){
<a name="l01275"></a>01275                     sum = sum + majorityProb.get(t).get(m);
<a name="l01276"></a>01276                     }
<a name="l01277"></a>01277                 weightSum.add(sum);
<a name="l01278"></a>01278                 }
<a name="l01279"></a>01279             <span class="keywordflow">for</span> (<span class="keywordtype">int</span> h = 0; h &lt; weightSum.size(); h++) {
<a name="l01280"></a>01280                 votes[h] = weightSum.get(h) / majorityProb.size();
<a name="l01281"></a>01281                 }
<a name="l01282"></a>01282             } <span class="keywordflow">else</span> {
<a name="l01283"></a>01283                 fired = <span class="keyword">false</span>;
<a name="l01284"></a>01284                 }
<a name="l01285"></a>01285         <span class="keywordflow">if</span> (fired == <span class="keyword">false</span>) {
<a name="l01286"></a>01286             votes = <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a654de0e7e971f024064bba8ae9e2d675">oberversDistribProb</a>(inst, this.<a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#ae01942f25ed32081c6514364b9d48ba4">observedClassDistribution</a>);
<a name="l01287"></a>01287             }
<a name="l01288"></a>01288         <span class="keywordflow">return</span> votes;
<a name="l01289"></a>01289         }
<a name="l01290"></a>01290     
<a name="l01291"></a>01291     
<a name="l01292"></a><a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a7132712e5907bb0a63b3afe131697ecb">01292</a>     <span class="keyword">protected</span> <a class="code" href="interfacemoa_1_1classifiers_1_1core_1_1attributeclassobservers_1_1AttributeClassObserver.html" title="Interface for observing the class data distribution for an attribute.">AttributeClassObserver</a> <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a7132712e5907bb0a63b3afe131697ecb">newNominalClassObserver</a>() {
<a name="l01293"></a>01293         <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="classmoa_1_1classifiers_1_1core_1_1attributeclassobservers_1_1NominalAttributeClassObserver.html" title="Class for observing the class data distribution for a nominal attribute.">NominalAttributeClassObserver</a>();
<a name="l01294"></a>01294     }
<a name="l01295"></a>01295  
<a name="l01296"></a><a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a825a1a2c0d33eade9e2716584b73b74f">01296</a>     <span class="keyword">protected</span> <a class="code" href="interfacemoa_1_1classifiers_1_1core_1_1attributeclassobservers_1_1AttributeClassObserver.html" title="Interface for observing the class data distribution for an attribute.">AttributeClassObserver</a> <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a825a1a2c0d33eade9e2716584b73b74f">newNumericClassObserver</a>() {
<a name="l01297"></a>01297         <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="classmoa_1_1classifiers_1_1core_1_1attributeclassobservers_1_1BinaryTreeNumericAttributeClassObserver.html" title="Class for observing the class data distribution for a numeric attribute using a binary...">BinaryTreeNumericAttributeClassObserver</a>();
<a name="l01298"></a>01298     }
<a name="l01299"></a>01299     
<a name="l01300"></a><a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#ad166769ca6d8b6e0b4d21d4cf59cf005">01300</a>     <span class="keyword">protected</span> <a class="code" href="interfacemoa_1_1classifiers_1_1core_1_1attributeclassobservers_1_1AttributeClassObserver.html" title="Interface for observing the class data distribution for an attribute.">AttributeClassObserver</a> <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#ad166769ca6d8b6e0b4d21d4cf59cf005">newNumericClassObserver2</a>() {
<a name="l01301"></a>01301         <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="classmoa_1_1classifiers_1_1core_1_1attributeclassobservers_1_1GaussianNumericAttributeClassObserver.html" title="Class for observing the class data distribution for a numeric attribute using gaussian...">GaussianNumericAttributeClassObserver</a>();
<a name="l01302"></a>01302             }
<a name="l01303"></a>01303     
<a name="l01304"></a><a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a37754f604adcd0a0e6dc410d88005789">01304</a>     <span class="keyword">public</span> <span class="keywordtype">void</span> <a class="code" href="classmoa_1_1classifiers_1_1rules_1_1RuleClassifier.html#a37754f604adcd0a0e6dc410d88005789">manageMemory</a>(<span class="keywordtype">int</span> currentByteSize, <span class="keywordtype">int</span> maxByteSize) {
<a name="l01305"></a>01305         <span class="comment">// TODO Auto-generated method stub</span>
<a name="l01306"></a>01306     }
<a name="l01307"></a>01307     }
</pre></div></div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&nbsp;</span>Enumerations</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr size="1"/><address style="text-align: right;"><small>Generated on 26 Nov 2014 for MOA by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
