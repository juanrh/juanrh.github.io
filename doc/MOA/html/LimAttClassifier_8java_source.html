<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>MOA: main/java/moa/classifiers/meta/LimAttClassifier.java Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.6.1 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="namespaces.html"><span>Packages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <img id="MSearchSelect" src="search/search.png"
             onmouseover="return searchBox.OnSearchSelectShow()"
             onmouseout="return searchBox.OnSearchSelectHide()"
             alt=""/>
        <input type="text" id="MSearchField" value="Search" accesskey="S"
             onfocus="searchBox.OnSearchFieldFocus(true)" 
             onblur="searchBox.OnSearchFieldFocus(false)" 
             onkeyup="searchBox.OnSearchFieldChange(event)"/>
        <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    </ul>
  </div>
<h1>main/java/moa/classifiers/meta/LimAttClassifier.java</h1><a href="LimAttClassifier_8java.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/*</span>
<a name="l00002"></a>00002 <span class="comment"> *    LimAttClassifier.java</span>
<a name="l00003"></a>00003 <span class="comment"> *    Copyright (C) 2010 University of Waikato, Hamilton, New Zealand</span>
<a name="l00004"></a>00004 <span class="comment"> *    @author Albert Bifet (abifet at cs dot waikato dot ac dot nz)</span>
<a name="l00005"></a>00005 <span class="comment"> *    @author Eibe Frank (eibe{[at]}cs{[dot]}waikato{[dot]}ac{[dot]}nz)</span>
<a name="l00006"></a>00006 <span class="comment"> *</span>
<a name="l00007"></a>00007 <span class="comment"> *    This program is free software; you can redistribute it and/or modify</span>
<a name="l00008"></a>00008 <span class="comment"> *    it under the terms of the GNU General Public License as published by</span>
<a name="l00009"></a>00009 <span class="comment"> *    the Free Software Foundation; either version 3 of the License, or</span>
<a name="l00010"></a>00010 <span class="comment"> *    (at your option) any later version.</span>
<a name="l00011"></a>00011 <span class="comment"> *</span>
<a name="l00012"></a>00012 <span class="comment"> *    This program is distributed in the hope that it will be useful,</span>
<a name="l00013"></a>00013 <span class="comment"> *    but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l00014"></a>00014 <span class="comment"> *    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<a name="l00015"></a>00015 <span class="comment"> *    GNU General Public License for more details.</span>
<a name="l00016"></a>00016 <span class="comment"> *</span>
<a name="l00017"></a>00017 <span class="comment"> *    You should have received a copy of the GNU General Public License</span>
<a name="l00018"></a>00018 <span class="comment"> *    along with this program. If not, see &lt;http://www.gnu.org/licenses/&gt;.</span>
<a name="l00019"></a>00019 <span class="comment"> *    </span>
<a name="l00020"></a>00020 <span class="comment"> */</span>
<a name="l00021"></a>00021 <span class="keyword">package </span>moa.classifiers.meta;
<a name="l00022"></a>00022 
<a name="l00023"></a>00023 <span class="keyword">import</span> moa.classifiers.trees.LimAttHoeffdingTree;
<a name="l00024"></a>00024 <span class="keyword">import</span> weka.core.Instance;
<a name="l00025"></a>00025 <span class="keyword">import</span> weka.core.Utils;
<a name="l00026"></a>00026 
<a name="l00027"></a>00027 <span class="keyword">import</span> java.math.BigInteger;
<a name="l00028"></a>00028 <span class="keyword">import</span> java.util.Arrays;
<a name="l00029"></a>00029 <span class="keyword">import</span> moa.classifiers.core.driftdetection.ADWIN;
<a name="l00030"></a>00030 <span class="keyword">import</span> moa.classifiers.AbstractClassifier;
<a name="l00031"></a>00031 <span class="keyword">import</span> moa.classifiers.Classifier;
<a name="l00032"></a>00032 
<a name="l00033"></a>00033 <span class="keyword">import</span> moa.core.Measurement;
<a name="l00034"></a>00034 <span class="keyword">import</span> moa.options.ClassOption;
<a name="l00035"></a>00035 <span class="keyword">import</span> moa.options.FlagOption;
<a name="l00036"></a>00036 <span class="keyword">import</span> moa.options.FloatOption;
<a name="l00037"></a>00037 <span class="keyword">import</span> moa.options.IntOption;
<a name="l00038"></a>00038 
<a name="l00081"></a><a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html">00081</a> <span class="keyword">public</span> <span class="keyword">class </span><a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html" title="Ensemble Combining Restricted Hoeffding Trees using Stacking.">LimAttClassifier</a> <span class="keyword">extends</span> <a class="code" href="classmoa_1_1classifiers_1_1AbstractClassifier.html" title="Abstract Classifier.">AbstractClassifier</a> {
<a name="l00082"></a>00082 
<a name="l00083"></a>00083     @Override
<a name="l00084"></a><a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#af57de8080e00d11b919ad35c1ac5b0f0">00084</a>     <span class="keyword">public</span> String <a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#af57de8080e00d11b919ad35c1ac5b0f0" title="Gets the purpose of this object.">getPurposeString</a>() {
<a name="l00085"></a>00085         <span class="keywordflow">return</span> <span class="stringliteral">&quot;Ensemble Combining Restricted Hoeffding Trees using Stacking&quot;</span>;
<a name="l00086"></a>00086     }    
<a name="l00087"></a>00087     
<a name="l00088"></a>00088     <span class="comment">/*</span>
<a name="l00089"></a>00089 <span class="comment">     * Class that generates all combinations of n elements, taken</span>
<a name="l00090"></a>00090 <span class="comment">     * r at a time. The algorithm is described by</span>
<a name="l00091"></a>00091 <span class="comment">     *</span>
<a name="l00092"></a>00092 <span class="comment">     * Kenneth H. Rosen, Discrete Mathematics and Its Applications,</span>
<a name="l00093"></a>00093 <span class="comment">     * 2nd edition (NY: McGraw-Hill, 1991), pp. 284-286.</span>
<a name="l00094"></a>00094 <span class="comment">     *</span>
<a name="l00095"></a>00095 <span class="comment">     *  @author Michael Gilleland (megilleland@yahoo.com)</span>
<a name="l00096"></a>00096 <span class="comment">     */</span>
<a name="l00097"></a><a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier_1_1CombinationGenerator.html">00097</a>     <span class="keyword">public</span> <span class="keyword">class </span><a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier_1_1CombinationGenerator.html">CombinationGenerator</a> {
<a name="l00098"></a>00098 
<a name="l00099"></a><a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier_1_1CombinationGenerator.html#aec5d2e7983e7dd583208138baadb69f8">00099</a>         <span class="keyword">private</span> <span class="keywordtype">int</span>[] <a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier_1_1CombinationGenerator.html#aec5d2e7983e7dd583208138baadb69f8">a</a>;
<a name="l00100"></a>00100 
<a name="l00101"></a><a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier_1_1CombinationGenerator.html#afa5f825c4ee8cd99ae73c116825cc0a1">00101</a>         <span class="keyword">private</span> <span class="keywordtype">int</span> <a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier_1_1CombinationGenerator.html#afa5f825c4ee8cd99ae73c116825cc0a1">n</a>;
<a name="l00102"></a>00102 
<a name="l00103"></a><a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier_1_1CombinationGenerator.html#af9c159cf3e77dbc7c0b6ba8b69ce61de">00103</a>         <span class="keyword">private</span> <span class="keywordtype">int</span> <a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier_1_1CombinationGenerator.html#af9c159cf3e77dbc7c0b6ba8b69ce61de">r</a>;
<a name="l00104"></a>00104 
<a name="l00105"></a><a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier_1_1CombinationGenerator.html#a32a531c2eec7a606a5ac127c97da9505">00105</a>         <span class="keyword">private</span> BigInteger <a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier_1_1CombinationGenerator.html#a32a531c2eec7a606a5ac127c97da9505">numLeft</a>;
<a name="l00106"></a>00106 
<a name="l00107"></a><a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier_1_1CombinationGenerator.html#ade675482c9a5d518e021f0163edaf037">00107</a>         <span class="keyword">private</span> BigInteger <a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier_1_1CombinationGenerator.html#ade675482c9a5d518e021f0163edaf037">total</a>;
<a name="l00108"></a>00108         <span class="comment">//------------</span>
<a name="l00109"></a>00109         <span class="comment">// Constructor</span>
<a name="l00110"></a>00110         <span class="comment">//------------</span>
<a name="l00111"></a>00111 
<a name="l00112"></a><a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier_1_1CombinationGenerator.html#afc98667d48bb932e1186e4229650fd7b">00112</a>         <span class="keyword">public</span> <a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier_1_1CombinationGenerator.html#afc98667d48bb932e1186e4229650fd7b">CombinationGenerator</a>(<span class="keywordtype">int</span> <a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier_1_1CombinationGenerator.html#afa5f825c4ee8cd99ae73c116825cc0a1">n</a>, <span class="keywordtype">int</span> <a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier_1_1CombinationGenerator.html#af9c159cf3e77dbc7c0b6ba8b69ce61de">r</a>) {
<a name="l00113"></a>00113             <span class="keywordflow">if</span> (r &gt; n) {
<a name="l00114"></a>00114                 <span class="keywordflow">throw</span> <span class="keyword">new</span> IllegalArgumentException();
<a name="l00115"></a>00115             }
<a name="l00116"></a>00116             <span class="keywordflow">if</span> (n &lt; 1) {
<a name="l00117"></a>00117                 <span class="keywordflow">throw</span> <span class="keyword">new</span> IllegalArgumentException();
<a name="l00118"></a>00118             }
<a name="l00119"></a>00119             this.n = n;
<a name="l00120"></a>00120             this.r = r;
<a name="l00121"></a>00121             <a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier_1_1CombinationGenerator.html#aec5d2e7983e7dd583208138baadb69f8">a</a> = <span class="keyword">new</span> <span class="keywordtype">int</span>[r];
<a name="l00122"></a>00122             BigInteger nFact = <a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier_1_1CombinationGenerator.html#afa85fe6bf50436fd6c6eeeddab0865ea">getFactorial</a>(n);
<a name="l00123"></a>00123             BigInteger rFact = <a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier_1_1CombinationGenerator.html#afa85fe6bf50436fd6c6eeeddab0865ea">getFactorial</a>(r);
<a name="l00124"></a>00124             BigInteger nminusrFact = <a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier_1_1CombinationGenerator.html#afa85fe6bf50436fd6c6eeeddab0865ea">getFactorial</a>(n - r);
<a name="l00125"></a>00125             <a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier_1_1CombinationGenerator.html#ade675482c9a5d518e021f0163edaf037">total</a> = nFact.divide(rFact.multiply(nminusrFact));
<a name="l00126"></a>00126             <a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier_1_1CombinationGenerator.html#accc746360aab55d1d8cb227cd9e6c9ea">reset</a>();
<a name="l00127"></a>00127         }
<a name="l00128"></a>00128         <span class="comment">//------</span>
<a name="l00129"></a>00129         <span class="comment">// Reset</span>
<a name="l00130"></a>00130         <span class="comment">//------</span>
<a name="l00131"></a>00131 
<a name="l00132"></a><a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier_1_1CombinationGenerator.html#accc746360aab55d1d8cb227cd9e6c9ea">00132</a>         <span class="keyword">public</span> <span class="keywordtype">void</span> <a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier_1_1CombinationGenerator.html#accc746360aab55d1d8cb227cd9e6c9ea">reset</a>() {
<a name="l00133"></a>00133             <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier_1_1CombinationGenerator.html#aec5d2e7983e7dd583208138baadb69f8">a</a>.length; i++) {
<a name="l00134"></a>00134                 <a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier_1_1CombinationGenerator.html#aec5d2e7983e7dd583208138baadb69f8">a</a>[i] = i;
<a name="l00135"></a>00135             }
<a name="l00136"></a>00136             <a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier_1_1CombinationGenerator.html#a32a531c2eec7a606a5ac127c97da9505">numLeft</a> = <span class="keyword">new</span> BigInteger(<a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier_1_1CombinationGenerator.html#ade675482c9a5d518e021f0163edaf037">total</a>.toString());
<a name="l00137"></a>00137         }
<a name="l00138"></a>00138         <span class="comment">//------------------------------------------------</span>
<a name="l00139"></a>00139         <span class="comment">// Return number of combinations not yet generated</span>
<a name="l00140"></a>00140         <span class="comment">//------------------------------------------------</span>
<a name="l00141"></a>00141 
<a name="l00142"></a><a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier_1_1CombinationGenerator.html#a9b3d3d6b232ba16b091bb541d8c70c76">00142</a>         <span class="keyword">public</span> BigInteger <a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier_1_1CombinationGenerator.html#a9b3d3d6b232ba16b091bb541d8c70c76">getNumLeft</a>() {
<a name="l00143"></a>00143             <span class="keywordflow">return</span> <a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier_1_1CombinationGenerator.html#a32a531c2eec7a606a5ac127c97da9505">numLeft</a>;
<a name="l00144"></a>00144         }
<a name="l00145"></a>00145         <span class="comment">//-----------------------------</span>
<a name="l00146"></a>00146         <span class="comment">// Are there more combinations?</span>
<a name="l00147"></a>00147         <span class="comment">//-----------------------------</span>
<a name="l00148"></a>00148 
<a name="l00149"></a><a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier_1_1CombinationGenerator.html#ad1ccf32cedf8437a03848fc3fb708357">00149</a>         <span class="keyword">public</span> <span class="keywordtype">boolean</span> <a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier_1_1CombinationGenerator.html#ad1ccf32cedf8437a03848fc3fb708357">hasMore</a>() {
<a name="l00150"></a>00150             <span class="keywordflow">return</span> <a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier_1_1CombinationGenerator.html#a32a531c2eec7a606a5ac127c97da9505">numLeft</a>.compareTo(BigInteger.ZERO) == 1;
<a name="l00151"></a>00151         }
<a name="l00152"></a>00152         <span class="comment">//------------------------------------</span>
<a name="l00153"></a>00153         <span class="comment">// Return total number of combinations</span>
<a name="l00154"></a>00154         <span class="comment">//------------------------------------</span>
<a name="l00155"></a>00155 
<a name="l00156"></a><a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier_1_1CombinationGenerator.html#a223b0ba7b426a287e484dba0bb33c166">00156</a>         <span class="keyword">public</span> BigInteger <a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier_1_1CombinationGenerator.html#a223b0ba7b426a287e484dba0bb33c166">getTotal</a>() {
<a name="l00157"></a>00157             <span class="keywordflow">return</span> <a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier_1_1CombinationGenerator.html#ade675482c9a5d518e021f0163edaf037">total</a>;
<a name="l00158"></a>00158         }
<a name="l00159"></a>00159         <span class="comment">//------------------</span>
<a name="l00160"></a>00160         <span class="comment">// Compute factorial</span>
<a name="l00161"></a>00161         <span class="comment">//------------------</span>
<a name="l00162"></a>00162 
<a name="l00163"></a><a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier_1_1CombinationGenerator.html#afa85fe6bf50436fd6c6eeeddab0865ea">00163</a>         <span class="keyword">private</span> BigInteger <a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier_1_1CombinationGenerator.html#afa85fe6bf50436fd6c6eeeddab0865ea">getFactorial</a>(<span class="keywordtype">int</span> <a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier_1_1CombinationGenerator.html#afa5f825c4ee8cd99ae73c116825cc0a1">n</a>) {
<a name="l00164"></a>00164             BigInteger fact = BigInteger.ONE;
<a name="l00165"></a>00165             <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = n; i &gt; 1; i--) {
<a name="l00166"></a>00166                 fact = fact.multiply(<span class="keyword">new</span> BigInteger(Integer.toString(i)));
<a name="l00167"></a>00167             }
<a name="l00168"></a>00168             <span class="keywordflow">return</span> fact;
<a name="l00169"></a>00169         }
<a name="l00170"></a>00170         <span class="comment">//--------------------------------------------------------</span>
<a name="l00171"></a>00171         <span class="comment">// Generate next combination (algorithm from Rosen p. 286)</span>
<a name="l00172"></a>00172         <span class="comment">//--------------------------------------------------------</span>
<a name="l00173"></a>00173 
<a name="l00174"></a><a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier_1_1CombinationGenerator.html#a9cccb67c737bf738dd513ae8cf11d3c6">00174</a>         <span class="keyword">public</span> <span class="keywordtype">int</span>[] <a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier_1_1CombinationGenerator.html#a9cccb67c737bf738dd513ae8cf11d3c6">getNext</a>() {
<a name="l00175"></a>00175             <span class="keywordflow">if</span> (<a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier_1_1CombinationGenerator.html#a32a531c2eec7a606a5ac127c97da9505">numLeft</a>.equals(<a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier_1_1CombinationGenerator.html#ade675482c9a5d518e021f0163edaf037">total</a>)) {
<a name="l00176"></a>00176                 <a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier_1_1CombinationGenerator.html#a32a531c2eec7a606a5ac127c97da9505">numLeft</a> = <a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier_1_1CombinationGenerator.html#a32a531c2eec7a606a5ac127c97da9505">numLeft</a>.subtract(BigInteger.ONE);
<a name="l00177"></a>00177                 <span class="keywordtype">int</span>[] b = <span class="keyword">new</span> <span class="keywordtype">int</span>[<a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier_1_1CombinationGenerator.html#aec5d2e7983e7dd583208138baadb69f8">a</a>.length];
<a name="l00178"></a>00178                 <span class="keywordflow">for</span> (<span class="keywordtype">int</span> k = 0; k &lt; <a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier_1_1CombinationGenerator.html#aec5d2e7983e7dd583208138baadb69f8">a</a>.length; k++) {
<a name="l00179"></a>00179                     b[k] = <a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier_1_1CombinationGenerator.html#aec5d2e7983e7dd583208138baadb69f8">a</a>[k];
<a name="l00180"></a>00180                 }
<a name="l00181"></a>00181                 <span class="keywordflow">return</span> b;
<a name="l00182"></a>00182             }
<a name="l00183"></a>00183             <span class="keywordtype">int</span> i = <a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier_1_1CombinationGenerator.html#af9c159cf3e77dbc7c0b6ba8b69ce61de">r</a> - 1;
<a name="l00184"></a>00184             <span class="keywordflow">while</span> (<a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier_1_1CombinationGenerator.html#aec5d2e7983e7dd583208138baadb69f8">a</a>[i] == <a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier_1_1CombinationGenerator.html#afa5f825c4ee8cd99ae73c116825cc0a1">n</a> - <a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier_1_1CombinationGenerator.html#af9c159cf3e77dbc7c0b6ba8b69ce61de">r</a> + i) {
<a name="l00185"></a>00185                 i--;
<a name="l00186"></a>00186             }
<a name="l00187"></a>00187             <a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier_1_1CombinationGenerator.html#aec5d2e7983e7dd583208138baadb69f8">a</a>[i] = <a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier_1_1CombinationGenerator.html#aec5d2e7983e7dd583208138baadb69f8">a</a>[i] + 1;
<a name="l00188"></a>00188             <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = i + 1; j &lt; <a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier_1_1CombinationGenerator.html#af9c159cf3e77dbc7c0b6ba8b69ce61de">r</a>; j++) {
<a name="l00189"></a>00189                 <a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier_1_1CombinationGenerator.html#aec5d2e7983e7dd583208138baadb69f8">a</a>[j] = <a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier_1_1CombinationGenerator.html#aec5d2e7983e7dd583208138baadb69f8">a</a>[i] + j - i;
<a name="l00190"></a>00190             }
<a name="l00191"></a>00191             <a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier_1_1CombinationGenerator.html#a32a531c2eec7a606a5ac127c97da9505">numLeft</a> = <a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier_1_1CombinationGenerator.html#a32a531c2eec7a606a5ac127c97da9505">numLeft</a>.subtract(BigInteger.ONE);
<a name="l00192"></a>00192             <span class="keywordtype">int</span>[] b = <span class="keyword">new</span> <span class="keywordtype">int</span>[<a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier_1_1CombinationGenerator.html#aec5d2e7983e7dd583208138baadb69f8">a</a>.length];
<a name="l00193"></a>00193             <span class="keywordflow">for</span> (<span class="keywordtype">int</span> k = 0; k &lt; <a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier_1_1CombinationGenerator.html#aec5d2e7983e7dd583208138baadb69f8">a</a>.length; k++) {
<a name="l00194"></a>00194                 b[k] = <a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier_1_1CombinationGenerator.html#aec5d2e7983e7dd583208138baadb69f8">a</a>[k];
<a name="l00195"></a>00195             }
<a name="l00196"></a>00196             <span class="keywordflow">return</span> b;
<a name="l00197"></a>00197         }
<a name="l00198"></a>00198     }
<a name="l00199"></a>00199 
<a name="l00200"></a><a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#ace34c5abe05e21c2631eb5d055273196">00200</a>     <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keywordtype">long</span> <a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#ace34c5abe05e21c2631eb5d055273196">serialVersionUID</a> = 1L;
<a name="l00201"></a>00201 
<a name="l00202"></a><a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#a7ca422d451abddefbf013d2030ff3a98">00202</a>     <span class="keyword">public</span> <a class="code" href="classmoa_1_1options_1_1ClassOption.html" title="Class option.">ClassOption</a> <a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#a7ca422d451abddefbf013d2030ff3a98">baseLearnerOption</a> = <span class="keyword">new</span> <a class="code" href="classmoa_1_1options_1_1ClassOption.html" title="Class option.">ClassOption</a>(<span class="stringliteral">&quot;baseLearner&quot;</span>, <span class="charliteral">&apos;l&apos;</span>,
<a name="l00203"></a>00203             <span class="stringliteral">&quot;Classifier to train.&quot;</span>, <a class="code" href="interfacemoa_1_1classifiers_1_1Classifier.html" title="Classifier interface for incremental classification models.">Classifier</a>.class, <span class="stringliteral">&quot;trees.LimAttHoeffdingTree&quot;</span>);
<a name="l00204"></a>00204 
<a name="l00205"></a><a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#acc654022599d509483ba9137f2e42ee1">00205</a>     <span class="keyword">public</span> <a class="code" href="classmoa_1_1options_1_1IntOption.html" title="Int option.">IntOption</a> <a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#acc654022599d509483ba9137f2e42ee1">numAttributesOption</a> = <span class="keyword">new</span> <a class="code" href="classmoa_1_1options_1_1IntOption.html" title="Int option.">IntOption</a>(<span class="stringliteral">&quot;numAttributes&quot;</span>, <span class="charliteral">&apos;n&apos;</span>,
<a name="l00206"></a>00206             <span class="stringliteral">&quot;The number of attributes to use per model.&quot;</span>, 1, 1, Integer.MAX_VALUE);
<a name="l00207"></a>00207 
<a name="l00208"></a><a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#a655610cfba735fbb8de78d180458ac27">00208</a>     <span class="keyword">public</span> <a class="code" href="classmoa_1_1options_1_1FloatOption.html" title="Float option.">FloatOption</a> <a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#a655610cfba735fbb8de78d180458ac27">weightShrinkOption</a> = <span class="keyword">new</span> <a class="code" href="classmoa_1_1options_1_1FloatOption.html" title="Float option.">FloatOption</a>(<span class="stringliteral">&quot;weightShrink&quot;</span>, <span class="charliteral">&apos;w&apos;</span>,
<a name="l00209"></a>00209             <span class="stringliteral">&quot;The number to multiply the weight misclassified counts.&quot;</span>, 0.5, 0.0, Float.MAX_VALUE);
<a name="l00210"></a>00210 
<a name="l00211"></a><a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#a198a4de1e7c494f6bde7c5812c561b9b">00211</a>     <span class="keyword">public</span> <a class="code" href="classmoa_1_1options_1_1FloatOption.html" title="Float option.">FloatOption</a> <a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#a198a4de1e7c494f6bde7c5812c561b9b">deltaAdwinOption</a> = <span class="keyword">new</span> <a class="code" href="classmoa_1_1options_1_1FloatOption.html" title="Float option.">FloatOption</a>(<span class="stringliteral">&quot;deltaAdwin&quot;</span>, <span class="charliteral">&apos;a&apos;</span>,
<a name="l00212"></a>00212             <span class="stringliteral">&quot;Delta of Adwin change detection&quot;</span>, 0.002, 0.0, 1.0);
<a name="l00213"></a>00213 
<a name="l00214"></a><a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#a4c2b9c04fe6d58564298c4cd9a7bf89f">00214</a>     <span class="keyword">public</span> <a class="code" href="classmoa_1_1options_1_1FloatOption.html" title="Float option.">FloatOption</a> <a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#a4c2b9c04fe6d58564298c4cd9a7bf89f">oddsOffsetOption</a> = <span class="keyword">new</span> <a class="code" href="classmoa_1_1options_1_1FloatOption.html" title="Float option.">FloatOption</a>(<span class="stringliteral">&quot;oddsOffset&quot;</span>, <span class="charliteral">&apos;o&apos;</span>,
<a name="l00215"></a>00215             <span class="stringliteral">&quot;Offset for odds to avoid probabilities that are zero.&quot;</span>, 0.001, 0.0, Float.MAX_VALUE);
<a name="l00216"></a>00216 
<a name="l00217"></a><a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#a8f24fe5c123a3b622c7f3a19cf4be519">00217</a>     <span class="keyword">public</span> <a class="code" href="classmoa_1_1options_1_1FlagOption.html" title="Flag option.">FlagOption</a> <a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#a8f24fe5c123a3b622c7f3a19cf4be519">pruneOption</a> = <span class="keyword">new</span> <a class="code" href="classmoa_1_1options_1_1FlagOption.html" title="Flag option.">FlagOption</a>(<span class="stringliteral">&quot;prune&quot;</span>, <span class="charliteral">&apos;x&apos;</span>,
<a name="l00218"></a>00218             <span class="stringliteral">&quot;Enable pruning.&quot;</span>);
<a name="l00219"></a>00219 
<a name="l00220"></a><a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#aec273946d0e60d6b7446b8e18005254c">00220</a>     <span class="keyword">public</span> <a class="code" href="classmoa_1_1options_1_1FlagOption.html" title="Flag option.">FlagOption</a> <a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#aec273946d0e60d6b7446b8e18005254c">bigTreesOption</a> = <span class="keyword">new</span> <a class="code" href="classmoa_1_1options_1_1FlagOption.html" title="Flag option.">FlagOption</a>(<span class="stringliteral">&quot;bigTrees&quot;</span>, <span class="charliteral">&apos;b&apos;</span>,
<a name="l00221"></a>00221             <span class="stringliteral">&quot;Use m-n attributes on the trees.&quot;</span>);
<a name="l00222"></a>00222 
<a name="l00223"></a><a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#aa7abd56d0f8ebd266db1234dc741504d">00223</a>     <span class="keyword">public</span> <a class="code" href="classmoa_1_1options_1_1IntOption.html" title="Int option.">IntOption</a> <a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#aa7abd56d0f8ebd266db1234dc741504d">numEnsemblePruningOption</a> = <span class="keyword">new</span> <a class="code" href="classmoa_1_1options_1_1IntOption.html" title="Int option.">IntOption</a>(<span class="stringliteral">&quot;numEnsemblePruning&quot;</span>, <span class="charliteral">&apos;m&apos;</span>,
<a name="l00224"></a>00224             <span class="stringliteral">&quot;The pruned number of classifiers to use to predict.&quot;</span>, 10, 1, Integer.MAX_VALUE);
<a name="l00225"></a>00225 
<a name="l00226"></a><a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#a0730b5191b30aee92c174f4939376af0">00226</a>     <span class="keyword">public</span> <a class="code" href="classmoa_1_1options_1_1FlagOption.html" title="Flag option.">FlagOption</a> <a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#a0730b5191b30aee92c174f4939376af0">adwinReplaceWorstClassifierOption</a> = <span class="keyword">new</span> <a class="code" href="classmoa_1_1options_1_1FlagOption.html" title="Flag option.">FlagOption</a>(<span class="stringliteral">&quot;adwinReplaceWorstClassifier&quot;</span>, <span class="charliteral">&apos;z&apos;</span>,
<a name="l00227"></a>00227             <span class="stringliteral">&quot;When one Adwin detects change, replace worst classifier.&quot;</span>);
<a name="l00228"></a>00228 
<a name="l00229"></a><a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#a7f1d39bc9157819c7eeff6ac6c5e4df3">00229</a>     <span class="keyword">protected</span> <a class="code" href="interfacemoa_1_1classifiers_1_1Classifier.html" title="Classifier interface for incremental classification models.">Classifier</a>[] <a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#a7f1d39bc9157819c7eeff6ac6c5e4df3">ensemble</a>;
<a name="l00230"></a>00230 
<a name="l00231"></a><a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#a789de252f437b0ecb2b94ad92762ff87">00231</a>     <span class="keyword">protected</span> <a class="code" href="classmoa_1_1classifiers_1_1core_1_1driftdetection_1_1ADWIN.html" title="ADaptive sliding WINdow method.">ADWIN</a>[] <a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#a789de252f437b0ecb2b94ad92762ff87">ADError</a>;
<a name="l00232"></a>00232 
<a name="l00233"></a><a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#a17787ad7af473cd36619e42f433ca4bf">00233</a>     <span class="keyword">protected</span> <span class="keywordtype">int</span> <a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#a17787ad7af473cd36619e42f433ca4bf">numberOfChangesDetected</a>;
<a name="l00234"></a>00234 
<a name="l00235"></a><a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#a3475dd67a0700a4817fd5a59d201c912">00235</a>     <span class="keyword">protected</span> <span class="keywordtype">int</span>[][] <a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#a3475dd67a0700a4817fd5a59d201c912">matrixCodes</a>;
<a name="l00236"></a>00236 
<a name="l00237"></a><a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#a3d2b150838ae86d281ed0194c27c0359">00237</a>     <span class="keyword">protected</span> <span class="keywordtype">boolean</span> <a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#a3d2b150838ae86d281ed0194c27c0359">initMatrixCodes</a> = <span class="keyword">false</span>;
<a name="l00238"></a>00238 
<a name="l00239"></a><a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#aa6046c87eccb93075b5c8d5bafe05329">00239</a>     <span class="keyword">protected</span> <span class="keywordtype">boolean</span> <a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#aa6046c87eccb93075b5c8d5bafe05329">initClassifiers</a> = <span class="keyword">false</span>;
<a name="l00240"></a>00240 
<a name="l00241"></a><a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#a869e939613fbbe5b1913f14a6929e96f">00241</a>     <span class="keyword">protected</span> <span class="keywordtype">int</span> <a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#a869e939613fbbe5b1913f14a6929e96f">numberAttributes</a> = 1;
<a name="l00242"></a>00242 
<a name="l00243"></a><a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#a313a2952c6a47e640167ca7ca399e783">00243</a>     <span class="keyword">protected</span> <span class="keywordtype">int</span> <a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#a313a2952c6a47e640167ca7ca399e783">numInstances</a> = 0;
<a name="l00244"></a>00244 
<a name="l00245"></a>00245     @Override
<a name="l00246"></a><a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#a6f5cc62582b10d3d26f1fad2d1deac94">00246</a>     <span class="keyword">public</span> <span class="keywordtype">void</span> <a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#a6f5cc62582b10d3d26f1fad2d1deac94" title="Resets this classifier.">resetLearningImpl</a>() {
<a name="l00247"></a>00247         this.<a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#aa6046c87eccb93075b5c8d5bafe05329">initClassifiers</a> = <span class="keyword">true</span>;
<a name="l00248"></a>00248         this.<a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#afce580b9c50411835e2137342782a827">reset</a> = <span class="keyword">true</span>;
<a name="l00249"></a>00249     }
<a name="l00250"></a>00250 
<a name="l00251"></a>00251     @Override
<a name="l00252"></a><a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#adddac1d661b7c5ab04d4b15b92f0e2dc">00252</a>     <span class="keyword">public</span> <span class="keywordtype">void</span> <a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#adddac1d661b7c5ab04d4b15b92f0e2dc" title="Trains this classifier incrementally using the given instance.">trainOnInstanceImpl</a>(Instance inst) {
<a name="l00253"></a>00253         <span class="keywordtype">int</span> numClasses = inst.numClasses();
<a name="l00254"></a>00254         <span class="comment">//Init Ensemble</span>
<a name="l00255"></a>00255         <span class="keywordflow">if</span> (this.<a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#aa6046c87eccb93075b5c8d5bafe05329">initClassifiers</a> == <span class="keyword">true</span>) {
<a name="l00256"></a>00256             <a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#a869e939613fbbe5b1913f14a6929e96f">numberAttributes</a> = <a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#acc654022599d509483ba9137f2e42ee1">numAttributesOption</a>.<a class="code" href="classmoa_1_1options_1_1IntOption.html#affae8787274b44ab7616d46b8d6c831a">getValue</a>();
<a name="l00257"></a>00257             <span class="keywordflow">if</span> (<a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#aec273946d0e60d6b7446b8e18005254c">bigTreesOption</a>.<a class="code" href="classmoa_1_1options_1_1FlagOption.html#ab37cb6ed4d9a2e393b460594f075b0a2">isSet</a>()) {
<a name="l00258"></a>00258                 <a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#a869e939613fbbe5b1913f14a6929e96f">numberAttributes</a> = inst.numAttributes() - 1 - <a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#acc654022599d509483ba9137f2e42ee1">numAttributesOption</a>.<a class="code" href="classmoa_1_1options_1_1IntOption.html#affae8787274b44ab7616d46b8d6c831a">getValue</a>();
<a name="l00259"></a>00259             }
<a name="l00260"></a>00260             <a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier_1_1CombinationGenerator.html">CombinationGenerator</a> x = <span class="keyword">new</span> <a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier_1_1CombinationGenerator.html">CombinationGenerator</a>(inst.numAttributes() - 1, this.<a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#a869e939613fbbe5b1913f14a6929e96f">numberAttributes</a>);
<a name="l00261"></a>00261             <span class="keywordtype">int</span> numberClassifiers = x.<a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier_1_1CombinationGenerator.html#a223b0ba7b426a287e484dba0bb33c166">getTotal</a>().intValue();
<a name="l00262"></a>00262             this.<a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#a7f1d39bc9157819c7eeff6ac6c5e4df3">ensemble</a> = <span class="keyword">new</span> <a class="code" href="interfacemoa_1_1classifiers_1_1Classifier.html" title="Classifier interface for incremental classification models.">Classifier</a>[numberClassifiers];
<a name="l00263"></a>00263             <a class="code" href="interfacemoa_1_1classifiers_1_1Classifier.html" title="Classifier interface for incremental classification models.">Classifier</a> baseLearner = (<a class="code" href="interfacemoa_1_1classifiers_1_1Classifier.html" title="Classifier interface for incremental classification models.">Classifier</a>) <a class="code" href="classmoa_1_1options_1_1AbstractOptionHandler.html#a2d5e872c7c6a32487013ba914c6d3fcc" title="Gets a prepared option of this class.">getPreparedClassOption</a>(this.<a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#a7ca422d451abddefbf013d2030ff3a98">baseLearnerOption</a>);
<a name="l00264"></a>00264             baseLearner.<a class="code" href="interfacemoa_1_1classifiers_1_1Classifier.html#a0cb1a2820196bc5e2a95b05a0b6666f0" title="Resets this classifier.">resetLearning</a>();
<a name="l00265"></a>00265             <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; this.<a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#a7f1d39bc9157819c7eeff6ac6c5e4df3">ensemble</a>.length; i++) {
<a name="l00266"></a>00266                 this.<a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#a7f1d39bc9157819c7eeff6ac6c5e4df3">ensemble</a>[i] = baseLearner.<a class="code" href="interfacemoa_1_1classifiers_1_1Classifier.html#af50dcec23ecb34c1bd141d0d389bdb59" title="Produces a copy of this classifier.">copy</a>();
<a name="l00267"></a>00267             }
<a name="l00268"></a>00268             this.<a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#a789de252f437b0ecb2b94ad92762ff87">ADError</a> = <span class="keyword">new</span> <a class="code" href="classmoa_1_1classifiers_1_1core_1_1driftdetection_1_1ADWIN.html" title="ADaptive sliding WINdow method.">ADWIN</a>[this.<a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#a7f1d39bc9157819c7eeff6ac6c5e4df3">ensemble</a>.length];
<a name="l00269"></a>00269             <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; this.<a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#a7f1d39bc9157819c7eeff6ac6c5e4df3">ensemble</a>.length; i++) {
<a name="l00270"></a>00270                 this.<a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#a789de252f437b0ecb2b94ad92762ff87">ADError</a>[i] = <span class="keyword">new</span> <a class="code" href="classmoa_1_1classifiers_1_1core_1_1driftdetection_1_1ADWIN.html" title="ADaptive sliding WINdow method.">ADWIN</a>((<span class="keywordtype">double</span>) this.<a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#a198a4de1e7c494f6bde7c5812c561b9b">deltaAdwinOption</a>.<a class="code" href="classmoa_1_1options_1_1FloatOption.html#a0e606a62f4ece232aa8f8cb04bb7f1cf">getValue</a>());
<a name="l00271"></a>00271             }
<a name="l00272"></a>00272             this.<a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#a17787ad7af473cd36619e42f433ca4bf">numberOfChangesDetected</a> = 0;
<a name="l00273"></a>00273             <span class="comment">//Prepare combinations</span>
<a name="l00274"></a>00274             <span class="keywordtype">int</span> i = 0;
<a name="l00275"></a>00275             <span class="keywordflow">if</span> (baseLearner instanceof <a class="code" href="classmoa_1_1classifiers_1_1trees_1_1LimAttHoeffdingTree.html" title="Hoeffding decision trees with a restricted number of attributes for data streams...">LimAttHoeffdingTree</a>) {
<a name="l00276"></a>00276                 <span class="keywordflow">while</span> (x.<a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier_1_1CombinationGenerator.html#ad1ccf32cedf8437a03848fc3fb708357">hasMore</a>()) {
<a name="l00277"></a>00277                     ((LimAttHoeffdingTree) this.<a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#a7f1d39bc9157819c7eeff6ac6c5e4df3">ensemble</a>[i]).setlistAttributes(x.<a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier_1_1CombinationGenerator.html#a9cccb67c737bf738dd513ae8cf11d3c6">getNext</a>());
<a name="l00278"></a>00278                     i++;
<a name="l00279"></a>00279                 }
<a name="l00280"></a>00280             }
<a name="l00281"></a>00281 
<a name="l00282"></a>00282             this.<a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#aa6046c87eccb93075b5c8d5bafe05329">initClassifiers</a> = <span class="keyword">false</span>;
<a name="l00283"></a>00283         }
<a name="l00284"></a>00284 
<a name="l00285"></a>00285         <span class="keywordtype">boolean</span> Change = <span class="keyword">false</span>;
<a name="l00286"></a>00286         Instance weightedInst = (Instance) inst.copy();
<a name="l00287"></a>00287 
<a name="l00288"></a>00288         <span class="comment">//Train Perceptron</span>
<a name="l00289"></a>00289         <span class="keywordtype">double</span>[][] votes = <span class="keyword">new</span> <span class="keywordtype">double</span>[this.<a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#a7f1d39bc9157819c7eeff6ac6c5e4df3">ensemble</a>.length + 1][numClasses];
<a name="l00290"></a>00290         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; this.<a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#a7f1d39bc9157819c7eeff6ac6c5e4df3">ensemble</a>.length; i++) {
<a name="l00291"></a>00291             <span class="keywordtype">double</span>[] v = <span class="keyword">new</span> <span class="keywordtype">double</span>[numClasses];
<a name="l00292"></a>00292             <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; v.length; j++) {
<a name="l00293"></a>00293                 v[j] = (double) this.<a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#a4c2b9c04fe6d58564298c4cd9a7bf89f">oddsOffsetOption</a>.<a class="code" href="classmoa_1_1options_1_1FloatOption.html#a0e606a62f4ece232aa8f8cb04bb7f1cf">getValue</a>();
<a name="l00294"></a>00294             }
<a name="l00295"></a>00295             <span class="keywordtype">double</span>[] vt = this.<a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#a7f1d39bc9157819c7eeff6ac6c5e4df3">ensemble</a>[i].<a class="code" href="interfacemoa_1_1classifiers_1_1Classifier.html#a0933ed1199c2b16a8eb8186dabf9a8f9" title="Predicts the class memberships for a given instance.">getVotesForInstance</a>(inst);
<a name="l00296"></a>00296             <span class="keywordtype">double</span> sum = Utils.sum(vt);
<a name="l00297"></a>00297             <span class="keywordflow">if</span> (!Double.isNaN(sum) &amp;&amp; (sum &gt; 0)) {
<a name="l00298"></a>00298                 <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; vt.length; j++) {
<a name="l00299"></a>00299                     vt[j] /= sum;
<a name="l00300"></a>00300                 }
<a name="l00301"></a>00301             } <span class="keywordflow">else</span> {
<a name="l00302"></a>00302                 <span class="comment">// Just in case the base learner returns NaN</span>
<a name="l00303"></a>00303                 <span class="keywordflow">for</span> (<span class="keywordtype">int</span> k = 0; k &lt; vt.length; k++) {
<a name="l00304"></a>00304                     vt[k] = 0.0;
<a name="l00305"></a>00305                 }
<a name="l00306"></a>00306             }
<a name="l00307"></a>00307             sum = numClasses * (double) this.<a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#a4c2b9c04fe6d58564298c4cd9a7bf89f">oddsOffsetOption</a>.<a class="code" href="classmoa_1_1options_1_1FloatOption.html#a0e606a62f4ece232aa8f8cb04bb7f1cf">getValue</a>();
<a name="l00308"></a>00308             <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; vt.length; j++) {
<a name="l00309"></a>00309                 v[j] += vt[j];
<a name="l00310"></a>00310                 sum += vt[j];
<a name="l00311"></a>00311             }
<a name="l00312"></a>00312             <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; vt.length; j++) {
<a name="l00313"></a>00313                 votes[i][j] = Math.log(v[j] / (sum - v[j]));
<a name="l00314"></a>00314             }
<a name="l00315"></a>00315         }
<a name="l00316"></a>00316 
<a name="l00317"></a>00317         <span class="keywordflow">if</span> (<a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#a0730b5191b30aee92c174f4939376af0">adwinReplaceWorstClassifierOption</a>.<a class="code" href="classmoa_1_1options_1_1FlagOption.html#ab37cb6ed4d9a2e393b460594f075b0a2">isSet</a>() == <span class="keyword">false</span>) {
<a name="l00318"></a>00318             <span class="comment">//Train ensemble of classifiers</span>
<a name="l00319"></a>00319             <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; this.<a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#a7f1d39bc9157819c7eeff6ac6c5e4df3">ensemble</a>.length; i++) {
<a name="l00320"></a>00320                 <span class="keywordtype">boolean</span> <a class="code" href="classmoa_1_1classifiers_1_1AbstractClassifier.html#a0a5d3c3df5b27390f6830fed829540ea" title="Gets whether this classifier correctly classifies an instance.">correctlyClassifies</a> = this.<a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#a7f1d39bc9157819c7eeff6ac6c5e4df3">ensemble</a>[i].<a class="code" href="interfacemoa_1_1classifiers_1_1Classifier.html#a8348b4106e79422d3dec0a1857d402f3" title="Gets whether this classifier correctly classifies an instance.">correctlyClassifies</a>(weightedInst);
<a name="l00321"></a>00321                 <span class="keywordtype">double</span> ErrEstim = this.<a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#a789de252f437b0ecb2b94ad92762ff87">ADError</a>[i].<a class="code" href="classmoa_1_1classifiers_1_1core_1_1driftdetection_1_1ADWIN.html#a120e390a4505f5e4590935d1a7bee322">getEstimation</a>();
<a name="l00322"></a>00322                 <span class="keywordflow">if</span> (this.<a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#a789de252f437b0ecb2b94ad92762ff87">ADError</a>[i].setInput(correctlyClassifies ? 0 : 1)) {
<a name="l00323"></a>00323                     <a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#a313a2952c6a47e640167ca7ca399e783">numInstances</a> = <a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#a372d4ba5d48b18862e85569c250d74df">initialNumInstancesOption</a>.<a class="code" href="classmoa_1_1options_1_1IntOption.html#affae8787274b44ab7616d46b8d6c831a">getValue</a>();
<a name="l00324"></a>00324                     <span class="keywordflow">if</span> (this.<a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#a789de252f437b0ecb2b94ad92762ff87">ADError</a>[i].getEstimation() &gt; ErrEstim) {
<a name="l00325"></a>00325                         Change = <span class="keyword">true</span>;
<a name="l00326"></a>00326                         <span class="comment">//Replace classifier if ADWIN has detected change</span>
<a name="l00327"></a>00327                         <a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#a17787ad7af473cd36619e42f433ca4bf">numberOfChangesDetected</a>++;
<a name="l00328"></a>00328                         this.<a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#a7f1d39bc9157819c7eeff6ac6c5e4df3">ensemble</a>[i].<a class="code" href="interfacemoa_1_1classifiers_1_1Classifier.html#a0cb1a2820196bc5e2a95b05a0b6666f0" title="Resets this classifier.">resetLearning</a>();
<a name="l00329"></a>00329                         this.<a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#a789de252f437b0ecb2b94ad92762ff87">ADError</a>[i] = <span class="keyword">new</span> <a class="code" href="classmoa_1_1classifiers_1_1core_1_1driftdetection_1_1ADWIN.html" title="ADaptive sliding WINdow method.">ADWIN</a>((<span class="keywordtype">double</span>) this.<a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#a198a4de1e7c494f6bde7c5812c561b9b">deltaAdwinOption</a>.<a class="code" href="classmoa_1_1options_1_1FloatOption.html#a0e606a62f4ece232aa8f8cb04bb7f1cf">getValue</a>());
<a name="l00330"></a>00330                         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ii = 0; ii &lt; inst.numClasses(); ii++) {
<a name="l00331"></a>00331                             <a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#adbac5086d045c02be6990948e3c7b1e3">weightAttribute</a>[ii][i] = 0.0;<span class="comment">// 0.2 * Math.random() - 0.1;</span>
<a name="l00332"></a>00332                         }
<a name="l00333"></a>00333                     }
<a name="l00334"></a>00334                 }
<a name="l00335"></a>00335             }
<a name="l00336"></a>00336         } <span class="keywordflow">else</span> {
<a name="l00337"></a>00337             <span class="comment">//Train ensemble of classifiers</span>
<a name="l00338"></a>00338             <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; this.<a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#a7f1d39bc9157819c7eeff6ac6c5e4df3">ensemble</a>.length; i++) {
<a name="l00339"></a>00339                 <span class="keywordtype">boolean</span> <a class="code" href="classmoa_1_1classifiers_1_1AbstractClassifier.html#a0a5d3c3df5b27390f6830fed829540ea" title="Gets whether this classifier correctly classifies an instance.">correctlyClassifies</a> = this.<a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#a7f1d39bc9157819c7eeff6ac6c5e4df3">ensemble</a>[i].<a class="code" href="interfacemoa_1_1classifiers_1_1Classifier.html#a8348b4106e79422d3dec0a1857d402f3" title="Gets whether this classifier correctly classifies an instance.">correctlyClassifies</a>(weightedInst);
<a name="l00340"></a>00340                 <span class="keywordtype">double</span> ErrEstim = this.<a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#a789de252f437b0ecb2b94ad92762ff87">ADError</a>[i].<a class="code" href="classmoa_1_1classifiers_1_1core_1_1driftdetection_1_1ADWIN.html#a120e390a4505f5e4590935d1a7bee322">getEstimation</a>();
<a name="l00341"></a>00341                 <span class="keywordflow">if</span> (this.<a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#a789de252f437b0ecb2b94ad92762ff87">ADError</a>[i].setInput(correctlyClassifies ? 0 : 1)) {
<a name="l00342"></a>00342                     <span class="keywordflow">if</span> (this.<a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#a789de252f437b0ecb2b94ad92762ff87">ADError</a>[i].getEstimation() &gt; ErrEstim) {
<a name="l00343"></a>00343                         Change = <span class="keyword">true</span>;
<a name="l00344"></a>00344                     }
<a name="l00345"></a>00345                 }
<a name="l00346"></a>00346             }
<a name="l00347"></a>00347             <span class="comment">//Replace classifier with higher error if ADWIN has detected change</span>
<a name="l00348"></a>00348             <span class="keywordflow">if</span> (Change) {
<a name="l00349"></a>00349                 <a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#a17787ad7af473cd36619e42f433ca4bf">numberOfChangesDetected</a>++;
<a name="l00350"></a>00350                 <span class="keywordtype">double</span> max = 0.0;
<a name="l00351"></a>00351                 <span class="keywordtype">int</span> imax = -1;
<a name="l00352"></a>00352                 <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; this.<a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#a7f1d39bc9157819c7eeff6ac6c5e4df3">ensemble</a>.length; i++) {
<a name="l00353"></a>00353                     <span class="keywordflow">if</span> (max &lt; this.<a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#a789de252f437b0ecb2b94ad92762ff87">ADError</a>[i].getEstimation()) {
<a name="l00354"></a>00354                         max = this.<a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#a789de252f437b0ecb2b94ad92762ff87">ADError</a>[i].<a class="code" href="classmoa_1_1classifiers_1_1core_1_1driftdetection_1_1ADWIN.html#a120e390a4505f5e4590935d1a7bee322">getEstimation</a>();
<a name="l00355"></a>00355                         imax = i;
<a name="l00356"></a>00356                     }
<a name="l00357"></a>00357                 }
<a name="l00358"></a>00358                 <span class="keywordflow">if</span> (imax != -1) {
<a name="l00359"></a>00359                     this.<a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#a7f1d39bc9157819c7eeff6ac6c5e4df3">ensemble</a>[imax].<a class="code" href="interfacemoa_1_1classifiers_1_1Classifier.html#a0cb1a2820196bc5e2a95b05a0b6666f0" title="Resets this classifier.">resetLearning</a>();
<a name="l00360"></a>00360                     this.<a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#a789de252f437b0ecb2b94ad92762ff87">ADError</a>[imax] = <span class="keyword">new</span> <a class="code" href="classmoa_1_1classifiers_1_1core_1_1driftdetection_1_1ADWIN.html" title="ADaptive sliding WINdow method.">ADWIN</a>((<span class="keywordtype">double</span>) this.<a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#a198a4de1e7c494f6bde7c5812c561b9b">deltaAdwinOption</a>.<a class="code" href="classmoa_1_1options_1_1FloatOption.html#a0e606a62f4ece232aa8f8cb04bb7f1cf">getValue</a>());
<a name="l00361"></a>00361                     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ii = 0; ii &lt; inst.numClasses(); ii++) {
<a name="l00362"></a>00362                         <a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#adbac5086d045c02be6990948e3c7b1e3">weightAttribute</a>[ii][imax] = 0.0;
<a name="l00363"></a>00363                     }
<a name="l00364"></a>00364                 }
<a name="l00365"></a>00365             }
<a name="l00366"></a>00366         }
<a name="l00367"></a>00367 
<a name="l00368"></a>00368         <a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#aed3caa25bc03466d8b5f88117221ee96">trainOnInstanceImplPerceptron</a>(inst.numClasses(), (int) inst.classValue(), votes);
<a name="l00369"></a>00369 
<a name="l00370"></a>00370         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; this.<a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#a7f1d39bc9157819c7eeff6ac6c5e4df3">ensemble</a>.length; i++) {
<a name="l00371"></a>00371             this.<a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#a7f1d39bc9157819c7eeff6ac6c5e4df3">ensemble</a>[i].<a class="code" href="interfacemoa_1_1classifiers_1_1Classifier.html#ac28018bc307abe34a8ace54dba3ebff1" title="Trains this classifier incrementally using the given instance.">trainOnInstance</a>(inst);
<a name="l00372"></a>00372         }
<a name="l00373"></a>00373     }
<a name="l00374"></a>00374 
<a name="l00375"></a>00375     @Override
<a name="l00376"></a><a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#a57ddfd01e4a874072b89ad1aa2fd05ae">00376</a>     <span class="keyword">public</span> <span class="keywordtype">double</span>[] <a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#a57ddfd01e4a874072b89ad1aa2fd05ae" title="Predicts the class memberships for a given instance.">getVotesForInstance</a>(Instance inst) {
<a name="l00377"></a>00377         <span class="keywordflow">if</span> (this.<a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#aa6046c87eccb93075b5c8d5bafe05329">initClassifiers</a> == <span class="keyword">true</span>) {
<a name="l00378"></a>00378             <span class="keywordflow">return</span> <span class="keyword">new</span> <span class="keywordtype">double</span>[0];
<a name="l00379"></a>00379         }
<a name="l00380"></a>00380         <span class="keywordtype">int</span> numClasses = inst.numClasses();
<a name="l00381"></a>00381 
<a name="l00382"></a>00382         <span class="keywordtype">int</span> sizeEnsemble = this.<a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#a7f1d39bc9157819c7eeff6ac6c5e4df3">ensemble</a>.length;
<a name="l00383"></a>00383         <span class="keywordflow">if</span> (<a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#a8f24fe5c123a3b622c7f3a19cf4be519">pruneOption</a>.<a class="code" href="classmoa_1_1options_1_1FlagOption.html#ab37cb6ed4d9a2e393b460594f075b0a2">isSet</a>()) {
<a name="l00384"></a>00384             sizeEnsemble = this.<a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#aa7abd56d0f8ebd266db1234dc741504d">numEnsemblePruningOption</a>.<a class="code" href="classmoa_1_1options_1_1IntOption.html#affae8787274b44ab7616d46b8d6c831a">getValue</a>();
<a name="l00385"></a>00385         }
<a name="l00386"></a>00386 
<a name="l00387"></a>00387         <span class="keywordtype">double</span>[][] votes = <span class="keyword">new</span> <span class="keywordtype">double</span>[sizeEnsemble + 1][numClasses];
<a name="l00388"></a>00388         <span class="keywordtype">int</span>[] bestClassifiers = <span class="keyword">new</span> <span class="keywordtype">int</span>[sizeEnsemble];
<a name="l00389"></a>00389         <span class="keywordflow">if</span> (<a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#a8f24fe5c123a3b622c7f3a19cf4be519">pruneOption</a>.<a class="code" href="classmoa_1_1options_1_1FlagOption.html#ab37cb6ed4d9a2e393b460594f075b0a2">isSet</a>()) {
<a name="l00390"></a>00390             <span class="comment">//Check for the best classifiers</span>
<a name="l00391"></a>00391             <span class="keywordtype">double</span>[] weight = <span class="keyword">new</span> <span class="keywordtype">double</span>[this.<a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#a7f1d39bc9157819c7eeff6ac6c5e4df3">ensemble</a>.length];
<a name="l00392"></a>00392             <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; numClasses; i++) {
<a name="l00393"></a>00393                 <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; this.<a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#a7f1d39bc9157819c7eeff6ac6c5e4df3">ensemble</a>.length; j++) {
<a name="l00394"></a>00394                     weight[j] += <a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#adbac5086d045c02be6990948e3c7b1e3">weightAttribute</a>[i][j];
<a name="l00395"></a>00395                 }
<a name="l00396"></a>00396             }
<a name="l00397"></a>00397             Arrays.sort(weight);
<a name="l00398"></a>00398             <span class="keywordtype">double</span> cutValue = weight[this.<a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#a7f1d39bc9157819c7eeff6ac6c5e4df3">ensemble</a>.length - sizeEnsemble]; <span class="comment">//reverse order</span>
<a name="l00399"></a>00399             <span class="keywordtype">int</span> ii = 0;
<a name="l00400"></a>00400             <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; this.<a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#a7f1d39bc9157819c7eeff6ac6c5e4df3">ensemble</a>.length; j++) {
<a name="l00401"></a>00401                 <span class="keywordflow">if</span> (weight[j] &gt;= cutValue &amp;&amp; ii &lt; sizeEnsemble) {
<a name="l00402"></a>00402                     bestClassifiers[ii] = j;
<a name="l00403"></a>00403                     ii++;
<a name="l00404"></a>00404                 }
<a name="l00405"></a>00405             }
<a name="l00406"></a>00406         } <span class="keywordflow">else</span> { <span class="comment">//Not pruning: all classifiers</span>
<a name="l00407"></a>00407             <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ii = 0; ii &lt; sizeEnsemble; ii++) {
<a name="l00408"></a>00408                 bestClassifiers[ii] = ii;
<a name="l00409"></a>00409             }
<a name="l00410"></a>00410         }
<a name="l00411"></a>00411         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ii = 0; ii &lt; sizeEnsemble; ii++) {
<a name="l00412"></a>00412             <span class="keywordtype">int</span> i = bestClassifiers[ii];
<a name="l00413"></a>00413             <span class="keywordtype">double</span>[] v = <span class="keyword">new</span> <span class="keywordtype">double</span>[numClasses];
<a name="l00414"></a>00414             <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; v.length; j++) {
<a name="l00415"></a>00415                 v[j] = (double) this.<a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#a4c2b9c04fe6d58564298c4cd9a7bf89f">oddsOffsetOption</a>.<a class="code" href="classmoa_1_1options_1_1FloatOption.html#a0e606a62f4ece232aa8f8cb04bb7f1cf">getValue</a>();
<a name="l00416"></a>00416             }
<a name="l00417"></a>00417             <span class="keywordtype">double</span>[] vt = this.<a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#a7f1d39bc9157819c7eeff6ac6c5e4df3">ensemble</a>[i].<a class="code" href="interfacemoa_1_1classifiers_1_1Classifier.html#a0933ed1199c2b16a8eb8186dabf9a8f9" title="Predicts the class memberships for a given instance.">getVotesForInstance</a>(inst);
<a name="l00418"></a>00418             <span class="keywordtype">double</span> sum = Utils.sum(vt);
<a name="l00419"></a>00419             <span class="keywordflow">if</span> (!Double.isNaN(sum) &amp;&amp; (sum &gt; 0)) {
<a name="l00420"></a>00420                 <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; vt.length; j++) {
<a name="l00421"></a>00421                     vt[j] /= sum;
<a name="l00422"></a>00422                 }
<a name="l00423"></a>00423             } <span class="keywordflow">else</span> {
<a name="l00424"></a>00424                 <span class="comment">// Just in case the base learner returns NaN</span>
<a name="l00425"></a>00425                 <span class="keywordflow">for</span> (<span class="keywordtype">int</span> k = 0; k &lt; vt.length; k++) {
<a name="l00426"></a>00426                     vt[k] = 0.0;
<a name="l00427"></a>00427                 }
<a name="l00428"></a>00428             }
<a name="l00429"></a>00429             sum = numClasses * (double) this.<a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#a4c2b9c04fe6d58564298c4cd9a7bf89f">oddsOffsetOption</a>.<a class="code" href="classmoa_1_1options_1_1FloatOption.html#a0e606a62f4ece232aa8f8cb04bb7f1cf">getValue</a>();
<a name="l00430"></a>00430             <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; vt.length; j++) {
<a name="l00431"></a>00431                 v[j] += vt[j];
<a name="l00432"></a>00432                 sum += vt[j];
<a name="l00433"></a>00433             }
<a name="l00434"></a>00434             <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; vt.length; j++) {
<a name="l00435"></a>00435                 votes[ii][j] = Math.log(v[j] / (sum - v[j]));
<a name="l00436"></a>00436                 <span class="comment">//                    votes[i][j] = vt[j];</span>
<a name="l00437"></a>00437             }
<a name="l00438"></a>00438         }
<a name="l00439"></a>00439         <span class="keywordflow">return</span> <a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#a06963696d002ed171ebf2839f5f42bf6">getVotesForInstancePerceptron</a>(votes, bestClassifiers, inst.numClasses());
<a name="l00440"></a>00440     }
<a name="l00441"></a>00441 
<a name="l00442"></a>00442     @Override
<a name="l00443"></a><a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#a05c738b16e4aeb901ef0ba41d6dec707">00443</a>     <span class="keyword">public</span> <span class="keywordtype">boolean</span> <a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#a05c738b16e4aeb901ef0ba41d6dec707" title="Gets whether this classifier needs a random seed.">isRandomizable</a>() {
<a name="l00444"></a>00444         <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00445"></a>00445     }
<a name="l00446"></a>00446 
<a name="l00447"></a>00447     @Override
<a name="l00448"></a><a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#a427f97c70bed7204c49abc6f0b288c9e">00448</a>     <span class="keyword">public</span> <span class="keywordtype">void</span> <a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#a427f97c70bed7204c49abc6f0b288c9e" title="Returns a string representation of the model.">getModelDescription</a>(StringBuilder out, <span class="keywordtype">int</span> indent) {
<a name="l00449"></a>00449         <span class="comment">// TODO Auto-generated method stub</span>
<a name="l00450"></a>00450     }
<a name="l00451"></a>00451 
<a name="l00452"></a>00452     @Override
<a name="l00453"></a><a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#a7564bf8de08ac898d3974fed99442304">00453</a>     <span class="keyword">protected</span> <a class="code" href="classmoa_1_1core_1_1Measurement.html" title="Class for storing an evaluation measurement.">Measurement</a>[] <a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#a7564bf8de08ac898d3974fed99442304" title="Gets the current measurements of this classifier.">getModelMeasurementsImpl</a>() {
<a name="l00454"></a>00454         <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="classmoa_1_1core_1_1Measurement.html" title="Class for storing an evaluation measurement.">Measurement</a>[]{<span class="keyword">new</span> <a class="code" href="classmoa_1_1core_1_1Measurement.html" title="Class for storing an evaluation measurement.">Measurement</a>(<span class="stringliteral">&quot;ensemble size&quot;</span>,
<a name="l00455"></a>00455                     this.<a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#a7f1d39bc9157819c7eeff6ac6c5e4df3">ensemble</a> != null ? this.<a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#a7f1d39bc9157819c7eeff6ac6c5e4df3">ensemble</a>.length : 0),
<a name="l00456"></a>00456                     <span class="keyword">new</span> <a class="code" href="classmoa_1_1core_1_1Measurement.html" title="Class for storing an evaluation measurement.">Measurement</a>(<span class="stringliteral">&quot;change detections&quot;</span>, this.<a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#a17787ad7af473cd36619e42f433ca4bf">numberOfChangesDetected</a>)
<a name="l00457"></a>00457                 };
<a name="l00458"></a>00458     }
<a name="l00459"></a>00459 
<a name="l00460"></a>00460     @Override
<a name="l00461"></a><a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#a2e68d689a15e902bc65aabb06cb0ee16">00461</a>     <span class="keyword">public</span> <a class="code" href="interfacemoa_1_1classifiers_1_1Classifier.html" title="Classifier interface for incremental classification models.">Classifier</a>[] <a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#a2e68d689a15e902bc65aabb06cb0ee16" title="Gets the classifiers of this ensemble.">getSubClassifiers</a>() {
<a name="l00462"></a>00462         <span class="keywordflow">return</span> this.<a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#a7f1d39bc9157819c7eeff6ac6c5e4df3">ensemble</a>.clone();
<a name="l00463"></a>00463     }
<a name="l00464"></a>00464 
<a name="l00465"></a>00465     <span class="comment">//Perceptron</span>
<a name="l00466"></a><a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#aa1069f10863b5e26e3d5a3e37ff10e12">00466</a>     <span class="keyword">public</span> <a class="code" href="classmoa_1_1options_1_1FloatOption.html" title="Float option.">FloatOption</a> <a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#aa1069f10863b5e26e3d5a3e37ff10e12">learningRatioOption</a> = <span class="keyword">new</span> <a class="code" href="classmoa_1_1options_1_1FloatOption.html" title="Float option.">FloatOption</a>(<span class="stringliteral">&quot;learningRatio&quot;</span>, <span class="charliteral">&apos;e&apos;</span>, <span class="stringliteral">&quot;Learning ratio&quot;</span>, 1);
<a name="l00467"></a>00467 
<a name="l00468"></a><a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#aabb92217e9e849cd7fa84af984b1ba31">00468</a>     <span class="keyword">public</span> <a class="code" href="classmoa_1_1options_1_1FloatOption.html" title="Float option.">FloatOption</a> <a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#aabb92217e9e849cd7fa84af984b1ba31">penaltyFactorOption</a> = <span class="keyword">new</span> <a class="code" href="classmoa_1_1options_1_1FloatOption.html" title="Float option.">FloatOption</a>(<span class="stringliteral">&quot;lambda&quot;</span>, <span class="charliteral">&apos;p&apos;</span>, <span class="stringliteral">&quot;Lambda&quot;</span>, 0.0);
<a name="l00469"></a>00469 
<a name="l00470"></a><a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#a372d4ba5d48b18862e85569c250d74df">00470</a>     <span class="keyword">public</span> <a class="code" href="classmoa_1_1options_1_1IntOption.html" title="Int option.">IntOption</a> <a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#a372d4ba5d48b18862e85569c250d74df">initialNumInstancesOption</a> = <span class="keyword">new</span> <a class="code" href="classmoa_1_1options_1_1IntOption.html" title="Int option.">IntOption</a>(<span class="stringliteral">&quot;initialNumInstances&quot;</span>, <span class="charliteral">&apos;i&apos;</span>, <span class="stringliteral">&quot;initialNumInstances&quot;</span>, 10);
<a name="l00471"></a>00471 
<a name="l00472"></a><a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#adbac5086d045c02be6990948e3c7b1e3">00472</a>     <span class="keyword">protected</span> <span class="keywordtype">double</span>[][] <a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#adbac5086d045c02be6990948e3c7b1e3">weightAttribute</a>;
<a name="l00473"></a>00473 
<a name="l00474"></a><a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#afce580b9c50411835e2137342782a827">00474</a>     <span class="keyword">protected</span> <span class="keywordtype">boolean</span> <a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#afce580b9c50411835e2137342782a827">reset</a>;
<a name="l00475"></a>00475 
<a name="l00476"></a><a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#aed3caa25bc03466d8b5f88117221ee96">00476</a>     <span class="keyword">public</span> <span class="keywordtype">void</span> <a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#aed3caa25bc03466d8b5f88117221ee96">trainOnInstanceImplPerceptron</a>(<span class="keywordtype">int</span> numClasses, <span class="keywordtype">int</span> actualClass, <span class="keywordtype">double</span>[][] votes) {
<a name="l00477"></a>00477 
<a name="l00478"></a>00478         <span class="comment">//Init Perceptron</span>
<a name="l00479"></a>00479         <span class="keywordflow">if</span> (this.<a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#afce580b9c50411835e2137342782a827">reset</a> == <span class="keyword">true</span>) {
<a name="l00480"></a>00480             this.<a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#afce580b9c50411835e2137342782a827">reset</a> = <span class="keyword">false</span>;
<a name="l00481"></a>00481             this.<a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#adbac5086d045c02be6990948e3c7b1e3">weightAttribute</a> = <span class="keyword">new</span> <span class="keywordtype">double</span>[numClasses][votes.length];
<a name="l00482"></a>00482             <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; numClasses; i++) {
<a name="l00483"></a>00483                 <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; votes.length - 1; j++) {
<a name="l00484"></a>00484                     <a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#adbac5086d045c02be6990948e3c7b1e3">weightAttribute</a>[i][j] = 1.0 / (votes.length - 1.0);
<a name="l00485"></a>00485                 }
<a name="l00486"></a>00486             }
<a name="l00487"></a>00487             <a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#a313a2952c6a47e640167ca7ca399e783">numInstances</a> = <a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#a372d4ba5d48b18862e85569c250d74df">initialNumInstancesOption</a>.<a class="code" href="classmoa_1_1options_1_1IntOption.html#affae8787274b44ab7616d46b8d6c831a">getValue</a>();
<a name="l00488"></a>00488         }
<a name="l00489"></a>00489 
<a name="l00490"></a>00490         <span class="comment">// Weight decay</span>
<a name="l00491"></a>00491         <span class="keywordtype">double</span> learningRatio = <a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#aa1069f10863b5e26e3d5a3e37ff10e12">learningRatioOption</a>.<a class="code" href="classmoa_1_1options_1_1FloatOption.html#a0e606a62f4ece232aa8f8cb04bb7f1cf">getValue</a>() * 2.0 / (<a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#a313a2952c6a47e640167ca7ca399e783">numInstances</a> + (votes.length - 1) + 2.0);
<a name="l00492"></a>00492         <span class="keywordtype">double</span> lambda = <a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#aabb92217e9e849cd7fa84af984b1ba31">penaltyFactorOption</a>.<a class="code" href="classmoa_1_1options_1_1FloatOption.html#a0e606a62f4ece232aa8f8cb04bb7f1cf">getValue</a>();
<a name="l00493"></a>00493         <a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#a313a2952c6a47e640167ca7ca399e783">numInstances</a>++;
<a name="l00494"></a>00494 
<a name="l00495"></a>00495         <span class="keywordtype">double</span>[] preds = <span class="keyword">new</span> <span class="keywordtype">double</span>[numClasses];
<a name="l00496"></a>00496 
<a name="l00497"></a>00497         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; numClasses; i++) {
<a name="l00498"></a>00498             preds[i] = <a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#ab64ca607a59e7aed4dce66d114659b41">prediction</a>(votes, i);
<a name="l00499"></a>00499         }
<a name="l00500"></a>00500         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; numClasses; i++) {
<a name="l00501"></a>00501             <span class="keywordtype">double</span> actual = (i == actualClass) ? 1.0 : 0.0;
<a name="l00502"></a>00502             <span class="keywordtype">double</span> delta = (actual - preds[i]) * preds[i] * (1 - preds[i]);
<a name="l00503"></a>00503             <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; this.<a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#a7f1d39bc9157819c7eeff6ac6c5e4df3">ensemble</a>.length; j++) {
<a name="l00504"></a>00504                 this.<a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#adbac5086d045c02be6990948e3c7b1e3">weightAttribute</a>[i][j] += learningRatio * (delta * votes[j][i] - lambda * this.<a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#adbac5086d045c02be6990948e3c7b1e3">weightAttribute</a>[i][j]);
<a name="l00505"></a>00505             }
<a name="l00506"></a>00506             this.<a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#adbac5086d045c02be6990948e3c7b1e3">weightAttribute</a>[i][this.<a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#a7f1d39bc9157819c7eeff6ac6c5e4df3">ensemble</a>.length] += learningRatio * delta;
<a name="l00507"></a>00507         }
<a name="l00508"></a>00508     }
<a name="l00509"></a>00509 
<a name="l00510"></a><a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#a5ef8c3bbd3b05831db20ad0c10ae8f8a">00510</a>     <span class="keyword">public</span> <span class="keywordtype">double</span> <a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#a5ef8c3bbd3b05831db20ad0c10ae8f8a">predictionPruning</a>(<span class="keywordtype">double</span>[][] votes, <span class="keywordtype">int</span>[] bestClassifiers, <span class="keywordtype">int</span> classVal) {
<a name="l00511"></a>00511         <span class="keywordtype">double</span> sum = 0.0;
<a name="l00512"></a>00512         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; votes.length - 1; i++) {
<a name="l00513"></a>00513             sum += (double) <a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#adbac5086d045c02be6990948e3c7b1e3">weightAttribute</a>[classVal][bestClassifiers[i]] * votes[i][classVal];
<a name="l00514"></a>00514         }
<a name="l00515"></a>00515         sum += <a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#adbac5086d045c02be6990948e3c7b1e3">weightAttribute</a>[classVal][votes.length - 1];
<a name="l00516"></a>00516         <span class="keywordflow">return</span> 1.0 / (1.0 + Math.exp(-sum));
<a name="l00517"></a>00517     }
<a name="l00518"></a>00518 
<a name="l00519"></a><a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#ab64ca607a59e7aed4dce66d114659b41">00519</a>     <span class="keyword">public</span> <span class="keywordtype">double</span> <a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#ab64ca607a59e7aed4dce66d114659b41">prediction</a>(<span class="keywordtype">double</span>[][] votes, <span class="keywordtype">int</span> classVal) {
<a name="l00520"></a>00520         <span class="keywordtype">double</span> sum = 0.0;
<a name="l00521"></a>00521         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; votes.length - 1; i++) {
<a name="l00522"></a>00522             sum += (double) <a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#adbac5086d045c02be6990948e3c7b1e3">weightAttribute</a>[classVal][i] * votes[i][classVal];
<a name="l00523"></a>00523         }
<a name="l00524"></a>00524         sum += <a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#adbac5086d045c02be6990948e3c7b1e3">weightAttribute</a>[classVal][votes.length - 1];
<a name="l00525"></a>00525         <span class="keywordflow">return</span> 1.0 / (1.0 + Math.exp(-sum));
<a name="l00526"></a>00526     }
<a name="l00527"></a>00527 
<a name="l00528"></a><a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#a06963696d002ed171ebf2839f5f42bf6">00528</a>     <span class="keyword">public</span> <span class="keywordtype">double</span>[] <a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#a06963696d002ed171ebf2839f5f42bf6">getVotesForInstancePerceptron</a>(<span class="keywordtype">double</span>[][] votesEnsemble, <span class="keywordtype">int</span>[] bestClassifiers, <span class="keywordtype">int</span> numClasses) {
<a name="l00529"></a>00529         <span class="keywordtype">double</span>[] votes = <span class="keyword">new</span> <span class="keywordtype">double</span>[numClasses];
<a name="l00530"></a>00530         <span class="keywordflow">if</span> (this.<a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#afce580b9c50411835e2137342782a827">reset</a> == <span class="keyword">false</span>) {
<a name="l00531"></a>00531             <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; votes.length; i++) {
<a name="l00532"></a>00532                 votes[i] = <a class="code" href="classmoa_1_1classifiers_1_1meta_1_1LimAttClassifier.html#a5ef8c3bbd3b05831db20ad0c10ae8f8a">predictionPruning</a>(votesEnsemble, bestClassifiers, i);
<a name="l00533"></a>00533             }
<a name="l00534"></a>00534         }
<a name="l00535"></a>00535         <span class="keywordflow">return</span> votes;
<a name="l00536"></a>00536 
<a name="l00537"></a>00537     }
<a name="l00538"></a>00538 }
</pre></div></div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&nbsp;</span>Enumerations</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr size="1"/><address style="text-align: right;"><small>Generated on 26 Nov 2014 for MOA by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
