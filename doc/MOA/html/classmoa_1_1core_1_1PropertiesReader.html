<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>MOA: moa.core.PropertiesReader Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.6.1 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="namespaces.html"><span>Packages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <img id="MSearchSelect" src="search/search.png"
             onmouseover="return searchBox.OnSearchSelectShow()"
             onmouseout="return searchBox.OnSearchSelectHide()"
             alt=""/>
        <input type="text" id="MSearchField" value="Search" accesskey="S"
             onfocus="searchBox.OnSearchFieldFocus(true)" 
             onblur="searchBox.OnSearchFieldFocus(false)" 
             onkeyup="searchBox.OnSearchFieldChange(event)"/>
        <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="classes.html"><span>Class&nbsp;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="namespacemoa.html">moa</a>.<a class="el" href="namespacemoa_1_1core.html">core</a>.<a class="el" href="classmoa_1_1core_1_1PropertiesReader.html">PropertiesReader</a>
  </div>
</div>
<div class="contents">
<h1>moa.core.PropertiesReader Class Reference</h1><!-- doxytag: class="moa::core::PropertiesReader" -->
<p>Class implementing some properties reader utility methods.  
<a href="#_details">More...</a></p>

<p><a href="classmoa_1_1core_1_1PropertiesReader-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static Properties&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmoa_1_1core_1_1PropertiesReader.html#ac73567adb3417174ec54948d6034fecf">readProperties</a> (String resourceName)  throws Exception </td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Reads properties that inherit from three locations.  <a href="#ac73567adb3417174ec54948d6034fecf"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Class implementing some properties reader utility methods. </p>
<dl class="author"><dt><b>Author:</b></dt><dd>Eibe Frank </dd>
<dd>
Yong Wang </dd>
<dd>
Len Trigg </dd>
<dd>
Julien Prados </dd></dl>
<dl class="version"><dt><b>Version:</b></dt><dd></dd></dl>
<dl class="rcs"><dt><b>Revision</b></dt><dd>6681 </dd></dl>

<p>Definition at line <a class="el" href="PropertiesReader_8java_source.html#l00038">38</a> of file <a class="el" href="PropertiesReader_8java_source.html">PropertiesReader.java</a>.</p>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="ac73567adb3417174ec54948d6034fecf"></a><!-- doxytag: member="moa::core::PropertiesReader::readProperties" ref="ac73567adb3417174ec54948d6034fecf" args="(String resourceName)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static Properties moa.core.PropertiesReader.readProperties </td>
          <td>(</td>
          <td class="paramtype">String&nbsp;</td>
          <td class="paramname"> <em>resourceName</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td>  throws Exception <code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reads properties that inherit from three locations. </p>
<p>Properties are first defined in the system resource location (i.e. in the CLASSPATH). These default properties must exist. Properties defined in the users home directory (optional) override default settings. Properties defined in the current directory (optional) override all these settings.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>resourceName</em>&nbsp;</td><td>the location of the resource that should be loaded. e.g.: "weka/core/Utils.props". (The use of hardcoded forward slashes here is OK - see jdk1.1/docs/guide/misc/resources.html) This routine will also look for the file (in this case) "Utils.props" in the users home directory and the current directory. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the Properties </dd></dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Exception</em>&nbsp;</td><td>if no default properties are defined, or if an error occurs reading the properties files. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="PropertiesReader_8java_source.html#l00058">58</a> of file <a class="el" href="PropertiesReader_8java_source.html">PropertiesReader.java</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00059"></a>00059                              {
<a name="l00060"></a>00060 
<a name="l00061"></a>00061         Properties defaultProps = <span class="keyword">new</span> Properties();
<a name="l00062"></a>00062         <span class="keywordflow">try</span> {
<a name="l00063"></a>00063             <span class="comment">// Apparently hardcoded slashes are OK here</span>
<a name="l00064"></a>00064             <span class="comment">// jdk1.1/docs/guide/misc/resources.html</span>
<a name="l00065"></a>00065             <span class="comment">//      defaultProps.load(ClassLoader.getSystemResourceAsStream(resourceName));</span>
<a name="l00066"></a>00066             defaultProps.load((<span class="keyword">new</span> Utils()).getClass().getClassLoader().getResourceAsStream(resourceName));
<a name="l00067"></a>00067         } <span class="keywordflow">catch</span> (Exception ex) {
<a name="l00068"></a>00068             <span class="comment">/*      throw new Exception(&quot;Problem reading default properties: &quot;</span>
<a name="l00069"></a>00069 <span class="comment">            + ex.getMessage()); */</span>
<a name="l00070"></a>00070             System.err.println(<span class="stringliteral">&quot;Warning, unable to load properties file from &quot;</span>
<a name="l00071"></a>00071                     + <span class="stringliteral">&quot;system resource (Utils.java)&quot;</span>);
<a name="l00072"></a>00072         }
<a name="l00073"></a>00073 
<a name="l00074"></a>00074         <span class="comment">// Hardcoded slash is OK here</span>
<a name="l00075"></a>00075         <span class="comment">// eg: see jdk1.1/docs/guide/misc/resources.html</span>
<a name="l00076"></a>00076         <span class="keywordtype">int</span> slInd = resourceName.lastIndexOf(<span class="charliteral">&apos;/&apos;</span>);
<a name="l00077"></a>00077         <span class="keywordflow">if</span> (slInd != -1) {
<a name="l00078"></a>00078             resourceName = resourceName.substring(slInd + 1);
<a name="l00079"></a>00079         }
<a name="l00080"></a>00080 
<a name="l00081"></a>00081         <span class="comment">// Allow a properties file in the home directory to override</span>
<a name="l00082"></a>00082         Properties userProps = <span class="keyword">new</span> Properties(defaultProps);
<a name="l00083"></a>00083         File propFile = <span class="keyword">new</span> File(System.getProperties().getProperty(<span class="stringliteral">&quot;user.home&quot;</span>)
<a name="l00084"></a>00084                 + File.separatorChar
<a name="l00085"></a>00085                 + resourceName);
<a name="l00086"></a>00086         <span class="keywordflow">if</span> (propFile.exists()) {
<a name="l00087"></a>00087             <span class="keywordflow">try</span> {
<a name="l00088"></a>00088                 userProps.load(<span class="keyword">new</span> FileInputStream(propFile));
<a name="l00089"></a>00089             } <span class="keywordflow">catch</span> (Exception ex) {
<a name="l00090"></a>00090                 <span class="keywordflow">throw</span> <span class="keyword">new</span> Exception(<span class="stringliteral">&quot;Problem reading user properties: &quot;</span> + propFile);
<a name="l00091"></a>00091             }
<a name="l00092"></a>00092         }
<a name="l00093"></a>00093 
<a name="l00094"></a>00094         <span class="comment">// Allow a properties file in the current directory to override</span>
<a name="l00095"></a>00095         Properties localProps = <span class="keyword">new</span> Properties(userProps);
<a name="l00096"></a>00096         propFile = <span class="keyword">new</span> File(resourceName);
<a name="l00097"></a>00097         <span class="keywordflow">if</span> (propFile.exists()) {
<a name="l00098"></a>00098             <span class="keywordflow">try</span> {
<a name="l00099"></a>00099                 localProps.load(<span class="keyword">new</span> FileInputStream(propFile));
<a name="l00100"></a>00100             } <span class="keywordflow">catch</span> (Exception ex) {
<a name="l00101"></a>00101                 <span class="keywordflow">throw</span> <span class="keyword">new</span> Exception(<span class="stringliteral">&quot;Problem reading local properties: &quot;</span> + propFile);
<a name="l00102"></a>00102             }
<a name="l00103"></a>00103         }
<a name="l00104"></a>00104 
<a name="l00105"></a>00105         <span class="keywordflow">return</span> localProps;
<a name="l00106"></a>00106     }
</pre></div></p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>main/java/moa/core/<a class="el" href="PropertiesReader_8java_source.html">PropertiesReader.java</a></li>
</ul>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&nbsp;</span>Enumerations</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr size="1"/><address style="text-align: right;"><small>Generated on 26 Nov 2014 for MOA by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
